# YoForex Production Environment Variables
# Copy this file to .env.production and fill in your actual values

# ==========================================
# NODE ENVIRONMENT
# ==========================================
NODE_ENV=production

# ==========================================
# SERVER PORTS
# ==========================================
# Next.js Frontend Port (user-facing via NGINX)
PORT=3000

# Express API Port (internal only)
API_PORT=3001

# ==========================================
# PUBLIC URLs ⚠️ CRITICAL CONFIGURATION
# ==========================================
# ⚠️ CRITICAL - REQUIRED IN PRODUCTION ⚠️
# Your production domain (used in metadata, OG tags, canonical URLs)
# The application will FAIL TO START without this in production
# Production Domain: https://yoforex.net
NEXT_PUBLIC_SITE_URL=https://yoforex.net

# ⚠️ CRITICAL - REQUIRED IN PRODUCTION ⚠️
# Express API URL (for server-side requests - internal localhost)
# The application will FAIL TO START without this in production
# For VPS: Use http://127.0.0.1:3001 (internal communication)
# For single-server: Use https://yourdomain.com (external URL)
# Note: Client-side uses relative URLs (/api/*) via Next.js rewrites
EXPRESS_URL=http://127.0.0.1:3001

# ==========================================
# ALLOWED ORIGINS (for CORS and Server Actions)
# ==========================================
# Comma-separated list of additional allowed origins
ALLOWED_ORIGINS=yoforex.net,www.yoforex.net

# ==========================================
# DATABASE
# ==========================================
# PostgreSQL connection string (Neon, AWS RDS, etc.)
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://user:password@your-db-host.com:5432/yoforex?sslmode=require

# ==========================================
# SESSION & SECURITY
# ==========================================
# Strong random string for session encryption (generate with: openssl rand -base64 32)
SESSION_SECRET=your-super-secret-session-key-change-this

# ==========================================
# AUTHENTICATION (Replit Auth)
# ==========================================
# Get these from: https://replit.com/account (OAuth Apps)
REPLIT_CLIENT_ID=your-replit-client-id
REPLIT_CLIENT_SECRET=your-replit-client-secret

# ==========================================
# PAYMENT PROCESSING (Stripe)
# ==========================================
# Stripe API keys (get from: https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLIC_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# ==========================================
# EMAIL SERVICE (Brevo/SendinBlue)
# ==========================================
# Brevo API key (get from: https://app.brevo.com/settings/keys/api)
BREVO_API_KEY=xkeysib-xxxxxxxxxxxxxxxxxxxxx

# Sender email (must be verified in Brevo)
BREVO_SENDER_EMAIL=noreply@yoforex.net
BREVO_SENDER_NAME=YoForex

# ==========================================
# FEATURE FLAGS (optional)
# ==========================================
# Enable/disable IP-based geolocation
GEOLOCALE_ENABLED=false

# Enable/disable email notifications
EMAIL_NOTIFICATIONS_ENABLED=true

# ==========================================
# MONITORING & LOGGING (optional)
# ==========================================
# Sentry DSN for error tracking
SENTRY_DSN=

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# ==========================================
# RATE LIMITING (optional - overrides defaults)
# ==========================================
# General API rate limit (requests per minute)
RATE_LIMIT_GENERAL=100

# Write operations rate limit
RATE_LIMIT_WRITE=30

# Authentication rate limit
RATE_LIMIT_AUTH=10

# ==========================================
# CACHE & PERFORMANCE (optional)
# ==========================================
# Redis URL for session store (optional, falls back to PostgreSQL)
REDIS_URL=redis://localhost:6379

# Enable/disable cache
CACHE_ENABLED=true

# ==========================================
# FILE UPLOADS (optional)
# ==========================================
# Max file upload size in MB
MAX_UPLOAD_SIZE=20

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.gif,.pdf,.zip,.mq4,.mq5,.ex4,.ex5

# ==========================================
# ANALYTICS (optional)
# ==========================================
# Google Analytics ID
GA_TRACKING_ID=

# ==========================================
# DEVELOPMENT OVERRIDES (local testing only)
# ==========================================
# Uncomment these for local development with production build
# PORT=3000
# API_PORT=3001
# EXPRESS_URL=http://localhost:3001
# NEXT_PUBLIC_SITE_URL=http://localhost:3000
# NEXT_PUBLIC_EXPRESS_URL=http://localhost:3000
