{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/lib/api-config.ts"],"sourcesContent":["/**\n * Centralized API Configuration\n * \n * This module provides runtime URL resolution for API calls across the application.\n * It eliminates hardcoded localhost URLs and uses environment variables for flexibility.\n * \n * Architecture:\n * - Development: Next.js (3000) + Express (3001)\n * - Production VPS: NGINX proxy (80/443) ‚Üí Next.js (3000) + Express (3001)\n * - Production Replit: Single Next.js server (5000) with API routes\n */\n\n/**\n * Environment variable validation\n * Ensures required configuration is present at runtime\n * \n * PRODUCTION SAFETY: Throws errors for missing critical variables\n * DEVELOPMENT: Allows fallbacks with warnings\n */\nfunction validateEnv() {\n  const isProduction = process.env.NODE_ENV === 'production';\n\n  if (typeof window === 'undefined') {\n    // Server-side: require EXPRESS_URL in production\n    if (!process.env.EXPRESS_URL) {\n      if (isProduction) {\n        throw new Error(\n          'üö® CRITICAL: EXPRESS_URL environment variable is required in production.\\n' +\n          'Please set it in your .env.production file.\\n' +\n          'Example: EXPRESS_URL=http://127.0.0.1:3001\\n' +\n          'For VPS deployment, see: VPS_DEPLOYMENT_GUIDE.md'\n        );\n      } else {\n        console.warn(\n          '‚ö†Ô∏è  EXPRESS_URL not set, using development fallback: http://127.0.0.1:3001'\n        );\n      }\n    }\n  }\n\n  // NEXT_PUBLIC_SITE_URL is required in production for SEO, OG tags, canonical URLs\n  if (!process.env.NEXT_PUBLIC_SITE_URL) {\n    if (isProduction) {\n      throw new Error(\n        'üö® CRITICAL: NEXT_PUBLIC_SITE_URL environment variable is required in production.\\n' +\n        'Please set it in your .env.production file.\\n' +\n        'Example: NEXT_PUBLIC_SITE_URL=https://yourdomain.com\\n' +\n        'This is used for SEO metadata, Open Graph tags, and canonical URLs.'\n      );\n    } else {\n      console.warn(\n        '‚ö†Ô∏è  NEXT_PUBLIC_SITE_URL not set, using development fallback: http://localhost:3000'\n      );\n    }\n  }\n}\n\n// Run validation on module load\nvalidateEnv();\n\n/**\n * Get the API base URL for client-side requests\n * \n * @returns API base URL accessible from the browser\n * \n * Client-side behavior:\n * - Always returns empty string '' (uses relative URLs)\n * - Next.js rewrites handle /api/* ‚Üí Express server routing\n * - No need for absolute URLs on client-side\n * \n * Server-side behavior:\n * - Returns internal API URL (e.g., http://127.0.0.1:3001)\n * - Used for server-to-server communication\n * \n * Usage in client components:\n * ```typescript\n * const apiUrl = getApiBaseUrl();\n * fetch(`${apiUrl}/api/stats`);  // Becomes: fetch('/api/stats')\n * ```\n */\nexport function getApiBaseUrl(): string {\n  // Client-side: use relative URLs (NGINX/Next.js rewrites handle routing)\n  if (typeof window !== 'undefined') {\n    return '';\n  }\n\n  // Server-side: Use getInternalApiUrl which has production safety checks\n  return getInternalApiUrl();\n}\n\n/**\n * Get the internal API URL for server-side requests\n * \n * @returns Internal API URL for server-to-server communication\n * \n * Usage in server components:\n * ```typescript\n * const apiUrl = getInternalApiUrl();\n * const response = await fetch(`${apiUrl}/api/stats`);\n * ```\n */\nexport function getInternalApiUrl(): string {\n  // Server-side only\n  if (typeof window !== 'undefined') {\n    throw new Error('getInternalApiUrl() can only be called server-side');\n  }\n\n  const isProduction = process.env.NODE_ENV === 'production';\n  const url = process.env.EXPRESS_URL;\n  \n  if (!url) {\n    if (isProduction) {\n      throw new Error(\n        'EXPRESS_URL must be set in production. ' +\n        'This is a critical configuration error that will prevent server-side API calls from working.'\n      );\n    }\n    // Development fallback only\n    const fallback = 'http://127.0.0.1:3001';\n    console.log(`[API Config] Using development fallback: ${fallback}`);\n    return fallback;\n  }\n  \n  console.log(`[API Config] Internal API URL: ${url}`);\n  return url;\n}\n\n/**\n * Get the public site URL\n * \n * @returns Public-facing site URL (for SEO, OG tags, etc.)\n * \n * Usage:\n * ```typescript\n * const siteUrl = getSiteUrl();\n * const canonical = `${siteUrl}/thread/${slug}`;\n * ```\n */\nexport function getSiteUrl(): string {\n  const isProduction = process.env.NODE_ENV === 'production';\n  const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || process.env.VERCEL_URL;\n  \n  if (!siteUrl) {\n    if (isProduction) {\n      throw new Error(\n        'NEXT_PUBLIC_SITE_URL must be set in production. ' +\n        'This is required for SEO, canonical URLs, and Open Graph tags.'\n      );\n    }\n    // Development fallback\n    return 'http://localhost:3000';\n  }\n  \n  return siteUrl;\n}\n\n/**\n * Build a full API URL with path\n * \n * @param path - API endpoint path (e.g., '/api/stats')\n * @returns Full API URL\n * \n * Usage:\n * ```typescript\n * const url = buildApiUrl('/api/stats');\n * const response = await fetch(url);\n * ```\n */\nexport function buildApiUrl(path: string): string {\n  const base = getApiBaseUrl();\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  return base ? `${base}${cleanPath}` : cleanPath;\n}\n\n/**\n * Configuration object for easy access\n */\nexport const apiConfig = {\n  /**\n   * API base URL (client or server appropriate)\n   */\n  baseUrl: getApiBaseUrl(),\n\n  /**\n   * Public site URL\n   */\n  siteUrl: getSiteUrl(),\n\n  /**\n   * Whether we're in production mode\n   */\n  isProduction: process.env.NODE_ENV === 'production',\n\n  /**\n   * Whether we're in development mode\n   */\n  isDevelopment: process.env.NODE_ENV === 'development',\n\n  /**\n   * Express API URL (server-side only)\n   */\n  get expressUrl(): string {\n    if (typeof window !== 'undefined') {\n      throw new Error('expressUrl is only available server-side');\n    }\n    return getInternalApiUrl();\n  },\n} as const;\n\n/**\n * Type-safe environment variable access\n * \n * Note: NEXT_PUBLIC_EXPRESS_URL is not included as client-side code\n * uses relative URLs (/api/*) which are handled by Next.js rewrites.\n */\nexport const env = {\n  // Server-side only\n  EXPRESS_URL: process.env.EXPRESS_URL,\n  DATABASE_URL: process.env.DATABASE_URL,\n  SESSION_SECRET: process.env.SESSION_SECRET,\n\n  // Public (client-accessible)\n  NEXT_PUBLIC_SITE_URL: process.env.NEXT_PUBLIC_SITE_URL,\n\n  // Node environment\n  NODE_ENV: process.env.NODE_ENV,\n} as const;\n\n// Export helper for debugging\nexport function debugConfig() {\n  if (typeof window === 'undefined') {\n    console.log('üîß API Configuration (Server-side):');\n    console.log('  - Express URL:', env.EXPRESS_URL || 'NOT SET (using fallback)');\n    console.log('  - Site URL:', getSiteUrl());\n    console.log('  - API Base:', getApiBaseUrl());\n  } else {\n    console.log('üîß API Configuration (Client-side):');\n    console.log('  - Site URL:', env.NEXT_PUBLIC_SITE_URL || 'NOT SET');\n    console.log('  - API Base:', getApiBaseUrl());\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;CAUC,GAED;;;;;;CAMC;;;;;;;;;;;;;;;;AAEsB;AADvB,SAAS;IACP,MAAM,eAAe,oDAAyB;IAE9C;;IAkBA,kFAAkF;IAClF;;AAcF;AAEA,gCAAgC;AAChC;AAsBO,SAAS;IACd,yEAAyE;IACzE,wCAAmC;QACjC,OAAO;IACT;;;AAIF;AAaO,SAAS;IACd,mBAAmB;IACnB,wCAAmC;QACjC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,eAAe,oDAAyB;IAC9C,MAAM;IAEN;;IAaA,QAAQ,GAAG,CAAC,CAAC,+BAA+B,EAAE,KAAK;IACnD,OAAO;AACT;AAaO,SAAS;IACd,MAAM,eAAe,oDAAyB;IAC9C,MAAM,UAAU,6DAAoC,2KAAO,CAAC,GAAG,CAAC,UAAU;IAE1E;;IAWA,OAAO;AACT;AAcO,SAAS,YAAY,IAAY;IACtC,MAAM,OAAO;IACb,MAAM,YAAY,KAAK,UAAU,CAAC,OAAO,OAAO,CAAC,CAAC,EAAE,MAAM;IAC1D,OAAO,OAAO,GAAG,OAAO,WAAW,GAAG;AACxC;AAKO,MAAM,YAAY;IACvB;;GAEC,GACD,SAAS;IAET;;GAEC,GACD,SAAS;IAET;;GAEC,GACD,cAAc,oDAAyB;IAEvC;;GAEC,GACD,eAAe,oDAAyB;IAExC;;GAEC,GACD,IAAI,cAAqB;QACvB,wCAAmC;YACjC,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT;AACF;AAQO,MAAM,MAAM;IACjB,mBAAmB;IACnB,WAAW;IACX,cAAc,2KAAO,CAAC,GAAG,CAAC,YAAY;IACtC,gBAAgB,2KAAO,CAAC,GAAG,CAAC,cAAc;IAE1C,6BAA6B;IAC7B,oBAAoB;IAEpB,mBAAmB;IACnB,QAAQ;AACV;AAGO,SAAS;IACd;;SAKO;QACL,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,iBAAiB,IAAI,oBAAoB,IAAI;QACzD,QAAQ,GAAG,CAAC,iBAAiB;IAC/B;AACF","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/lib/queryClient.ts"],"sourcesContent":["import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\nimport { getApiBaseUrl, buildApiUrl } from \"./api-config\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  // Use centralized API config (no hardcoded URLs)\n  const fullUrl = url.startsWith('http') ? url : buildApiUrl(url);\n  \n  const res = await fetch(fullUrl, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n  baseUrl?: string;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior, baseUrl }) =>\n  async ({ queryKey }) => {\n    const url = baseUrl \n      ? `${baseUrl}${queryKey.join(\"/\")}`\n      : queryKey.join(\"/\");\n    \n    const res = await fetch(url as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\n// Use centralized API config (no hardcoded URLs)\nconst EXPRESS_API_URL = getApiBaseUrl();\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\", baseUrl: EXPRESS_API_URL }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,eAAe,gBAAgB,GAAa;IAC1C,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,AAAC,MAAM,IAAI,IAAI,MAAO,IAAI,UAAU;QACjD,MAAM,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,EAAE,MAAM;IAC1C;AACF;AAEO,eAAe,WACpB,MAAc,EACd,GAAW,EACX,IAA0B;IAE1B,iDAAiD;IACjD,MAAM,UAAU,IAAI,UAAU,CAAC,UAAU,MAAM,IAAA,6IAAW,EAAC;IAE3D,MAAM,MAAM,MAAM,MAAM,SAAS;QAC/B;QACA,SAAS,OAAO;YAAE,gBAAgB;QAAmB,IAAI,CAAC;QAC1D,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACpC,aAAa;IACf;IAEA,MAAM,gBAAgB;IACtB,OAAO;AACT;AAGO,MAAM,aAIX,CAAC,EAAE,OAAO,oBAAoB,EAAE,OAAO,EAAE,GACzC,OAAO,EAAE,QAAQ,EAAE;QACjB,MAAM,MAAM,UACR,GAAG,UAAU,SAAS,IAAI,CAAC,MAAM,GACjC,SAAS,IAAI,CAAC;QAElB,MAAM,MAAM,MAAM,MAAM,KAAe;YACrC,aAAa;QACf;QAEA,IAAI,yBAAyB,gBAAgB,IAAI,MAAM,KAAK,KAAK;YAC/D,OAAO;QACT;QAEA,MAAM,gBAAgB;QACtB,OAAO,MAAM,IAAI,IAAI;IACvB;AAEF,iDAAiD;AACjD,MAAM,kBAAkB,IAAA,+IAAa;AAE9B,MAAM,cAAc,IAAI,+LAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,SAAS,WAAW;gBAAE,OAAO;gBAAS,SAAS;YAAgB;YAC/D,iBAAiB;YACjB,sBAAsB;YACtB,WAAW;YACX,OAAO;QACT;QACA,WAAW;YACT,OAAO;QACT;IACF;AACF","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/contexts/ThemeContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: ReactNode }) {\n  const [theme, setTheme] = useState<Theme>(\"light\");\n  const [mounted, setMounted] = useState(false);\n\n  // Hydration-safe: Only read localStorage after component mounts\n  useEffect(() => {\n    setMounted(true);\n    const stored = localStorage.getItem(\"theme\");\n    if (stored === \"light\" || stored === \"dark\") {\n      setTheme(stored);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) return;\n    \n    const root = document.documentElement;\n    root.classList.remove(\"light\", \"dark\");\n    root.classList.add(theme);\n    localStorage.setItem(\"theme\", theme);\n  }, [theme, mounted]);\n\n  const toggleTheme = () => {\n    setTheme((prev) => (prev === \"light\" ? \"dark\" : \"light\"));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error(\"useTheme must be used within ThemeProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAWA,MAAM,6BAAe,IAAA,8KAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAA2B;;IACjE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,gEAAgE;IAChE,IAAA,0KAAS;mCAAC;YACR,WAAW;YACX,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,WAAW,WAAW,WAAW,QAAQ;gBAC3C,SAAS;YACX;QACF;kCAAG,EAAE;IAEL,IAAA,0KAAS;mCAAC;YACR,IAAI,CAAC,SAAS;YAEd,MAAM,OAAO,SAAS,eAAe;YACrC,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;YAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;YACnB,aAAa,OAAO,CAAC,SAAS;QAChC;kCAAG;QAAC;QAAO;KAAQ;IAEnB,MAAM,cAAc;QAClB,SAAS,CAAC,OAAU,SAAS,UAAU,SAAS;IAClD;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;GA/BgB;KAAA;AAiCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, ReactNode } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getQueryFn } from \"@/lib/queryClient\";\nimport type { User } from \"../../shared/schema\";\n\ninterface AuthContextType {\n  user: User | null | undefined;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  login: () => void;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within AuthProvider\");\n  }\n  return context;\n}\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  // Use relative URLs for API calls (Next.js will rewrite to Express)\n  const { data: user, isLoading } = useQuery<User | null>({\n    queryKey: [\"/api/me\"],\n    queryFn: getQueryFn({ on401: \"returnNull\" }),\n    retry: false,\n    refetchOnWindowFocus: true,\n    staleTime: 5 * 60 * 1000,\n  });\n\n  const login = () => {\n    window.location.href = \"/api/login\";\n  };\n\n  const logout = async () => {\n    try {\n      await fetch(\"/api/logout\", {\n        method: \"POST\",\n        credentials: \"include\",\n      });\n      window.location.href = \"/\";\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n      window.location.href = \"/\";\n    }\n  };\n\n  const isAuthenticated = user !== null && user !== undefined;\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isLoading,\n        isAuthenticated,\n        login,\n        logout,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;AAJA;;;;AAeA,MAAM,4BAAc,IAAA,8KAAa,EAAyB;AAEnD,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANgB;AAYT,SAAS,aAAa,EAAE,QAAQ,EAAqB;;IAC1D,oEAAoE;IACpE,MAAM,EAAE,MAAM,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,0LAAQ,EAAc;QACtD,UAAU;YAAC;SAAU;QACrB,SAAS,IAAA,0IAAU,EAAC;YAAE,OAAO;QAAa;QAC1C,OAAO;QACP,sBAAsB;QACtB,WAAW,IAAI,KAAK;IACtB;IAEA,MAAM,QAAQ;QACZ,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,MAAM,eAAe;gBACzB,QAAQ;gBACR,aAAa;YACf;YACA,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IAEA,MAAM,kBAAkB,SAAS,QAAQ,SAAS;IAElD,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;IA1CgB;;QAEoB,0LAAQ;;;KAF5B","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,kLAAyB;AAEjD,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,+BAAiB,2KAAgB,MAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,iLAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,IAAA,4HAAE,EACX,wbACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/hooks/use-toast.ts"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ui/toast.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,gBAAgB,gLAAwB;AAE9C,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,gLAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,4KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,4KAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,oMAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,2KAAgB,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,mLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ui/toaster.tsx"],"sourcesContent":["import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AASO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,2IAAQ;IAE3B,qBACE,6LAAC,qJAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,6IAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,kJAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,wJAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,kJAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,qJAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,2IAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/hooks/useActivityTracker.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { apiRequest, queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\n\nconst ACTIVITY_CHECK_INTERVAL = 5 * 60 * 1000; // 5 minutes\nconst INACTIVITY_THRESHOLD = 30 * 1000; // 30 seconds\n\nexport function useActivityTracker(enabled = true) {\n  const { toast } = useToast();\n  const [isActive, setIsActive] = useState(false);\n  const [activeTime, setActiveTime] = useState(0);\n  const lastActivityRef = useRef<number>(Date.now());\n  const startTimeRef = useRef<number>(Date.now());\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Track activity mutation (SECURE VERSION - no client-supplied minutes)\n  // Server calculates elapsed time from session timestamps to prevent coin farming\n  const trackMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest<{success: boolean, coinsEarned: number, totalMinutes: number}>('/api/activity/track', {\n        method: 'POST',\n        body: {} // Empty body - server uses session timestamps to calculate elapsed time\n      });\n    },\n    onSuccess: (data: any) => {\n      if (data.coinsEarned > 0) {\n        toast({\n          title: 'ü™ô Coins Earned!',\n          description: `You earned ${data.coinsEarned} coins for being active!`,\n        });\n      }\n      \n      if (data.dailyLimit) {\n        toast({\n          title: '‚è±Ô∏è Daily Limit Reached',\n          description: 'You\\'ve reached your maximum activity earnings for today (50 coins).',\n          variant: 'default',\n        });\n      }\n      \n      // Invalidate activity query to refresh stats\n      queryClient.invalidateQueries({ queryKey: ['/api/activity/today'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/user', 'me', 'coins'] });\n    },\n  });\n\n  // Record activity event\n  const recordActivity = () => {\n    lastActivityRef.current = Date.now();\n    if (!isActive) {\n      setIsActive(true);\n      startTimeRef.current = Date.now();\n    }\n  };\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    // Activity event listeners\n    const events = ['mousemove', 'click', 'scroll', 'keypress', 'touchstart'];\n    events.forEach((event) => {\n      window.addEventListener(event, recordActivity, { passive: true });\n    });\n\n    // Check activity status every second\n    const checkInterval = setInterval(() => {\n      const timeSinceLastActivity = Date.now() - lastActivityRef.current;\n      \n      if (timeSinceLastActivity > INACTIVITY_THRESHOLD) {\n        // User is inactive\n        if (isActive) {\n          setIsActive(false);\n          setActiveTime(0);\n        }\n      } else {\n        // User is active - increment counter\n        if (isActive) {\n          const elapsed = Date.now() - startTimeRef.current;\n          setActiveTime(elapsed);\n        }\n      }\n    }, 1000);\n\n    // Send heartbeat every 5 minutes if active\n    intervalRef.current = setInterval(() => {\n      const timeSinceLastActivity = Date.now() - lastActivityRef.current;\n      \n      if (timeSinceLastActivity < INACTIVITY_THRESHOLD) {\n        // User has been active in the last 30 seconds\n        trackMutation.mutate();\n        startTimeRef.current = Date.now();\n        setActiveTime(0);\n      }\n    }, ACTIVITY_CHECK_INTERVAL);\n\n    return () => {\n      events.forEach((event) => {\n        window.removeEventListener(event, recordActivity);\n      });\n      clearInterval(checkInterval);\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [enabled, isActive]);\n\n  return {\n    isActive,\n    activeTime: Math.floor(activeTime / 1000), // Convert to seconds\n    isTracking: enabled,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,0BAA0B,IAAI,KAAK,MAAM,YAAY;AAC3D,MAAM,uBAAuB,KAAK,MAAM,aAAa;AAE9C,SAAS,mBAAmB,UAAU,IAAI;;IAC/C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,kBAAkB,IAAA,uKAAM,EAAS,KAAK,GAAG;IAC/C,MAAM,eAAe,IAAA,uKAAM,EAAS,KAAK,GAAG;IAC5C,MAAM,cAAc,IAAA,uKAAM,EAAwB;IAElD,wEAAwE;IACxE,iFAAiF;IACjF,MAAM,gBAAgB,IAAA,gMAAW,EAAC;QAChC,UAAU;6DAAE;gBACV,OAAO,IAAA,0IAAU,EAAgE,uBAAuB;oBACtG,QAAQ;oBACR,MAAM,CAAC,EAAE,wEAAwE;gBACnF;YACF;;QACA,SAAS;6DAAE,CAAC;gBACV,IAAI,KAAK,WAAW,GAAG,GAAG;oBACxB,MAAM;wBACJ,OAAO;wBACP,aAAa,CAAC,WAAW,EAAE,KAAK,WAAW,CAAC,wBAAwB,CAAC;oBACvE;gBACF;gBAEA,IAAI,KAAK,UAAU,EAAE;oBACnB,MAAM;wBACJ,OAAO;wBACP,aAAa;wBACb,SAAS;oBACX;gBACF;gBAEA,6CAA6C;gBAC7C,2IAAW,CAAC,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAsB;gBAAC;gBAClE,2IAAW,CAAC,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;wBAAa;wBAAM;qBAAQ;gBAAC;YACzE;;IACF;IAEA,wBAAwB;IACxB,MAAM,iBAAiB;QACrB,gBAAgB,OAAO,GAAG,KAAK,GAAG;QAClC,IAAI,CAAC,UAAU;YACb,YAAY;YACZ,aAAa,OAAO,GAAG,KAAK,GAAG;QACjC;IACF;IAEA,IAAA,0KAAS;wCAAC;YACR,IAAI,CAAC,SAAS;YAEd,2BAA2B;YAC3B,MAAM,SAAS;gBAAC;gBAAa;gBAAS;gBAAU;gBAAY;aAAa;YACzE,OAAO,OAAO;gDAAC,CAAC;oBACd,OAAO,gBAAgB,CAAC,OAAO,gBAAgB;wBAAE,SAAS;oBAAK;gBACjE;;YAEA,qCAAqC;YACrC,MAAM,gBAAgB;8DAAY;oBAChC,MAAM,wBAAwB,KAAK,GAAG,KAAK,gBAAgB,OAAO;oBAElE,IAAI,wBAAwB,sBAAsB;wBAChD,mBAAmB;wBACnB,IAAI,UAAU;4BACZ,YAAY;4BACZ,cAAc;wBAChB;oBACF,OAAO;wBACL,qCAAqC;wBACrC,IAAI,UAAU;4BACZ,MAAM,UAAU,KAAK,GAAG,KAAK,aAAa,OAAO;4BACjD,cAAc;wBAChB;oBACF;gBACF;6DAAG;YAEH,2CAA2C;YAC3C,YAAY,OAAO,GAAG;gDAAY;oBAChC,MAAM,wBAAwB,KAAK,GAAG,KAAK,gBAAgB,OAAO;oBAElE,IAAI,wBAAwB,sBAAsB;wBAChD,8CAA8C;wBAC9C,cAAc,MAAM;wBACpB,aAAa,OAAO,GAAG,KAAK,GAAG;wBAC/B,cAAc;oBAChB;gBACF;+CAAG;YAEH;gDAAO;oBACL,OAAO,OAAO;wDAAC,CAAC;4BACd,OAAO,mBAAmB,CAAC,OAAO;wBACpC;;oBACA,cAAc;oBACd,IAAI,YAAY,OAAO,EAAE;wBACvB,cAAc,YAAY,OAAO;oBACnC;gBACF;;QACF;uCAAG;QAAC;QAAS;KAAS;IAEtB,OAAO;QACL;QACA,YAAY,KAAK,KAAK,CAAC,aAAa;QACpC,YAAY;IACd;AACF;GAxGgB;;QACI,2IAAQ;QASJ,gMAAW","debugId":null}},
    {"offset": {"line": 964, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ActivityTracker.tsx"],"sourcesContent":["\"use client\";\n\nimport { useActivityTracker } from \"@/hooks/useActivityTracker\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { useEffect } from \"react\";\n\nexport function ActivityTracker() {\n  const { user } = useAuth();\n  const { isActive, activeTime } = useActivityTracker(!!user);\n\n  // Log activity status for debugging (optional)\n  useEffect(() => {\n    if (user && isActive) {\n      console.log(`[Activity Tracker] User active for ${activeTime} seconds`);\n    }\n  }, [user, isActive, activeTime]);\n\n  // This component doesn't render anything - it just tracks activity\n  return null;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IACxB,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,IAAA,2JAAkB,EAAC,CAAC,CAAC;IAEtD,+CAA+C;IAC/C,IAAA,0KAAS;qCAAC;YACR,IAAI,QAAQ,UAAU;gBACpB,QAAQ,GAAG,CAAC,CAAC,mCAAmC,EAAE,WAAW,QAAQ,CAAC;YACxE;QACF;oCAAG;QAAC;QAAM;QAAU;KAAW;IAE/B,mEAAmE;IACnE,OAAO;AACT;GAbgB;;QACG,6IAAO;QACS,2JAAkB;;;KAFrC","debugId":null}},
    {"offset": {"line": 1011, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/providers/AppProviders.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { ThemeProvider } from \"@/contexts/ThemeContext\";\nimport { AuthProvider } from \"@/contexts/AuthContext\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { ActivityTracker } from \"@/components/ActivityTracker\";\n\nexport function AppProviders({ children }: { children: React.ReactNode }) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider>\n        <TooltipProvider>\n          <AuthProvider>\n            <ActivityTracker />\n            {children}\n            <Toaster />\n          </AuthProvider>\n        </TooltipProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,qBACE,6LAAC,gNAAmB;QAAC,QAAQ,2IAAW;kBACtC,cAAA,6LAAC,oJAAa;sBACZ,cAAA,6LAAC,yJAAe;0BACd,cAAA,6LAAC,kJAAY;;sCACX,6LAAC,2JAAe;;;;;wBACf;sCACD,6LAAC,iJAAO;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpB;KAdgB","debugId":null}}]
}