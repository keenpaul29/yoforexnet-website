(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,250121,e=>{"use strict";var t=e.i(843476),s=e.i(448020);function a({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...a})}e.s(["Skeleton",()=>a])},470152,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},885024,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(174080),r=e.i(470152),l=e.i(981140),i=e.i(75830),n=e.i(820783),d=e.i(30030),o=e.i(586318),c=e.i(726330),m=e.i(303536),u=e.i(765491),x=e.i(610772),p=e.i(853660),h=e.i(774606),f=e.i(248425),v=e.i(991918),g=e.i(30207),j=e.i(369340),N=e.i(934620),w=e.i(999682),b=e.i(959411),y=e.i(186312),C=e.i(985369),S=[" ","Enter","ArrowUp","ArrowDown"],k=[" ","Enter"],R="Select",[T,A,E]=(0,i.createCollection)(R),[I,P]=(0,d.createContextScope)(R,[E,p.createPopperScope]),B=(0,p.createPopperScope)(),[D,M]=I(R),[H,L]=I(R),V=e=>{let{__scopeSelect:a,children:r,open:l,defaultOpen:i,onOpenChange:n,value:d,defaultValue:c,onValueChange:m,dir:u,name:h,autoComplete:f,disabled:v,required:g,form:N}=e,w=B(a),[b,y]=s.useState(null),[C,S]=s.useState(null),[k,R]=s.useState(!1),A=(0,o.useDirection)(u),[E=!1,I]=(0,j.useControllableState)({prop:l,defaultProp:i,onChange:n}),[P,M]=(0,j.useControllableState)({prop:d,defaultProp:c,onChange:m}),L=s.useRef(null),V=!b||N||!!b.closest("form"),[F,$]=s.useState(new Set),U=Array.from(F).map(e=>e.props.value).join(";");return(0,t.jsx)(p.Root,{...w,children:(0,t.jsxs)(D,{required:g,scope:a,trigger:b,onTriggerChange:y,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:(0,x.useId)(),value:P,onValueChange:M,open:E,onOpenChange:I,dir:A,triggerPointerDownPosRef:L,disabled:v,children:[(0,t.jsx)(T.Provider,{scope:a,children:(0,t.jsx)(H,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{$(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{$(t=>{let s=new Set(t);return s.delete(e),s})},[]),children:r})}),V?(0,t.jsxs)(eC,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:P,onChange:e=>M(e.target.value),disabled:v,form:N,children:[void 0===P?(0,t.jsx)("option",{value:""}):null,Array.from(F)]},U):null]})})};V.displayName=R;var F="SelectTrigger",$=s.forwardRef((e,a)=>{let{__scopeSelect:r,disabled:i=!1,...d}=e,o=B(r),c=M(F,r),m=c.disabled||i,u=(0,n.useComposedRefs)(a,c.onTriggerChange),x=A(r),h=s.useRef("touch"),[v,g,j]=eS(e=>{let t=x().filter(e=>!e.disabled),s=t.find(e=>e.value===c.value),a=ek(t,e,s);void 0!==a&&c.onValueChange(a.value)}),N=e=>{m||(c.onOpenChange(!0),j()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(p.Anchor,{asChild:!0,...o,children:(0,t.jsx)(f.Primitive.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":ey(c.value)?"":void 0,...d,ref:u,onClick:(0,l.composeEventHandlers)(d.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&N(e)}),onPointerDown:(0,l.composeEventHandlers)(d.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(N(e),e.preventDefault())}),onKeyDown:(0,l.composeEventHandlers)(d.onKeyDown,e=>{let t=""!==v.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||g(e.key),(!t||" "!==e.key)&&S.includes(e.key)&&(N(),e.preventDefault())})})})});$.displayName=F;var U="SelectValue",z=s.forwardRef((e,s)=>{let{__scopeSelect:a,className:r,style:l,children:i,placeholder:d="",...o}=e,c=M(U,a),{onValueNodeHasChildrenChange:m}=c,u=void 0!==i,x=(0,n.useComposedRefs)(s,c.onValueNodeChange);return(0,N.useLayoutEffect)(()=>{m(u)},[m,u]),(0,t.jsx)(f.Primitive.span,{...o,ref:x,style:{pointerEvents:"none"},children:ey(c.value)?(0,t.jsx)(t.Fragment,{children:d}):i})});z.displayName=U;var K=s.forwardRef((e,s)=>{let{__scopeSelect:a,children:r,...l}=e;return(0,t.jsx)(f.Primitive.span,{"aria-hidden":!0,...l,ref:s,children:r||"â–¼"})});K.displayName="SelectIcon";var _=e=>(0,t.jsx)(h.Portal,{asChild:!0,...e});_.displayName="SelectPortal";var O="SelectContent",q=s.forwardRef((e,r)=>{let l=M(O,e.__scopeSelect),[i,n]=s.useState();return((0,N.useLayoutEffect)(()=>{n(new DocumentFragment)},[]),l.open)?(0,t.jsx)(Y,{...e,ref:r}):i?a.createPortal((0,t.jsx)(W,{scope:e.__scopeSelect,children:(0,t.jsx)(T.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),i):null});q.displayName=O;var[W,X]=I(O),Q=(0,v.createSlot)("SelectContent.RemoveScroll"),Y=s.forwardRef((e,a)=>{let{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:o,onPointerDownOutside:x,side:p,sideOffset:h,align:f,alignOffset:v,arrowPadding:g,collisionBoundary:j,collisionPadding:N,sticky:w,hideWhenDetached:b,avoidCollisions:S,...k}=e,R=M(O,r),[T,E]=s.useState(null),[I,P]=s.useState(null),B=(0,n.useComposedRefs)(a,e=>E(e)),[D,H]=s.useState(null),[L,V]=s.useState(null),F=A(r),[$,U]=s.useState(!1),z=s.useRef(!1);s.useEffect(()=>{if(T)return(0,y.hideOthers)(T)},[T]),(0,m.useFocusGuards)();let K=s.useCallback(e=>{let[t,...s]=F().map(e=>e.ref.current),[a]=s.slice(-1),r=document.activeElement;for(let s of e)if(s===r||(s?.scrollIntoView({block:"nearest"}),s===t&&I&&(I.scrollTop=0),s===a&&I&&(I.scrollTop=I.scrollHeight),s?.focus(),document.activeElement!==r))return},[F,I]),_=s.useCallback(()=>K([D,T]),[K,D,T]);s.useEffect(()=>{$&&_()},[$,_]);let{onOpenChange:q,triggerPointerDownPosRef:X}=R;s.useEffect(()=>{if(T){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(X.current?.y??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():T.contains(s.target)||q(!1),document.removeEventListener("pointermove",t),X.current=null};return null!==X.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[T,q,X]),s.useEffect(()=>{let e=()=>q(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[q]);let[Y,J]=eS(e=>{let t=F().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),a=ek(t,e,s);a&&setTimeout(()=>a.ref.current.focus())}),ee=s.useCallback((e,t,s)=>{let a=!z.current&&!s;(void 0!==R.value&&R.value===t||a)&&(H(e),a&&(z.current=!0))},[R.value]),et=s.useCallback(()=>T?.focus(),[T]),es=s.useCallback((e,t,s)=>{let a=!z.current&&!s;(void 0!==R.value&&R.value===t||a)&&V(e)},[R.value]),ea="popper"===i?Z:G,er=ea===Z?{side:p,sideOffset:h,align:f,alignOffset:v,arrowPadding:g,collisionBoundary:j,collisionPadding:N,sticky:w,hideWhenDetached:b,avoidCollisions:S}:{};return(0,t.jsx)(W,{scope:r,content:T,viewport:I,onViewportChange:P,itemRefCallback:ee,selectedItem:D,onItemLeave:et,itemTextRefCallback:es,focusSelectedItem:_,selectedItemText:L,position:i,isPositioned:$,searchRef:Y,children:(0,t.jsx)(C.RemoveScroll,{as:Q,allowPinchZoom:!0,children:(0,t.jsx)(u.FocusScope,{asChild:!0,trapped:R.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,l.composeEventHandlers)(d,e=>{R.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(c.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:x,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:(0,t.jsx)(ea,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:e=>e.preventDefault(),...k,...er,onPlaced:()=>U(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:(0,l.composeEventHandlers)(k.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||J(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=F().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let s=e.target,a=t.indexOf(s);t=t.slice(a+1)}setTimeout(()=>K(t)),e.preventDefault()}})})})})})})});Y.displayName="SelectContentImpl";var G=s.forwardRef((e,a)=>{let{__scopeSelect:l,onPlaced:i,...d}=e,o=M(O,l),c=X(O,l),[m,u]=s.useState(null),[x,p]=s.useState(null),h=(0,n.useComposedRefs)(a,e=>p(e)),v=A(l),g=s.useRef(!1),j=s.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:y,focusSelectedItem:C}=c,S=s.useCallback(()=>{if(o.trigger&&o.valueNode&&m&&x&&w&&b&&y){let e=o.trigger.getBoundingClientRect(),t=x.getBoundingClientRect(),s=o.valueNode.getBoundingClientRect(),a=y.getBoundingClientRect();if("rtl"!==o.dir){let l=a.left-t.left,i=s.left-l,n=e.left-i,d=e.width+n,o=Math.max(d,t.width),c=window.innerWidth-10,u=(0,r.clamp)(i,[10,Math.max(10,c-o)]);m.style.minWidth=d+"px",m.style.left=u+"px"}else{let l=t.right-a.right,i=window.innerWidth-s.right-l,n=window.innerWidth-e.right-i,d=e.width+n,o=Math.max(d,t.width),c=window.innerWidth-10,u=(0,r.clamp)(i,[10,Math.max(10,c-o)]);m.style.minWidth=d+"px",m.style.right=u+"px"}let l=v(),n=window.innerHeight-20,d=w.scrollHeight,c=window.getComputedStyle(x),u=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),h=parseInt(c.borderBottomWidth,10),f=u+p+d+parseInt(c.paddingBottom,10)+h,j=Math.min(5*b.offsetHeight,f),N=window.getComputedStyle(w),C=parseInt(N.paddingTop,10),S=parseInt(N.paddingBottom,10),k=e.top+e.height/2-10,R=b.offsetHeight/2,T=u+p+(b.offsetTop+R);if(T<=k){let e=l.length>0&&b===l[l.length-1].ref.current;m.style.bottom="0px";let t=Math.max(n-k,R+(e?S:0)+(x.clientHeight-w.offsetTop-w.offsetHeight)+h);m.style.height=T+t+"px"}else{let e=l.length>0&&b===l[0].ref.current;m.style.top="0px";let t=Math.max(k,u+w.offsetTop+(e?C:0)+R);m.style.height=t+(f-T)+"px",w.scrollTop=T-k+w.offsetTop}m.style.margin="10px 0",m.style.minHeight=j+"px",m.style.maxHeight=n+"px",i?.(),requestAnimationFrame(()=>g.current=!0)}},[v,o.trigger,o.valueNode,m,x,w,b,y,o.dir,i]);(0,N.useLayoutEffect)(()=>S(),[S]);let[k,R]=s.useState();(0,N.useLayoutEffect)(()=>{x&&R(window.getComputedStyle(x).zIndex)},[x]);let T=s.useCallback(e=>{e&&!0===j.current&&(S(),C?.(),j.current=!1)},[S,C]);return(0,t.jsx)(J,{scope:l,contentWrapper:m,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:(0,t.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,t.jsx)(f.Primitive.div,{...d,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});G.displayName="SelectItemAlignedPosition";var Z=s.forwardRef((e,s)=>{let{__scopeSelect:a,align:r="start",collisionPadding:l=10,...i}=e,n=B(a);return(0,t.jsx)(p.Content,{...n,...i,ref:s,align:r,collisionPadding:l,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Z.displayName="SelectPopperPosition";var[J,ee]=I(O,{}),et="SelectViewport",es=s.forwardRef((e,a)=>{let{__scopeSelect:r,nonce:i,...d}=e,o=X(et,r),c=ee(et,r),m=(0,n.useComposedRefs)(a,o.onViewportChange),u=s.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,t.jsx)(T.Slot,{scope:r,children:(0,t.jsx)(f.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:(0,l.composeEventHandlers)(d.onScroll,e=>{let t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:a}=c;if(a?.current&&s){let e=Math.abs(u.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,r=Math.max(parseFloat(s.style.minHeight),parseFloat(s.style.height));if(r<a){let l=r+e,i=Math.min(a,l),n=l-i;s.style.height=i+"px","0px"===s.style.bottom&&(t.scrollTop=n>0?n:0,s.style.justifyContent="flex-end")}}}u.current=t.scrollTop})})})]})});es.displayName=et;var ea="SelectGroup",[er,el]=I(ea);s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e,l=(0,x.useId)();return(0,t.jsx)(er,{scope:a,id:l,children:(0,t.jsx)(f.Primitive.div,{role:"group","aria-labelledby":l,...r,ref:s})})}).displayName=ea;var ei="SelectLabel",en=s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e,l=el(ei,a);return(0,t.jsx)(f.Primitive.div,{id:l.id,...r,ref:s})});en.displayName=ei;var ed="SelectItem",[eo,ec]=I(ed),em=s.forwardRef((e,a)=>{let{__scopeSelect:r,value:i,disabled:d=!1,textValue:o,...c}=e,m=M(ed,r),u=X(ed,r),p=m.value===i,[h,v]=s.useState(o??""),[g,j]=s.useState(!1),N=(0,n.useComposedRefs)(a,e=>u.itemRefCallback?.(e,i,d)),w=(0,x.useId)(),b=s.useRef("touch"),y=()=>{d||(m.onValueChange(i),m.onOpenChange(!1))};if(""===i)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(eo,{scope:r,value:i,disabled:d,textId:w,isSelected:p,onItemTextChange:s.useCallback(e=>{v(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(T.ItemSlot,{scope:r,value:i,disabled:d,textValue:h,children:(0,t.jsx)(f.Primitive.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":p&&g,"data-state":p?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...c,ref:N,onFocus:(0,l.composeEventHandlers)(c.onFocus,()=>j(!0)),onBlur:(0,l.composeEventHandlers)(c.onBlur,()=>j(!1)),onClick:(0,l.composeEventHandlers)(c.onClick,()=>{"mouse"!==b.current&&y()}),onPointerUp:(0,l.composeEventHandlers)(c.onPointerUp,()=>{"mouse"===b.current&&y()}),onPointerDown:(0,l.composeEventHandlers)(c.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,l.composeEventHandlers)(c.onPointerMove,e=>{b.current=e.pointerType,d?u.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,l.composeEventHandlers)(c.onPointerLeave,e=>{e.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:(0,l.composeEventHandlers)(c.onKeyDown,e=>{(u.searchRef?.current===""||" "!==e.key)&&(k.includes(e.key)&&y()," "===e.key&&e.preventDefault())})})})})});em.displayName=ed;var eu="SelectItemText",ex=s.forwardRef((e,r)=>{let{__scopeSelect:l,className:i,style:d,...o}=e,c=M(eu,l),m=X(eu,l),u=ec(eu,l),x=L(eu,l),[p,h]=s.useState(null),v=(0,n.useComposedRefs)(r,e=>h(e),u.onItemTextChange,e=>m.itemTextRefCallback?.(e,u.value,u.disabled)),g=p?.textContent,j=s.useMemo(()=>(0,t.jsx)("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=x;return(0,N.useLayoutEffect)(()=>(w(j),()=>b(j)),[w,b,j]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Primitive.span,{id:u.textId,...o,ref:v}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?a.createPortal(o.children,c.valueNode):null]})});ex.displayName=eu;var ep="SelectItemIndicator",eh=s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e;return ec(ep,a).isSelected?(0,t.jsx)(f.Primitive.span,{"aria-hidden":!0,...r,ref:s}):null});eh.displayName=ep;var ef="SelectScrollUpButton",ev=s.forwardRef((e,a)=>{let r=X(ef,e.__scopeSelect),l=ee(ef,e.__scopeSelect),[i,d]=s.useState(!1),o=(0,n.useComposedRefs)(a,l.onScrollButtonChange);return(0,N.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){d(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,t.jsx)(eN,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ev.displayName=ef;var eg="SelectScrollDownButton",ej=s.forwardRef((e,a)=>{let r=X(eg,e.__scopeSelect),l=ee(eg,e.__scopeSelect),[i,d]=s.useState(!1),o=(0,n.useComposedRefs)(a,l.onScrollButtonChange);return(0,N.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;d(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,t.jsx)(eN,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});ej.displayName=eg;var eN=s.forwardRef((e,a)=>{let{__scopeSelect:r,onAutoScroll:i,...n}=e,d=X("SelectScrollButton",r),o=s.useRef(null),c=A(r),m=s.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return s.useEffect(()=>()=>m(),[m]),(0,N.useLayoutEffect)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,t.jsx)(f.Primitive.div,{"aria-hidden":!0,...n,ref:a,style:{flexShrink:0,...n.style},onPointerDown:(0,l.composeEventHandlers)(n.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:(0,l.composeEventHandlers)(n.onPointerMove,()=>{d.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:(0,l.composeEventHandlers)(n.onPointerLeave,()=>{m()})})}),ew=s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e;return(0,t.jsx)(f.Primitive.div,{"aria-hidden":!0,...r,ref:s})});ew.displayName="SelectSeparator";var eb="SelectArrow";function ey(e){return""===e||void 0===e}s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e,l=B(a),i=M(eb,a),n=X(eb,a);return i.open&&"popper"===n.position?(0,t.jsx)(p.Arrow,{...l,...r,ref:s}):null}).displayName=eb;var eC=s.forwardRef((e,a)=>{let{value:r,...l}=e,i=s.useRef(null),d=(0,n.useComposedRefs)(a,i),o=(0,w.usePrevious)(r);return s.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==r&&t){let s=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(s)}},[o,r]),(0,t.jsx)(b.VisuallyHidden,{asChild:!0,children:(0,t.jsx)("select",{...l,ref:d,defaultValue:r})})});function eS(e){let t=(0,g.useCallbackRef)(e),a=s.useRef(""),r=s.useRef(0),l=s.useCallback(e=>{let s=a.current+e;t(s),function e(t){a.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),i=s.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,l,i]}function ek(e,t,s){var a,r;let l=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=s?e.indexOf(s):-1,n=(a=e,r=Math.max(i,0),a.map((e,t)=>a[(r+t)%a.length]));1===l.length&&(n=n.filter(e=>e!==s));let d=n.find(e=>e.textValue.toLowerCase().startsWith(l.toLowerCase()));return d!==s?d:void 0}eC.displayName="BubbleSelect";var eR=e.i(643531),eT=e.i(664659);let eA=(0,e.i(475254).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eE=e.i(448020);let eI=s.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)($,{ref:r,className:(0,eE.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,t.jsx)(K,{asChild:!0,children:(0,t.jsx)(eT.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));eI.displayName=$.displayName;let eP=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(ev,{ref:a,className:(0,eE.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(eA,{className:"h-4 w-4"})}));eP.displayName=ev.displayName;let eB=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(ej,{ref:a,className:(0,eE.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(eT.ChevronDown,{className:"h-4 w-4"})}));eB.displayName=ej.displayName;let eD=s.forwardRef(({className:e,children:s,position:a="popper",...r},l)=>(0,t.jsx)(_,{children:(0,t.jsxs)(q,{ref:l,className:(0,eE.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[(0,t.jsx)(eP,{}),(0,t.jsx)(es,{className:(0,eE.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(eB,{})]})}));eD.displayName=q.displayName,s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(en,{ref:a,className:(0,eE.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=en.displayName;let eM=s.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(em,{ref:r,className:(0,eE.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(eh,{children:(0,t.jsx)(eR.Check,{className:"h-4 w-4"})})}),(0,t.jsx)(ex,{children:s})]}));eM.displayName=em.displayName,s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(ew,{ref:a,className:(0,eE.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=ew.displayName,e.s(["Select",()=>V,"SelectContent",()=>eD,"SelectItem",()=>eM,"SelectTrigger",()=>eI,"SelectValue",()=>z],885024)},878894,e=>{"use strict";let t=(0,e.i(475254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],878894)},595468,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],595468)},581418,e=>{"use strict";let t=(0,e.i(475254).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],581418)},958377,e=>{"use strict";let t=(0,e.i(475254).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>t],958377)},797548,e=>{"use strict";let t=(0,e.i(475254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],797548)},607486,e=>{"use strict";let t=(0,e.i(475254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],607486)},852182,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(266027),r=e.i(353501),l=e.i(42422),i=e.i(635321),n=e.i(407398),d=e.i(729085),o=e.i(30656),c=e.i(744793),m=e.i(250121),u=e.i(79196),x=e.i(885024),p=e.i(555436),h=e.i(870273),f=e.i(581418),v=e.i(878894),g=e.i(25652),j=e.i(37727),N=e.i(607486),w=e.i(797548),b=e.i(761911),y=e.i(686311),C=e.i(842009),S=e.i(958377),k=e.i(595468),R=e.i(522016);function T({initialBrokers:e}){let[T,A]=(0,s.useState)(""),[E,I]=(0,s.useState)("all"),[P,B]=(0,s.useState)("all"),[D,M]=(0,s.useState)("rating"),[H,L]=(0,s.useState)([]),[V,F]=(0,s.useState)(!1),{data:$=[],isLoading:U}=(0,a.useQuery)({queryKey:["/api/brokers"],initialData:e,staleTime:6e4,refetchInterval:6e4}),{data:z,isLoading:K}=(0,a.useQuery)({queryKey:["/api/brokers/stats"],staleTime:6e4}),{data:_=[],isLoading:O}=(0,a.useQuery)({queryKey:["/api/brokers/trending"],staleTime:6e4}),{data:q,isLoading:W}=(0,a.useQuery)({queryKey:["/api/brokers/comparison",H.join(",")],queryFn:async()=>{if(0===H.length)return null;let e=await fetch(`/api/brokers/comparison?ids=${H.join(",")}`,{credentials:"include"});if(!e.ok)throw Error("Failed to fetch comparison");return e.json()},enabled:V&&H.length>0,staleTime:3e4}),X=$.filter(e=>{let t=e.name.toLowerCase().includes(T.toLowerCase());return("verified"!==E||!!e.isVerified)&&("unverified"!==E||!e.isVerified)&&("4+"!==P||!(4>(e.overallRating||0)))&&("3+"!==P||!(3>(e.overallRating||0)))&&t}).sort((e,t)=>"rating"===D?(t.overallRating||0)-(e.overallRating||0):"reviews"===D?t.reviewCount-e.reviewCount:"name"===D?e.name.localeCompare(t.name):0),Q=e=>{L(t=>t.includes(e)?t.filter(t=>t!==e):t.length>=3?t:[...t,e])},Y=e=>e?(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(s=>(0,t.jsx)(h.Star,{className:`h-3.5 w-3.5 ${s<=Math.round(e)?"fill-primary text-primary":"text-muted-foreground"}`},s)),(0,t.jsx)("span",{className:"ml-1 text-sm font-semibold",children:e.toFixed(1)})]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"No ratings"}),G=$.filter(e=>e.isVerified&&(e.overallRating||0)>0).sort((e,t)=>(t.overallRating||0)-(e.overallRating||0)).slice(0,5),Z=$.filter(e=>e.reviewCount>0).sort((e,t)=>t.reviewCount-e.reviewCount).slice(0,5),J=$.filter(e=>e.scamReportCount>5).sort((e,t)=>t.scamReportCount-e.scamReportCount).slice(0,5);return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(r.default,{}),(0,t.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3","data-testid":"heading-broker-directory",children:[(0,t.jsx)(N.Building2,{className:"w-8 h-8 text-primary"}),"Broker Directory"]}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Community-driven broker reviews and ratings. Compare brokers and submit reviews to earn coins."})]}),(0,t.jsx)(R.default,{href:"/brokers/submit-review",children:(0,t.jsx)(n.Button,{size:"lg","data-testid":"button-submit-review",children:"Submit Review"})})]}),!K&&z&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,t.jsx)(N.Building2,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-total-brokers",children:z.totalBrokers}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Brokers"})]})]})})}),(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10",children:(0,t.jsx)(f.ShieldCheck,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-verified-brokers",children:z.verifiedBrokers}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Verified"})]})]})})}),(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10",children:(0,t.jsx)(y.MessageSquare,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-total-reviews",children:z.totalReviews}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Reviews"})]})]})})}),(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:(0,t.jsx)(h.Star,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-avg-rating",children:z.avgRating.toFixed(1)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg Rating"})]})]})})}),(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-red-500/10",children:(0,t.jsx)(v.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-scam-alerts",children:z.scamAlertsActive}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scam Alerts"})]})]})})}),(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/10",children:(0,t.jsx)(g.TrendingUp,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-new-reviews",children:z.newReviews24h}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"New 24h"})]})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-3",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{type:"search",placeholder:"Search brokers...",className:"pl-9",value:T,onChange:e=>A(e.target.value),"data-testid":"input-broker-search"})]}),(0,t.jsx)(n.Button,{variant:"outline",size:"icon","data-testid":"button-filter",children:(0,t.jsx)(w.Filter,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)(x.Select,{value:E,onValueChange:I,children:[(0,t.jsx)(x.SelectTrigger,{className:"w-[160px]","data-testid":"select-verification",children:(0,t.jsx)(x.SelectValue,{placeholder:"Verification"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"all",children:"All Brokers"}),(0,t.jsx)(x.SelectItem,{value:"verified",children:"Verified Only"}),(0,t.jsx)(x.SelectItem,{value:"unverified",children:"Unverified"})]})]}),(0,t.jsxs)(x.Select,{value:P,onValueChange:B,children:[(0,t.jsx)(x.SelectTrigger,{className:"w-[140px]","data-testid":"select-rating",children:(0,t.jsx)(x.SelectValue,{placeholder:"Rating"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"all",children:"All Ratings"}),(0,t.jsx)(x.SelectItem,{value:"4+",children:"4+ Stars"}),(0,t.jsx)(x.SelectItem,{value:"3+",children:"3+ Stars"})]})]}),(0,t.jsxs)(x.Select,{value:D,onValueChange:M,children:[(0,t.jsx)(x.SelectTrigger,{className:"w-[140px]","data-testid":"select-sort",children:(0,t.jsx)(x.SelectValue,{placeholder:"Sort by"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"rating",children:"By Rating"}),(0,t.jsx)(x.SelectItem,{value:"reviews",children:"By Reviews"}),(0,t.jsx)(x.SelectItem,{value:"name",children:"By Name"})]})]}),"all"!==E&&(0,t.jsxs)(o.Badge,{variant:"secondary",className:"gap-1",children:["verified"===E?"Verified":"Unverified",(0,t.jsx)(j.X,{className:"h-3 w-3 cursor-pointer",onClick:()=>I("all")})]}),"all"!==P&&(0,t.jsxs)(o.Badge,{variant:"secondary",className:"gap-1",children:[P," stars",(0,t.jsx)(j.X,{className:"h-3 w-3 cursor-pointer",onClick:()=>B("all")})]})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",X.length," broker",1!==X.length?"s":""]})]})})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:U?Array(9).fill(0).map((e,s)=>(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-3",children:(0,t.jsx)(m.Skeleton,{className:"h-48"})})},s)):0===X.length?(0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"p-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No brokers found matching your criteria."})})})}):X.map(e=>(0,t.jsx)(i.Card,{className:`hover-elevate cursor-pointer ${H.includes(e.id)?"ring-2 ring-primary":""}`,"data-testid":`card-broker-${e.slug}`,children:(0,t.jsx)(i.CardContent,{className:"p-3",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsxs)(c.Avatar,{className:"h-12 w-12 rounded-md",children:[(0,t.jsx)(c.AvatarImage,{src:e.logoUrl||void 0,alt:e.name}),(0,t.jsx)(c.AvatarFallback,{className:"rounded-md",children:(0,t.jsx)(N.Building2,{className:"h-6 w-6 text-muted-foreground"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,children:(0,t.jsx)("h3",{className:"font-semibold text-sm line-clamp-1 hover:text-primary","data-testid":`text-broker-name-${e.slug}`,children:e.name})}),e.isVerified&&(0,t.jsxs)(o.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/30 mt-1","data-testid":`badge-verified-${e.slug}`,children:[(0,t.jsx)(f.ShieldCheck,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),(0,t.jsx)("button",{onClick:()=>Q(e.id),className:`p-1 rounded hover:bg-accent ${H.includes(e.id)?"bg-primary text-primary-foreground":""}`,"data-testid":`checkbox-compare-${e.slug}`,disabled:!H.includes(e.id)&&H.length>=3,children:(0,t.jsx)(k.CheckCircle2,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{"data-testid":`rating-stars-${e.slug}`,children:Y(e.overallRating)}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,t.jsx)(y.MessageSquare,{className:"h-3 w-3"}),(0,t.jsxs)("span",{"data-testid":`text-review-count-${e.slug}`,children:[e.reviewCount," reviews"]})]}),e.scamReportCount>0&&(0,t.jsxs)(o.Badge,{variant:"destructive",className:"text-[10px] px-1.5 py-0","data-testid":`badge-scam-alert-${e.slug}`,children:[(0,t.jsx)(v.AlertTriangle,{className:"h-3 w-3 mr-1"}),e.scamReportCount," scam reports"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2","data-testid":`text-regulation-${e.slug}`,children:e.regulationSummary||"No regulation information available"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,className:"flex-1",children:(0,t.jsx)(n.Button,{size:"sm",variant:"outline",className:"w-full","data-testid":`button-view-broker-${e.slug}`,children:"View Details"})})})]})})},e.id))})]}),(0,t.jsxs)("aside",{className:"space-y-4",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"pb-2",children:[(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(C.Award,{className:"h-4 w-4 text-primary"}),"Top Rated"]}),(0,t.jsx)(i.CardDescription,{className:"text-xs",children:"Highest rated verified brokers"})]}),(0,t.jsx)(i.CardContent,{className:"space-y-3",children:G.slice(0,5).map(e=>(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md hover-elevate cursor-pointer","data-testid":`widget-top-rated-${e.slug}`,children:[(0,t.jsxs)(c.Avatar,{className:"h-8 w-8 rounded-md",children:[(0,t.jsx)(c.AvatarImage,{src:e.logoUrl||void 0}),(0,t.jsx)(c.AvatarFallback,{className:"rounded-md text-xs",children:(0,t.jsx)(N.Building2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium line-clamp-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Star,{className:"h-3 w-3 fill-primary text-primary"}),(0,t.jsx)("span",{className:"text-xs",children:e.overallRating?.toFixed(1)})]})]})]})},e.id))})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(b.Users,{className:"h-4 w-4 text-primary"}),"Most Reviewed"]}),(0,t.jsx)(i.CardDescription,{className:"text-xs",children:"Most popular brokers"})]}),(0,t.jsx)(i.CardContent,{className:"space-y-3",children:Z.slice(0,5).map(e=>(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md hover-elevate cursor-pointer","data-testid":`widget-most-reviewed-${e.slug}`,children:[(0,t.jsxs)(c.Avatar,{className:"h-8 w-8 rounded-md",children:[(0,t.jsx)(c.AvatarImage,{src:e.logoUrl||void 0}),(0,t.jsx)(c.AvatarFallback,{className:"rounded-md text-xs",children:(0,t.jsx)(N.Building2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium line-clamp-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,t.jsx)(y.MessageSquare,{className:"h-3 w-3"}),(0,t.jsxs)("span",{className:"text-xs",children:[e.reviewCount," reviews"]})]})]})]})},e.id))})]}),!O&&_.length>0&&(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(S.Flame,{className:"h-4 w-4 text-primary"}),"Trending This Week"]}),(0,t.jsx)(i.CardDescription,{className:"text-xs",children:"Most active this week"})]}),(0,t.jsx)(i.CardContent,{className:"space-y-3",children:_.slice(0,5).map(e=>(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md hover-elevate cursor-pointer","data-testid":`widget-trending-${e.slug}`,children:[(0,t.jsxs)(c.Avatar,{className:"h-8 w-8 rounded-md",children:[(0,t.jsx)(c.AvatarImage,{src:e.logoUrl||void 0}),(0,t.jsx)(c.AvatarFallback,{className:"rounded-md text-xs",children:(0,t.jsx)(N.Building2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium line-clamp-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,t.jsx)(g.TrendingUp,{className:"h-3 w-3"}),(0,t.jsxs)("span",{className:"text-xs",children:[e.reviewsThisWeek," new reviews"]})]})]})]})},e.brokerId))})]}),J.length>0&&(0,t.jsxs)(i.Card,{className:"border-destructive/30",children:[(0,t.jsxs)(i.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2 text-destructive",children:[(0,t.jsx)(v.AlertTriangle,{className:"h-4 w-4"}),"Scam Alerts"]}),(0,t.jsx)(i.CardDescription,{className:"text-xs",children:"Brokers with high scam reports"})]}),(0,t.jsx)(i.CardContent,{className:"space-y-3",children:J.slice(0,5).map(e=>(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md hover-elevate cursor-pointer","data-testid":`widget-scam-alert-${e.slug}`,children:[(0,t.jsxs)(c.Avatar,{className:"h-8 w-8 rounded-md",children:[(0,t.jsx)(c.AvatarImage,{src:e.logoUrl||void 0}),(0,t.jsx)(c.AvatarFallback,{className:"rounded-md text-xs",children:(0,t.jsx)(N.Building2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium line-clamp-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-destructive",children:[(0,t.jsx)(v.AlertTriangle,{className:"h-3 w-3"}),(0,t.jsxs)("span",{className:"text-xs",children:[e.scamReportCount," reports"]})]})]})]})},e.id))})]})]})]})]}),H.length>0&&(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t shadow-lg z-50","data-testid":"comparison-bar",children:(0,t.jsx)("div",{className:"container max-w-7xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[H.length," broker",1!==H.length?"s":""," selected"]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:H.map(e=>{let s=$.find(t=>t.id===e);return s?(0,t.jsxs)(o.Badge,{variant:"secondary",className:"gap-1",children:[s.name,(0,t.jsx)(j.X,{className:"h-3 w-3 cursor-pointer",onClick:()=>Q(e)})]},e):null})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>L([]),"data-testid":"button-clear-selection",children:"Clear"}),(0,t.jsx)(n.Button,{onClick:()=>F(!0),disabled:H.length<2,"data-testid":"button-compare-now",children:"Compare Now"})]})]})})}),(0,t.jsx)(u.Dialog,{open:V,onOpenChange:F,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"Broker Comparison"}),(0,t.jsx)(u.DialogDescription,{children:"Side-by-side comparison of selected brokers"})]}),W?(0,t.jsx)("div",{className:"p-8 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading comparison..."})}):q?.brokers?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-3 text-sm font-medium text-muted-foreground",children:"Feature"}),q.brokers.map(e=>(0,t.jsx)("th",{className:"text-left p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(c.Avatar,{className:"h-8 w-8 rounded-md",children:[(0,t.jsx)(c.AvatarImage,{src:e.logoUrl||void 0}),(0,t.jsx)(c.AvatarFallback,{className:"rounded-md",children:(0,t.jsx)(N.Building2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-sm",children:e.name}),e.isVerified&&(0,t.jsxs)(o.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:[(0,t.jsx)(f.ShieldCheck,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})},e.id))]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Overall Rating"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3",children:Y(e.overallRating)},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Total Reviews"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3 text-sm",children:e.reviewCount},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Scam Reports"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:e.scamReportCount>5?"text-destructive font-semibold":"",children:e.scamReportCount})},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Regulation"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3 text-sm",children:e.regulationSummary||"N/A"},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Platform"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3 text-sm",children:e.platform||"N/A"},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Spread Type"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3 text-sm",children:e.spreadType||"N/A"},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Min Spread"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3 text-sm",children:e.minSpread?`${e.minSpread} pips`:"N/A"},e.id))]}),(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Year Founded"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3 text-sm",children:e.yearFounded||"N/A"},e.id))]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"p-3 text-sm font-medium",children:"Actions"}),q.brokers.map(e=>(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(R.default,{href:`/brokers/${e.slug}`,children:(0,t.jsx)(n.Button,{size:"sm",variant:"outline",className:"w-full",children:"View Details"})}),e.websiteUrl&&(0,t.jsx)(n.Button,{size:"sm",variant:"ghost",asChild:!0,children:(0,t.jsx)("a",{href:e.websiteUrl,target:"_blank",rel:"noopener noreferrer",children:"Visit Website"})})]})},e.id))]})]})]})}):(0,t.jsx)("div",{className:"p-8 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No comparison data available"})})]})}),(0,t.jsx)(l.default,{})]})}e.s(["default",()=>T])}]);