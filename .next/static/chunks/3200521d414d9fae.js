(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50121,e=>{"use strict";var t=e.i(18050),s=e.i(48020);function a({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...a})}e.s(["Skeleton",()=>a])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},1159,e=>{"use strict";var t=e.i(35684);function s(e,s){let a=(0,t.toDate)(e),r=(0,t.toDate)(s);return 12*(a.getFullYear()-r.getFullYear())+(a.getMonth()-r.getMonth())}e.s(["differenceInCalendarMonths",()=>s])},28880,e=>{"use strict";var t=e.i(35684);function s(e){let s=(0,t.toDate)(e),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}e.s(["endOfMonth",()=>s])},9637,e=>{"use strict";var t=e.i(96226),s=e.i(35684);function a(e,t){let a=(0,s.toDate)(e),r=(0,s.toDate)(t),n=a.getTime()-r.getTime();return n<0?-1:n>0?1:n}var r=e.i(8470),n=e.i(1159),l=e.i(28880),i=e.i(63367),o=e.i(11048),d=e.i(74327);function c(e,c){return function(e,t,c){var u,p,m;let h,x,f,g=(0,o.getDefaultOptions)(),v=c?.locale??g.locale??i.defaultLocale,y=a(e,t);if(isNaN(y))throw RangeError("Invalid time value");let j=Object.assign({},c,{addSuffix:c?.addSuffix,comparison:y});y>0?(h=(0,s.toDate)(t),x=(0,s.toDate)(e)):(h=(0,s.toDate)(e),x=(0,s.toDate)(t));let w=(u=x,p=h,(m=void 0,e=>{let t=(m?Math[m]:Math.trunc)(e);return 0===t?0:t})(((0,s.toDate)(u)-(0,s.toDate)(p))/1e3)),b=Math.round((w-((0,d.getTimezoneOffsetInMilliseconds)(x)-(0,d.getTimezoneOffsetInMilliseconds)(h))/1e3)/60);if(b<2)if(c?.includeSeconds)if(w<5)return v.formatDistance("lessThanXSeconds",5,j);else if(w<10)return v.formatDistance("lessThanXSeconds",10,j);else if(w<20)return v.formatDistance("lessThanXSeconds",20,j);else if(w<40)return v.formatDistance("halfAMinute",0,j);else if(w<60)return v.formatDistance("lessThanXMinutes",1,j);else return v.formatDistance("xMinutes",1,j);else if(0===b)return v.formatDistance("lessThanXMinutes",1,j);else return v.formatDistance("xMinutes",b,j);if(b<45)return v.formatDistance("xMinutes",b,j);if(b<90)return v.formatDistance("aboutXHours",1,j);if(b<r.minutesInDay){let e=Math.round(b/60);return v.formatDistance("aboutXHours",e,j)}if(b<2520)return v.formatDistance("xDays",1,j);else if(b<r.minutesInMonth){let e=Math.round(b/r.minutesInDay);return v.formatDistance("xDays",e,j)}else if(b<2*r.minutesInMonth)return f=Math.round(b/r.minutesInMonth),v.formatDistance("aboutXMonths",f,j);if((f=function(e,t){let r,i=(0,s.toDate)(e),o=(0,s.toDate)(t),d=a(i,o),c=Math.abs((0,n.differenceInCalendarMonths)(i,o));if(c<1)r=0;else{var u;let t,n;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*c);let p=a(i,o)===-d;u=(0,s.toDate)(e),+(t=(0,s.toDate)(u),(n=(0,s.toDate)(t)).setHours(23,59,59,999),n)==+(0,l.endOfMonth)(t)&&1===c&&1===a(e,o)&&(p=!1),r=d*(c-Number(p))}return 0===r?0:r}(x,h))<12){let e=Math.round(b/r.minutesInMonth);return v.formatDistance("xMonths",e,j)}{let e=f%12,t=Math.trunc(f/12);return e<3?v.formatDistance("aboutXYears",t,j):e<9?v.formatDistance("overXYears",t,j):v.formatDistance("almostXYears",t+1,j)}}(e,(0,t.constructFrom)(e,Date.now()),c)}e.s(["formatDistanceToNow",()=>c],9637)},70152,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},85024,e=>{"use strict";var t=e.i(18050),s=e.i(71645),a=e.i(74080),r=e.i(70152),n=e.i(81140),l=e.i(75830),i=e.i(20783),o=e.i(30030),d=e.i(86318),c=e.i(26330),u=e.i(3536),p=e.i(65491),m=e.i(10772),h=e.i(53660),x=e.i(74606),f=e.i(48425),g=e.i(91918),v=e.i(30207),y=e.i(69340),j=e.i(34620),w=e.i(99682),b=e.i(59411),N=e.i(86312),C=e.i(85369),S=[" ","Enter","ArrowUp","ArrowDown"],k=[" ","Enter"],D="Select",[T,M,E]=(0,l.createCollection)(D),[I,A]=(0,o.createContextScope)(D,[E,h.createPopperScope]),R=(0,h.createPopperScope)(),[P,H]=I(D),[L,B]=I(D),F=e=>{let{__scopeSelect:a,children:r,open:n,defaultOpen:l,onOpenChange:i,value:o,defaultValue:c,onValueChange:u,dir:p,name:x,autoComplete:f,disabled:g,required:v,form:j}=e,w=R(a),[b,N]=s.useState(null),[C,S]=s.useState(null),[k,D]=s.useState(!1),M=(0,d.useDirection)(p),[E=!1,I]=(0,y.useControllableState)({prop:n,defaultProp:l,onChange:i}),[A,H]=(0,y.useControllableState)({prop:o,defaultProp:c,onChange:u}),B=s.useRef(null),F=!b||j||!!b.closest("form"),[U,z]=s.useState(new Set),V=Array.from(U).map(e=>e.props.value).join(";");return(0,t.jsx)(h.Root,{...w,children:(0,t.jsxs)(P,{required:v,scope:a,trigger:b,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:(0,m.useId)(),value:A,onValueChange:H,open:E,onOpenChange:I,dir:M,triggerPointerDownPosRef:B,disabled:g,children:[(0,t.jsx)(T.Provider,{scope:a,children:(0,t.jsx)(L,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{z(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{z(t=>{let s=new Set(t);return s.delete(e),s})},[]),children:r})}),F?(0,t.jsxs)(eC,{"aria-hidden":!0,required:v,tabIndex:-1,name:x,autoComplete:f,value:A,onChange:e=>H(e.target.value),disabled:g,form:j,children:[void 0===A?(0,t.jsx)("option",{value:""}):null,Array.from(U)]},V):null]})})};F.displayName=D;var U="SelectTrigger",z=s.forwardRef((e,a)=>{let{__scopeSelect:r,disabled:l=!1,...o}=e,d=R(r),c=H(U,r),u=c.disabled||l,p=(0,i.useComposedRefs)(a,c.onTriggerChange),m=M(r),x=s.useRef("touch"),[g,v,y]=eS(e=>{let t=m().filter(e=>!e.disabled),s=t.find(e=>e.value===c.value),a=ek(t,e,s);void 0!==a&&c.onValueChange(a.value)}),j=e=>{u||(c.onOpenChange(!0),y()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(h.Anchor,{asChild:!0,...d,children:(0,t.jsx)(f.Primitive.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":eN(c.value)?"":void 0,...o,ref:p,onClick:(0,n.composeEventHandlers)(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==x.current&&j(e)}),onPointerDown:(0,n.composeEventHandlers)(o.onPointerDown,e=>{x.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(j(e),e.preventDefault())}),onKeyDown:(0,n.composeEventHandlers)(o.onKeyDown,e=>{let t=""!==g.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||v(e.key),(!t||" "!==e.key)&&S.includes(e.key)&&(j(),e.preventDefault())})})})});z.displayName=U;var V="SelectValue",O=s.forwardRef((e,s)=>{let{__scopeSelect:a,className:r,style:n,children:l,placeholder:o="",...d}=e,c=H(V,a),{onValueNodeHasChildrenChange:u}=c,p=void 0!==l,m=(0,i.useComposedRefs)(s,c.onValueNodeChange);return(0,j.useLayoutEffect)(()=>{u(p)},[u,p]),(0,t.jsx)(f.Primitive.span,{...d,ref:m,style:{pointerEvents:"none"},children:eN(c.value)?(0,t.jsx)(t.Fragment,{children:o}):l})});O.displayName=V;var q=s.forwardRef((e,s)=>{let{__scopeSelect:a,children:r,...n}=e;return(0,t.jsx)(f.Primitive.span,{"aria-hidden":!0,...n,ref:s,children:r||"â–¼"})});q.displayName="SelectIcon";var K=e=>(0,t.jsx)(x.Portal,{asChild:!0,...e});K.displayName="SelectPortal";var $="SelectContent",_=s.forwardRef((e,r)=>{let n=H($,e.__scopeSelect),[l,i]=s.useState();return((0,j.useLayoutEffect)(()=>{i(new DocumentFragment)},[]),n.open)?(0,t.jsx)(Q,{...e,ref:r}):l?a.createPortal((0,t.jsx)(X,{scope:e.__scopeSelect,children:(0,t.jsx)(T.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),l):null});_.displayName=$;var[X,W]=I($),Y=(0,g.createSlot)("SelectContent.RemoveScroll"),Q=s.forwardRef((e,a)=>{let{__scopeSelect:r,position:l="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:d,onPointerDownOutside:m,side:h,sideOffset:x,align:f,alignOffset:g,arrowPadding:v,collisionBoundary:y,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:S,...k}=e,D=H($,r),[T,E]=s.useState(null),[I,A]=s.useState(null),R=(0,i.useComposedRefs)(a,e=>E(e)),[P,L]=s.useState(null),[B,F]=s.useState(null),U=M(r),[z,V]=s.useState(!1),O=s.useRef(!1);s.useEffect(()=>{if(T)return(0,N.hideOthers)(T)},[T]),(0,u.useFocusGuards)();let q=s.useCallback(e=>{let[t,...s]=U().map(e=>e.ref.current),[a]=s.slice(-1),r=document.activeElement;for(let s of e)if(s===r||(s?.scrollIntoView({block:"nearest"}),s===t&&I&&(I.scrollTop=0),s===a&&I&&(I.scrollTop=I.scrollHeight),s?.focus(),document.activeElement!==r))return},[U,I]),K=s.useCallback(()=>q([P,T]),[q,P,T]);s.useEffect(()=>{z&&K()},[z,K]);let{onOpenChange:_,triggerPointerDownPosRef:W}=D;s.useEffect(()=>{if(T){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(W.current?.y??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():T.contains(s.target)||_(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[T,_,W]),s.useEffect(()=>{let e=()=>_(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[_]);let[Q,Z]=eS(e=>{let t=U().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),a=ek(t,e,s);a&&setTimeout(()=>a.ref.current.focus())}),ee=s.useCallback((e,t,s)=>{let a=!O.current&&!s;(void 0!==D.value&&D.value===t||a)&&(L(e),a&&(O.current=!0))},[D.value]),et=s.useCallback(()=>T?.focus(),[T]),es=s.useCallback((e,t,s)=>{let a=!O.current&&!s;(void 0!==D.value&&D.value===t||a)&&F(e)},[D.value]),ea="popper"===l?J:G,er=ea===J?{side:h,sideOffset:x,align:f,alignOffset:g,arrowPadding:v,collisionBoundary:y,collisionPadding:j,sticky:w,hideWhenDetached:b,avoidCollisions:S}:{};return(0,t.jsx)(X,{scope:r,content:T,viewport:I,onViewportChange:A,itemRefCallback:ee,selectedItem:P,onItemLeave:et,itemTextRefCallback:es,focusSelectedItem:K,selectedItemText:B,position:l,isPositioned:z,searchRef:Q,children:(0,t.jsx)(C.RemoveScroll,{as:Y,allowPinchZoom:!0,children:(0,t.jsx)(p.FocusScope,{asChild:!0,trapped:D.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,n.composeEventHandlers)(o,e=>{D.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(c.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:(0,t.jsx)(ea,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:e=>e.preventDefault(),...k,...er,onPlaced:()=>V(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:(0,n.composeEventHandlers)(k.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Z(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=U().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let s=e.target,a=t.indexOf(s);t=t.slice(a+1)}setTimeout(()=>q(t)),e.preventDefault()}})})})})})})});Q.displayName="SelectContentImpl";var G=s.forwardRef((e,a)=>{let{__scopeSelect:n,onPlaced:l,...o}=e,d=H($,n),c=W($,n),[u,p]=s.useState(null),[m,h]=s.useState(null),x=(0,i.useComposedRefs)(a,e=>h(e)),g=M(n),v=s.useRef(!1),y=s.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:N,focusSelectedItem:C}=c,S=s.useCallback(()=>{if(d.trigger&&d.valueNode&&u&&m&&w&&b&&N){let e=d.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),s=d.valueNode.getBoundingClientRect(),a=N.getBoundingClientRect();if("rtl"!==d.dir){let n=a.left-t.left,l=s.left-n,i=e.left-l,o=e.width+i,d=Math.max(o,t.width),c=window.innerWidth-10,p=(0,r.clamp)(l,[10,Math.max(10,c-d)]);u.style.minWidth=o+"px",u.style.left=p+"px"}else{let n=t.right-a.right,l=window.innerWidth-s.right-n,i=window.innerWidth-e.right-l,o=e.width+i,d=Math.max(o,t.width),c=window.innerWidth-10,p=(0,r.clamp)(l,[10,Math.max(10,c-d)]);u.style.minWidth=o+"px",u.style.right=p+"px"}let n=g(),i=window.innerHeight-20,o=w.scrollHeight,c=window.getComputedStyle(m),p=parseInt(c.borderTopWidth,10),h=parseInt(c.paddingTop,10),x=parseInt(c.borderBottomWidth,10),f=p+h+o+parseInt(c.paddingBottom,10)+x,y=Math.min(5*b.offsetHeight,f),j=window.getComputedStyle(w),C=parseInt(j.paddingTop,10),S=parseInt(j.paddingBottom,10),k=e.top+e.height/2-10,D=b.offsetHeight/2,T=p+h+(b.offsetTop+D);if(T<=k){let e=n.length>0&&b===n[n.length-1].ref.current;u.style.bottom="0px";let t=Math.max(i-k,D+(e?S:0)+(m.clientHeight-w.offsetTop-w.offsetHeight)+x);u.style.height=T+t+"px"}else{let e=n.length>0&&b===n[0].ref.current;u.style.top="0px";let t=Math.max(k,p+w.offsetTop+(e?C:0)+D);u.style.height=t+(f-T)+"px",w.scrollTop=T-k+w.offsetTop}u.style.margin="10px 0",u.style.minHeight=y+"px",u.style.maxHeight=i+"px",l?.(),requestAnimationFrame(()=>v.current=!0)}},[g,d.trigger,d.valueNode,u,m,w,b,N,d.dir,l]);(0,j.useLayoutEffect)(()=>S(),[S]);let[k,D]=s.useState();(0,j.useLayoutEffect)(()=>{m&&D(window.getComputedStyle(m).zIndex)},[m]);let T=s.useCallback(e=>{e&&!0===y.current&&(S(),C?.(),y.current=!1)},[S,C]);return(0,t.jsx)(Z,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:T,children:(0,t.jsx)("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,t.jsx)(f.Primitive.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});G.displayName="SelectItemAlignedPosition";var J=s.forwardRef((e,s)=>{let{__scopeSelect:a,align:r="start",collisionPadding:n=10,...l}=e,i=R(a);return(0,t.jsx)(h.Content,{...i,...l,ref:s,align:r,collisionPadding:n,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J.displayName="SelectPopperPosition";var[Z,ee]=I($,{}),et="SelectViewport",es=s.forwardRef((e,a)=>{let{__scopeSelect:r,nonce:l,...o}=e,d=W(et,r),c=ee(et,r),u=(0,i.useComposedRefs)(a,d.onViewportChange),p=s.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),(0,t.jsx)(T.Slot,{scope:r,children:(0,t.jsx)(f.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:(0,n.composeEventHandlers)(o.onScroll,e=>{let t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:a}=c;if(a?.current&&s){let e=Math.abs(p.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,r=Math.max(parseFloat(s.style.minHeight),parseFloat(s.style.height));if(r<a){let n=r+e,l=Math.min(a,n),i=n-l;s.style.height=l+"px","0px"===s.style.bottom&&(t.scrollTop=i>0?i:0,s.style.justifyContent="flex-end")}}}p.current=t.scrollTop})})})]})});es.displayName=et;var ea="SelectGroup",[er,en]=I(ea);s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e,n=(0,m.useId)();return(0,t.jsx)(er,{scope:a,id:n,children:(0,t.jsx)(f.Primitive.div,{role:"group","aria-labelledby":n,...r,ref:s})})}).displayName=ea;var el="SelectLabel",ei=s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e,n=en(el,a);return(0,t.jsx)(f.Primitive.div,{id:n.id,...r,ref:s})});ei.displayName=el;var eo="SelectItem",[ed,ec]=I(eo),eu=s.forwardRef((e,a)=>{let{__scopeSelect:r,value:l,disabled:o=!1,textValue:d,...c}=e,u=H(eo,r),p=W(eo,r),h=u.value===l,[x,g]=s.useState(d??""),[v,y]=s.useState(!1),j=(0,i.useComposedRefs)(a,e=>p.itemRefCallback?.(e,l,o)),w=(0,m.useId)(),b=s.useRef("touch"),N=()=>{o||(u.onValueChange(l),u.onOpenChange(!1))};if(""===l)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(ed,{scope:r,value:l,disabled:o,textId:w,isSelected:h,onItemTextChange:s.useCallback(e=>{g(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(T.ItemSlot,{scope:r,value:l,disabled:o,textValue:x,children:(0,t.jsx)(f.Primitive.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:j,onFocus:(0,n.composeEventHandlers)(c.onFocus,()=>y(!0)),onBlur:(0,n.composeEventHandlers)(c.onBlur,()=>y(!1)),onClick:(0,n.composeEventHandlers)(c.onClick,()=>{"mouse"!==b.current&&N()}),onPointerUp:(0,n.composeEventHandlers)(c.onPointerUp,()=>{"mouse"===b.current&&N()}),onPointerDown:(0,n.composeEventHandlers)(c.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,n.composeEventHandlers)(c.onPointerMove,e=>{b.current=e.pointerType,o?p.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,n.composeEventHandlers)(c.onPointerLeave,e=>{e.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:(0,n.composeEventHandlers)(c.onKeyDown,e=>{(p.searchRef?.current===""||" "!==e.key)&&(k.includes(e.key)&&N()," "===e.key&&e.preventDefault())})})})})});eu.displayName=eo;var ep="SelectItemText",em=s.forwardRef((e,r)=>{let{__scopeSelect:n,className:l,style:o,...d}=e,c=H(ep,n),u=W(ep,n),p=ec(ep,n),m=B(ep,n),[h,x]=s.useState(null),g=(0,i.useComposedRefs)(r,e=>x(e),p.onItemTextChange,e=>u.itemTextRefCallback?.(e,p.value,p.disabled)),v=h?.textContent,y=s.useMemo(()=>(0,t.jsx)("option",{value:p.value,disabled:p.disabled,children:v},p.value),[p.disabled,p.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=m;return(0,j.useLayoutEffect)(()=>(w(y),()=>b(y)),[w,b,y]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Primitive.span,{id:p.textId,...d,ref:g}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?a.createPortal(d.children,c.valueNode):null]})});em.displayName=ep;var eh="SelectItemIndicator",ex=s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e;return ec(eh,a).isSelected?(0,t.jsx)(f.Primitive.span,{"aria-hidden":!0,...r,ref:s}):null});ex.displayName=eh;var ef="SelectScrollUpButton",eg=s.forwardRef((e,a)=>{let r=W(ef,e.__scopeSelect),n=ee(ef,e.__scopeSelect),[l,o]=s.useState(!1),d=(0,i.useComposedRefs)(a,n.onScrollButtonChange);return(0,j.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){o(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),l?(0,t.jsx)(ej,{...e,ref:d,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eg.displayName=ef;var ev="SelectScrollDownButton",ey=s.forwardRef((e,a)=>{let r=W(ev,e.__scopeSelect),n=ee(ev,e.__scopeSelect),[l,o]=s.useState(!1),d=(0,i.useComposedRefs)(a,n.onScrollButtonChange);return(0,j.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),l?(0,t.jsx)(ej,{...e,ref:d,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});ey.displayName=ev;var ej=s.forwardRef((e,a)=>{let{__scopeSelect:r,onAutoScroll:l,...i}=e,o=W("SelectScrollButton",r),d=s.useRef(null),c=M(r),u=s.useCallback(()=>{null!==d.current&&(window.clearInterval(d.current),d.current=null)},[]);return s.useEffect(()=>()=>u(),[u]),(0,j.useLayoutEffect)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,t.jsx)(f.Primitive.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:(0,n.composeEventHandlers)(i.onPointerDown,()=>{null===d.current&&(d.current=window.setInterval(l,50))}),onPointerMove:(0,n.composeEventHandlers)(i.onPointerMove,()=>{o.onItemLeave?.(),null===d.current&&(d.current=window.setInterval(l,50))}),onPointerLeave:(0,n.composeEventHandlers)(i.onPointerLeave,()=>{u()})})}),ew=s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e;return(0,t.jsx)(f.Primitive.div,{"aria-hidden":!0,...r,ref:s})});ew.displayName="SelectSeparator";var eb="SelectArrow";function eN(e){return""===e||void 0===e}s.forwardRef((e,s)=>{let{__scopeSelect:a,...r}=e,n=R(a),l=H(eb,a),i=W(eb,a);return l.open&&"popper"===i.position?(0,t.jsx)(h.Arrow,{...n,...r,ref:s}):null}).displayName=eb;var eC=s.forwardRef((e,a)=>{let{value:r,...n}=e,l=s.useRef(null),o=(0,i.useComposedRefs)(a,l),d=(0,w.usePrevious)(r);return s.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(d!==r&&t){let s=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(s)}},[d,r]),(0,t.jsx)(b.VisuallyHidden,{asChild:!0,children:(0,t.jsx)("select",{...n,ref:o,defaultValue:r})})});function eS(e){let t=(0,v.useCallbackRef)(e),a=s.useRef(""),r=s.useRef(0),n=s.useCallback(e=>{let s=a.current+e;t(s),function e(t){a.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),l=s.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,l]}function ek(e,t,s){var a,r;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,l=s?e.indexOf(s):-1,i=(a=e,r=Math.max(l,0),a.map((e,t)=>a[(r+t)%a.length]));1===n.length&&(i=i.filter(e=>e!==s));let o=i.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==s?o:void 0}eC.displayName="BubbleSelect";var eD=e.i(43531),eT=e.i(64659);let eM=(0,e.i(75254).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eE=e.i(48020);let eI=s.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(z,{ref:r,className:(0,eE.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,t.jsx)(q,{asChild:!0,children:(0,t.jsx)(eT.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));eI.displayName=z.displayName;let eA=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(eg,{ref:a,className:(0,eE.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(eM,{className:"h-4 w-4"})}));eA.displayName=eg.displayName;let eR=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(ey,{ref:a,className:(0,eE.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(eT.ChevronDown,{className:"h-4 w-4"})}));eR.displayName=ey.displayName;let eP=s.forwardRef(({className:e,children:s,position:a="popper",...r},n)=>(0,t.jsx)(K,{children:(0,t.jsxs)(_,{ref:n,className:(0,eE.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[(0,t.jsx)(eA,{}),(0,t.jsx)(es,{className:(0,eE.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(eR,{})]})}));eP.displayName=_.displayName,s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(ei,{ref:a,className:(0,eE.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=ei.displayName;let eH=s.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(eu,{ref:r,className:(0,eE.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(ex,{children:(0,t.jsx)(eD.Check,{className:"h-4 w-4"})})}),(0,t.jsx)(em,{children:s})]}));eH.displayName=eu.displayName,s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(ew,{ref:a,className:(0,eE.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=ew.displayName,e.s(["Select",()=>F,"SelectContent",()=>eP,"SelectItem",()=>eH,"SelectTrigger",()=>eI,"SelectValue",()=>O],85024)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},58377,e=>{"use strict";let t=(0,e.i(75254).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>t],58377)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},81997,e=>{"use strict";let t=(0,e.i(75254).default)("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);e.s(["MessagesSquare",()=>t],81997)},6237,e=>{"use strict";var t=e.i(18050),s=e.i(66027),a=e.i(35321),r=e.i(30656),n=e.i(44793),l=e.i(86311),i=e.i(86536),o=e.i(69638),d=e.i(25652),c=e.i(7233),u=e.i(55436),p=e.i(58377),m=e.i(3116),h=e.i(21218),x=e.i(83086),f=e.i(81997),g=e.i(7398),v=e.i(29085),y=e.i(85024),j=e.i(22016),w=e.i(9637),b=e.i(71645),N=e.i(18148),C=e.i(50121);function S({initialThreads:e}){let{isAuthenticated:S,login:k}=(0,N.useAuth)(),[D,T]=(0,b.useState)(""),[M,E]=(0,b.useState)("all"),[I,A]=(0,b.useState)("latest"),[R,P]=(0,b.useState)("all"),[H,L]=(0,b.useState)(new Set),{data:B,isLoading:F}=(0,s.useQuery)({queryKey:["/api/threads"],initialData:e,queryFn:async()=>{let e=await fetch("/api/threads?sortBy=newest&limit=100",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch threads");return e.json()},refetchInterval:3e4}),{data:U,isLoading:z}=(0,s.useQuery)({queryKey:["/api/stats"],queryFn:async()=>{let e=await fetch("/api/stats",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch stats");let t=await e.json();return{totalThreads:t.totalThreads||0,totalPosts:t.totalPosts||0,activeUsers:t.totalMembers||0,trendingThreads:0}},refetchInterval:3e4}),{data:V,isLoading:O}=(0,s.useQuery)({queryKey:["/api/discussions/trending"],queryFn:async()=>{let e=await fetch("/api/discussions/trending?period=24h&limit=5",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch trending");return e.json()},refetchInterval:3e4}),{data:q,isLoading:K}=(0,s.useQuery)({queryKey:["/api/discussions/activity"],queryFn:async()=>{let e=await fetch("/api/discussions/activity?limit=10",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch activity");return e.json()},refetchInterval:3e4}),$=(0,b.useMemo)(()=>U?{...U,trendingThreads:V?.length||0}:null,[U,V]),_=(0,b.useMemo)(()=>B?Array.from(new Set(B.map(e=>e.categorySlug))):[],[B]),X=(0,b.useMemo)(()=>{if(!B)return[];let e=[...B];if(D){let t=D.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.body.toLowerCase().includes(t))}switch("all"!==M&&(e=e.filter(e=>e.categorySlug===M)),"hot"===R?e=e.filter(e=>(e.engagementScore||0)>50):"trending"===R?e=e.filter(e=>{let t=new Date;return t.setHours(t.getHours()-24),new Date(e.lastActivityAt)>t&&e.replyCount>0}):"unanswered"===R?e=e.filter(e=>0===e.replyCount):"solved"===R&&(e=e.filter(e=>e.hasAcceptedAnswer)),I){case"popular":case"views":e.sort((e,t)=>t.views-e.views);break;case"replies":e.sort((e,t)=>t.replyCount-e.replyCount);break;default:e.sort((e,t)=>new Date(t.lastActivityAt).getTime()-new Date(e.lastActivityAt).getTime())}return[...e.filter(e=>e.isPinned),...e.filter(e=>!e.isPinned)]},[B,D,M,I,R]),W=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return F?(0,t.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(C.Skeleton,{className:"h-10 w-64 mb-2"}),(0,t.jsx)(C.Skeleton,{className:"h-4 w-96"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>(0,t.jsx)(C.Skeleton,{className:"h-48"},e))})]}):(0,t.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3","data-testid":"heading-discussions",children:[(0,t.jsx)(f.MessagesSquare,{className:"w-8 h-8 text-primary"}),"Recent Discussions"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Join the conversation. Browse active threads and share your insights."})]}),(0,t.jsxs)(g.Button,{onClick:()=>{S?window.location.href="/discussions/new":k()},"data-testid":"button-new-thread",children:[(0,t.jsx)(c.Plus,{className:"w-4 h-4 mr-2"}),"New Thread"]})]}),!z&&$&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[(0,t.jsx)(a.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,t.jsx)(a.CardContent,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10",children:(0,t.jsx)(l.MessageSquare,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-total-threads",children:$.totalThreads}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Threads"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10",children:(0,t.jsx)(h.Activity,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-active-today",children:X.filter(e=>{let t=new Date;return t.setHours(0,0,0,0),new Date(e.lastActivityAt)>t}).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active Today"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/10",children:(0,t.jsx)(f.MessagesSquare,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-replies-24h",children:$.totalPosts}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Replies"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/10",children:(0,t.jsx)(d.TrendingUp,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-trending-now",children:$.trendingThreads}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Trending Now"})]})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(v.Input,{type:"search",placeholder:"Search discussions...",className:"pl-9",value:D,onChange:e=>T(e.target.value),"data-testid":"input-search-discussions"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(y.Select,{value:M,onValueChange:E,children:[(0,t.jsx)(y.SelectTrigger,{"data-testid":"select-category",children:(0,t.jsx)(y.SelectValue,{placeholder:"All Categories"})}),(0,t.jsxs)(y.SelectContent,{children:[(0,t.jsx)(y.SelectItem,{value:"all",children:"All Categories"}),_.map(e=>(0,t.jsx)(y.SelectItem,{value:e,children:W(e)},e))]})]}),(0,t.jsxs)(y.Select,{value:I,onValueChange:A,children:[(0,t.jsx)(y.SelectTrigger,{"data-testid":"select-sort",children:(0,t.jsx)(y.SelectValue,{placeholder:"Sort by"})}),(0,t.jsxs)(y.SelectContent,{children:[(0,t.jsx)(y.SelectItem,{value:"latest",children:"Latest Activity"}),(0,t.jsx)(y.SelectItem,{value:"popular",children:"Most Popular"}),(0,t.jsx)(y.SelectItem,{value:"replies",children:"Most Replies"}),(0,t.jsx)(y.SelectItem,{value:"views",children:"Most Views"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(g.Button,{variant:"all"===R?"default":"outline",size:"sm",onClick:()=>P("all"),"data-testid":"chip-all",children:"All"}),(0,t.jsxs)(g.Button,{variant:"hot"===R?"default":"outline",size:"sm",onClick:()=>P("hot"),"data-testid":"chip-hot",children:[(0,t.jsx)(p.Flame,{className:"w-3 h-3 mr-1"}),"Hot"]}),(0,t.jsxs)(g.Button,{variant:"trending"===R?"default":"outline",size:"sm",onClick:()=>P("trending"),"data-testid":"chip-trending",children:[(0,t.jsx)(d.TrendingUp,{className:"w-3 h-3 mr-1"}),"Trending"]}),(0,t.jsx)(g.Button,{variant:"unanswered"===R?"default":"outline",size:"sm",onClick:()=>P("unanswered"),"data-testid":"chip-unanswered",children:"Unanswered"}),(0,t.jsxs)(g.Button,{variant:"solved"===R?"default":"outline",size:"sm",onClick:()=>P("solved"),"data-testid":"chip-solved",children:[(0,t.jsx)(o.CheckCircle,{className:"w-3 h-3 mr-1"}),"Solved"]})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:X&&X.length>0?X.map(e=>{let s,c,u=(s=e.categorySlug.toLowerCase()).includes("strategy")||s.includes("discussion")?{bg:"bg-blue-100 dark:bg-blue-950",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800"}:s.includes("performance")||s.includes("report")?{bg:"bg-green-100 dark:bg-green-950",text:"text-green-700 dark:text-green-300",border:"border-green-200 dark:border-green-800"}:s.includes("ea")||s.includes("library")?{bg:"bg-purple-100 dark:bg-purple-950",text:"text-purple-700 dark:text-purple-300",border:"border-purple-200 dark:border-purple-800"}:s.includes("beginner")||s.includes("question")?{bg:"bg-orange-100 dark:bg-orange-950",text:"text-orange-700 dark:text-orange-300",border:"border-orange-200 dark:border-orange-800"}:s.includes("support")||s.includes("technical")?{bg:"bg-red-100 dark:bg-red-950",text:"text-red-700 dark:text-red-300",border:"border-red-200 dark:border-red-800"}:{bg:"bg-gray-100 dark:bg-gray-800",text:"text-gray-700 dark:text-gray-300",border:"border-gray-200 dark:border-gray-700"},h=(e.engagementScore||0)>50,x=((c=new Date).setHours(c.getHours()-24),new Date(e.lastActivityAt)>c&&e.replyCount>2),f=H.has(e.id);return(0,t.jsx)(j.default,{href:`/thread/${e.slug}`,children:(0,t.jsx)(a.Card,{className:"h-full hover:border-primary/30 hover-elevate active-elevate-2 cursor-pointer transition-all duration-200","data-testid":`card-thread-${e.slug}`,children:(0,t.jsxs)(a.CardContent,{className:"p-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[(0,t.jsx)(r.Badge,{variant:"outline",className:`text-[10px] px-2 py-0.5 ${u.bg} ${u.text} ${u.border}`,"data-testid":`badge-category-${e.slug}`,children:W(e.categorySlug)}),(0,t.jsxs)("div",{className:"flex gap-1",children:[e.isPinned&&(0,t.jsx)(r.Badge,{variant:"secondary",className:"text-[10px] px-1.5 py-0","data-testid":`badge-pinned-${e.slug}`,children:"Pinned"}),x&&(0,t.jsxs)(r.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-orange-500/10 text-orange-700 dark:text-orange-400 border-orange-500/30",children:[(0,t.jsx)(d.TrendingUp,{className:"w-2.5 h-2.5 mr-0.5"}),"Trending"]}),h&&(0,t.jsxs)(r.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/30",children:[(0,t.jsx)(p.Flame,{className:"w-2.5 h-2.5 mr-0.5"}),"Hot"]}),e.hasAcceptedAnswer&&(0,t.jsx)(r.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/30",children:(0,t.jsx)(o.CheckCircle,{className:"w-2.5 h-2.5"})})]})]}),(0,t.jsx)("h3",{className:"font-semibold text-sm line-clamp-2 leading-tight","data-testid":`title-${e.slug}`,children:e.title}),e.body&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:`text-xs text-muted-foreground leading-relaxed ${f?"":"line-clamp-3"}`,"data-testid":`body-preview-${e.slug}`,children:e.body.replace(/<[^>]*>/g,"")}),e.body.length>150&&(0,t.jsx)("button",{onClick:t=>{var s;t.preventDefault(),t.stopPropagation(),s=e.id,L(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},className:"text-xs text-primary hover:underline mt-1 font-medium","data-testid":`button-toggle-${e.slug}`,children:f?"Show less":"Show more"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.Avatar,{className:"h-6 w-6 shrink-0",children:[(0,t.jsx)(n.AvatarImage,{src:e.author?.profileImageUrl}),(0,t.jsx)(n.AvatarFallback,{className:"text-[10px]",children:e.author?.username?.[0]?.toUpperCase()||"U"})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground truncate","data-testid":`author-${e.slug}`,children:e.author?.username||"Unknown"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(l.MessageSquare,{className:"w-3 h-3"}),(0,t.jsx)("span",{"data-testid":`replies-${e.slug}`,children:e.replyCount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.Eye,{className:"w-3 h-3"}),(0,t.jsx)("span",{"data-testid":`views-${e.slug}`,children:e.views})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Clock,{className:"w-3 h-3"}),(0,t.jsx)("span",{suppressHydrationWarning:!0,className:"text-[10px]","data-testid":`activity-${e.slug}`,children:(0,w.formatDistanceToNow)(new Date(e.lastActivityAt),{addSuffix:!0})})]})]})]})})},e.id)}):(0,t.jsx)("div",{className:"col-span-full text-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No discussions found matching your filters."})})})]}),(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(a.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(d.TrendingUp,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),"Trending Now"]}),(0,t.jsx)(a.CardDescription,{className:"text-xs",children:"Hot discussions in the last 24 hours"})]}),(0,t.jsx)(a.CardContent,{className:"space-y-3","data-testid":"widget-trending",children:O?[,,,,,].fill(0).map((e,s)=>(0,t.jsx)(C.Skeleton,{className:"h-16"},s)):V&&V.length>0?V.map((e,s)=>(0,t.jsx)(j.default,{href:`/thread/${e.slug}`,children:(0,t.jsx)("div",{className:"p-3 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer","data-testid":`trending-item-${s}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)(r.Badge,{variant:"outline",className:"shrink-0 text-[10px] px-1.5 py-0.5",children:["#",s+1]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium line-clamp-2 mb-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(l.MessageSquare,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.replyCount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.Eye,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.views})]})]})]})]})})},e.threadId)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No trending discussions right now"})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(a.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(h.Activity,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Recent Activity"]}),(0,t.jsx)(a.CardDescription,{className:"text-xs",children:"Live community updates"})]}),(0,t.jsx)(a.CardContent,{className:"space-y-2","data-testid":"widget-activity",children:K?[,,,,,].fill(0).map((e,s)=>(0,t.jsx)(C.Skeleton,{className:"h-12"},s)):q&&q.length>0?q.slice(0,10).map((e,s)=>(0,t.jsx)(j.default,{href:`/thread/${e.threadId}`,children:(0,t.jsx)("div",{className:"p-2 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer text-xs","data-testid":`activity-item-${s}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)(n.Avatar,{className:"h-6 w-6 shrink-0",children:[(0,t.jsx)(n.AvatarImage,{src:e.profileImageUrl}),(0,t.jsx)(n.AvatarFallback,{className:"text-[10px]",children:e.username[0]?.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"line-clamp-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.username})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:e.action})," ",(0,t.jsx)("span",{className:"font-medium line-clamp-1",children:e.threadTitle})]}),(0,t.jsx)("p",{suppressHydrationWarning:!0,className:"text-[10px] text-muted-foreground mt-0.5",children:(0,w.formatDistanceToNow)(new Date(e.timestamp),{addSuffix:!0})})]})]})})},s)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No recent activity"})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-3",children:(0,t.jsxs)(a.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(x.Sparkles,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),"Quick Stats"]})}),(0,t.jsxs)(a.CardContent,{className:"space-y-3","data-testid":"widget-stats",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active Discussions"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:X.filter(e=>{let t=new Date;return t.setHours(0,0,0,0),new Date(e.lastActivityAt)>t}).length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Unanswered"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:X.filter(e=>0===e.replyCount).length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Solved"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:X.filter(e=>e.hasAcceptedAnswer).length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Categories"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:_.length})]})]})]})]})]})]})}e.s(["default",()=>S])}]);