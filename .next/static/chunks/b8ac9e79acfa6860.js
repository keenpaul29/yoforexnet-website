(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39312,e=>{"use strict";let a=(0,e.i(75254).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>a],39312)},40176,e=>{"use strict";var a=e.i(18050),s=e.i(71645),t=e.i(81140),r=e.i(30030),i=e.i(42727),n=e.i(96626),d=e.i(48425),l=e.i(86318),o=e.i(69340),c=e.i(10772),u="Tabs",[m,x]=(0,r.createContextScope)(u,[i.createRovingFocusGroupScope]),h=(0,i.createRovingFocusGroupScope)(),[f,b]=m(u),p=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:u="horizontal",dir:m,activationMode:x="automatic",...h}=e,b=(0,l.useDirection)(m),[p,v]=(0,o.useControllableState)({prop:r,onChange:i,defaultProp:n});return(0,a.jsx)(f,{scope:t,baseId:(0,c.useId)(),value:p,onValueChange:v,orientation:u,dir:b,activationMode:x,children:(0,a.jsx)(d.Primitive.div,{dir:b,"data-orientation":u,...h,ref:s})})});p.displayName=u;var v="TabsList",j=s.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...n}=e,l=b(v,t),o=h(t);return(0,a.jsx)(i.Root,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:r,children:(0,a.jsx)(d.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:s})})});j.displayName=v;var y="TabsTrigger",g=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,disabled:l=!1,...o}=e,c=b(y,r),u=h(r),m=C(c.baseId,n),x=T(c.baseId,n),f=n===c.value;return(0,a.jsx)(i.Item,{asChild:!0,...u,focusable:!l,active:f,children:(0,a.jsx)(d.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...o,ref:s,onMouseDown:(0,t.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,t.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,t.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||l||!e||c.onValueChange(n)})})})});g.displayName=y;var N="TabsContent",w=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:l,children:o,...c}=e,u=b(N,r),m=C(u.baseId,i),x=T(u.baseId,i),h=i===u.value,f=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(n.Presence,{present:l||h,children:({present:s})=>(0,a.jsx)(d.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&o})})});function C(e,a){return`${e}-trigger-${a}`}function T(e,a){return`${e}-content-${a}`}w.displayName=N;var I=e.i(48020);let k=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(j,{ref:t,className:(0,I.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));k.displayName=j.displayName;let $=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(g,{ref:t,className:(0,I.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));$.displayName=g.displayName;let q=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(w,{ref:t,className:(0,I.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));q.displayName=w.displayName,e.s(["Tabs",()=>p,"TabsContent",()=>q,"TabsList",()=>k,"TabsTrigger",()=>$],40176)},12426,e=>{"use strict";let a=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>a],12426)},84243,e=>{"use strict";let a=(0,e.i(75254).default)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);e.s(["Medal",()=>a],84243)},23499,e=>{"use strict";var a=e.i(18050),s=e.i(66027),t=e.i(40176),r=e.i(35321),i=e.i(64030),n=e.i(84243),d=e.i(42009),l=e.i(25652),o=e.i(61911),c=e.i(12426),u=e.i(30656),m=e.i(26002);function x({userId:e}){let{data:t,isError:r}=(0,s.useQuery)({queryKey:["/api/users",e,"badges"],queryFn:async()=>{let a=await fetch(`/api/users/${e}/badges`,{credentials:"include"});if(!a.ok)throw Error("Failed to fetch badges");return a.json()},retry:!1,staleTime:3e5});return r||!t?null:(0,a.jsx)(m.BadgeDisplay,{badges:t,size:"sm"})}function h({initialCoinLeaders:e,initialContributors:m,initialSellers:h}){let{data:f,isLoading:b}=(0,s.useQuery)({queryKey:["/api/leaderboards/coins"],initialData:e,queryFn:async()=>{let e=await fetch("/api/leaderboards/coins",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch coin leaders");return e.json()},refetchInterval:3e4}),{data:p,isLoading:v}=(0,s.useQuery)({queryKey:["/api/leaderboards/contributors"],initialData:m,queryFn:async()=>{let e=await fetch("/api/leaderboards/contributors",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch contributors");return e.json()},refetchInterval:3e4}),{data:j,isLoading:y}=(0,s.useQuery)({queryKey:["/api/leaderboards/sellers"],initialData:h,queryFn:async()=>{let e=await fetch("/api/leaderboards/sellers",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch sellers");return e.json()},refetchInterval:3e4});function g(e){return 1===e?(0,a.jsx)(i.Trophy,{className:"w-5 h-5 text-yellow-500","data-testid":"icon-rank-1"}):2===e?(0,a.jsx)(n.Medal,{className:"w-5 h-5 text-gray-400","data-testid":"icon-rank-2"}):3===e?(0,a.jsx)(d.Award,{className:"w-5 h-5 text-amber-600","data-testid":"icon-rank-3"}):(0,a.jsxs)("span",{className:"text-muted-foreground text-sm","data-testid":`text-rank-${e}`,children:["#",e]})}return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 flex-1",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2","data-testid":"heading-leaderboards",children:"Leaderboards"}),(0,a.jsx)("p",{className:"text-muted-foreground","data-testid":"text-leaderboard-description",children:"Top performers in the YoForex community"})]}),(0,a.jsxs)(t.Tabs,{defaultValue:"coins",className:"w-full",children:[(0,a.jsxs)(t.TabsList,{className:"grid w-full grid-cols-3","data-testid":"tabs-leaderboard",children:[(0,a.jsxs)(t.TabsTrigger,{value:"coins","data-testid":"tab-coins",children:[(0,a.jsx)(c.DollarSign,{className:"w-4 h-4 mr-2"}),"Top by Coins"]}),(0,a.jsxs)(t.TabsTrigger,{value:"contributors","data-testid":"tab-contributors",children:[(0,a.jsx)(o.Users,{className:"w-4 h-4 mr-2"}),"Top Contributors"]}),(0,a.jsxs)(t.TabsTrigger,{value:"sellers","data-testid":"tab-sellers",children:[(0,a.jsx)(l.TrendingUp,{className:"w-4 h-4 mr-2"}),"Top Sellers"]})]}),(0,a.jsx)(t.TabsContent,{value:"coins","data-testid":"content-coins",children:(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{children:"Top Users by Coin Balance"})}),(0,a.jsx)(r.CardContent,{children:b?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground","data-testid":"loading-coins",children:"Loading..."}):(0,a.jsx)("div",{className:"space-y-2",children:f?.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md hover-elevate","data-testid":`leader-coins-${e.rank}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 flex justify-center",children:g(e.rank)}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium","data-testid":`username-${e.userId}`,children:e.username}),(0,a.jsx)(x,{userId:e.userId})]})})]}),(0,a.jsxs)(u.Badge,{variant:"secondary","data-testid":`balance-${e.userId}`,children:[e.balance," coins"]})]},e.userId))})})]})}),(0,a.jsx)(t.TabsContent,{value:"contributors","data-testid":"content-contributors",children:(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{children:"Top Contributors"})}),(0,a.jsx)(r.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground","data-testid":"loading-contributors",children:"Loading..."}):(0,a.jsx)("div",{className:"space-y-2",children:p?.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md hover-elevate","data-testid":`leader-contributor-${e.rank}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 flex justify-center",children:g(e.rank)}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium","data-testid":`username-${e.userId}`,children:e.username}),(0,a.jsx)(x,{userId:e.userId})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground","data-testid":`stats-${e.userId}`,children:[e.helpfulCount," helpful â€¢ ",e.acceptedCount," accepted"]})]})]}),(0,a.jsxs)(u.Badge,{variant:"secondary","data-testid":`contributions-${e.userId}`,children:[e.totalContributions," total"]})]},e.userId))})})]})}),(0,a.jsx)(t.TabsContent,{value:"sellers","data-testid":"content-sellers",children:(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{children:"Top Sellers by Revenue"})}),(0,a.jsx)(r.CardContent,{children:y?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground","data-testid":"loading-sellers",children:"Loading..."}):(0,a.jsx)("div",{className:"space-y-2",children:j?.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md hover-elevate","data-testid":`leader-seller-${e.rank}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 flex justify-center",children:g(e.rank)}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium","data-testid":`username-${e.userId}`,children:e.username}),(0,a.jsx)(x,{userId:e.userId})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground","data-testid":`sales-count-${e.userId}`,children:[e.salesCount," sales"]})]})]}),(0,a.jsxs)(u.Badge,{variant:"secondary","data-testid":`revenue-${e.userId}`,children:[e.totalRevenue," coins"]})]},e.userId))})})]})})]})]})}e.s(["default",()=>h])}]);