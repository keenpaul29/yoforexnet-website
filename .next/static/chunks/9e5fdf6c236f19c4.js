(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78583,e=>{"use strict";let t=(0,e.i(75254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},50121,e=>{"use strict";var t=e.i(18050),a=e.i(48020);function s({className:e,...s}){return(0,t.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...s})}e.s(["Skeleton",()=>s])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},35321,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(48020);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-4",e),...a}));i.displayName="CardHeader";let d=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));l.displayName="CardDescription";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-4 pt-0",e),...a}));n.displayName="CardContent";let c=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-4 pt-0",e),...a}));c.displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>i,"CardTitle",()=>d])},70273,e=>{"use strict";let t=(0,e.i(75254).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);e.s(["Star",()=>t],70273)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],61911)},79196,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(26999),r=e.i(37727),i=e.i(48020);let d=s.Root,l=s.Trigger,n=s.Portal;s.Close;let c=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Overlay,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));c.displayName=s.Overlay.displayName;let o=a.forwardRef(({className:e,children:a,...d},l)=>(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(s.Content,{ref:l,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...d,children:[a,(0,t.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(r.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));o.displayName=s.Content.displayName;let m=({className:e,...a})=>(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});m.displayName="DialogHeader";let x=({className:e,...a})=>(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="DialogFooter";let u=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Title,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));u.displayName=s.Title.displayName;let h=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Description,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=s.Description.displayName,e.s(["Dialog",()=>d,"DialogContent",()=>o,"DialogDescription",()=>h,"DialogFooter",()=>x,"DialogHeader",()=>m,"DialogTitle",()=>u,"DialogTrigger",()=>l])},97801,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(18148),r=e.i(79196),i=e.i(7398),d=e.i(61911),l=e.i(25652),n=e.i(42009),c=e.i(86311);function o({open:e,onOpenChange:a,action:o="continue"}){let{login:m}=(0,s.useAuth)();return(0,t.jsx)(r.Dialog,{open:e,onOpenChange:a,children:(0,t.jsxs)(r.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{className:"text-2xl text-center mb-2",children:"Join YoForex Community"}),(0,t.jsxs)(r.DialogDescription,{className:"text-center space-y-4",children:[(0,t.jsxs)("p",{className:"text-base",children:["Sign in to ",o," and be part of thousands of successful traders!"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 my-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,t.jsx)(c.MessageSquare,{className:"h-8 w-8 text-primary"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:"Share Strategies"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,t.jsx)(n.Award,{className:"h-8 w-8 text-chart-3"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:"Earn Gold Coins"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,t.jsx)(l.TrendingUp,{className:"h-8 w-8 text-chart-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:"Access Premium EAs"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,t.jsx)(d.Users,{className:"h-8 w-8 text-chart-2"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:"Connect with Pros"})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Free forever â€¢ No credit card required"})]})]}),(0,t.jsxs)(r.DialogFooter,{className:"sm:justify-center gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-auth",children:"Maybe Later"}),(0,t.jsx)(i.Button,{onClick:()=>{m()},"data-testid":"button-login-auth",className:"min-w-[140px]",children:"Sign In / Sign Up"})]})]})})}function m(e="continue"){let{user:r,isLoading:i}=(0,s.useAuth)(),[d,l]=(0,a.useState)(!1);return{requireAuth:e=>{if(!i){if(!r)return void l(!0);e()}},AuthPrompt:()=>(0,t.jsx)(o,{open:d,onOpenChange:l,action:e}),isAuthenticated:!!r}}e.s(["useAuthPrompt",()=>m],97801)},38049,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(66027),r=e.i(18566),i=e.i(53501),d=e.i(42422),l=e.i(35321),n=e.i(7398),c=e.i(30656),o=e.i(50121),m=e.i(29085),x=e.i(91918),u=e.i(63059),h=e.i(75254);(0,h.default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var g=e.i(48020);let f=a.forwardRef(({...e},a)=>(0,t.jsx)("nav",{ref:a,"aria-label":"breadcrumb",...e}));f.displayName="Breadcrumb";let p=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("ol",{ref:s,className:(0,g.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...a}));p.displayName="BreadcrumbList";let j=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("li",{ref:s,className:(0,g.cn)("inline-flex items-center gap-1.5",e),...a}));j.displayName="BreadcrumbItem";let N=a.forwardRef(({asChild:e,className:a,...s},r)=>{let i=e?x.Slot:"a";return(0,t.jsx)(i,{ref:r,className:(0,g.cn)("transition-colors hover:text-foreground",a),...s})});N.displayName="BreadcrumbLink";let y=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,g.cn)("font-normal text-foreground",e),...a}));y.displayName="BreadcrumbPage";let b=({children:e,className:a,...s})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,g.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",a),...s,children:e??(0,t.jsx)(u.ChevronRight,{})});b.displayName="BreadcrumbSeparator";var v=e.i(22016),w=e.i(97801),C=e.i(86311),k=e.i(78583),S=e.i(7233),D=e.i(25652),T=e.i(3116),$=e.i(70273),B=e.i(55436);let R=(0,h.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);function A({slug:e,initialCategory:x,initialThreads:u}){let h=(0,r.useRouter)(),{requireAuth:g,AuthPrompt:A}=(0,w.useAuthPrompt)("create a thread"),[F,q]=(0,a.useState)("latest"),[M,P]=(0,a.useState)(""),[H,z]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=setTimeout(()=>{z(M)},300);return()=>clearTimeout(e)},[M]);let{data:L,isLoading:U}=(0,s.useQuery)({queryKey:["/api/categories",e],initialData:x,enabled:!!e}),{data:K}=(0,s.useQuery)({queryKey:["/api/categories"]}),{data:O}=(0,s.useQuery)({queryKey:["/api/categories",e,"subcategories"],enabled:!!e}),{data:E,isLoading:Q}=(0,s.useQuery)({queryKey:["/api/categories",e,"threads",F,H],queryFn:async()=>{let t=new URLSearchParams({tab:F});H&&t.append("q",H);let a=await fetch(`/api/categories/${e}/threads?${t}`);if(!a.ok)throw Error("Failed to fetch threads");return a.json()},initialData:u,enabled:!!e}),I=U||Q,G=L?.parentSlug?K?.find(e=>e.slug===L.parentSlug):null;return L||I?I&&!L?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(i.default,{}),(0,t.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)(o.Skeleton,{className:"h-24 w-full mb-8"}),(0,t.jsx)("div",{className:"space-y-4",children:Array(8).fill(0).map((e,a)=>(0,t.jsx)(o.Skeleton,{className:"h-32"},a))})]}),(0,t.jsx)(d.default,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(i.default,{}),(0,t.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)(f,{className:"mb-6","data-testid":"breadcrumb-navigation",children:(0,t.jsxs)(p,{children:[(0,t.jsx)(j,{children:(0,t.jsx)(N,{href:"/","data-testid":"breadcrumb-home",children:(0,t.jsx)(R,{className:"h-4 w-4"})})}),(0,t.jsx)(b,{}),G&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{children:(0,t.jsx)(N,{href:`/category/${G.slug}`,"data-testid":"breadcrumb-parent",children:G.name})}),(0,t.jsx)(b,{})]}),(0,t.jsx)(j,{children:(0,t.jsx)(y,{"data-testid":"breadcrumb-current",children:L?.name})})]})}),(0,t.jsx)(l.Card,{className:"mb-8","data-testid":"card-category-header",children:(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(l.CardTitle,{className:"text-2xl","data-testid":"heading-category-name",children:L?.name}),(0,t.jsx)(c.Badge,{variant:"secondary","data-testid":"badge-active-status",children:"Active"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4","data-testid":"text-category-description",children:L?.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(C.MessageSquare,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("span",{"data-testid":"stat-thread-count",children:[(0,t.jsx)("strong",{children:(L?.threadCount??0).toLocaleString()})," threads"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(k.FileText,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("span",{"data-testid":"stat-post-count",children:[(0,t.jsx)("strong",{children:(L?.postCount??0).toLocaleString()})," posts"]})]})]})]}),(0,t.jsxs)(n.Button,{size:"default","data-testid":"button-create-thread",onClick:()=>g(()=>{h.push(`/discussions/new?category=${e}`)}),children:[(0,t.jsx)(S.Plus,{className:"w-4 h-4 mr-2"}),"New Thread"]})]})})}),O&&O.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4","data-testid":"heading-subcategories",children:"Subcategories"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(e=>(0,t.jsx)(l.Card,{className:"hover-elevate active-elevate-2 cursor-pointer","data-testid":`card-subcategory-${e.slug}`,children:(0,t.jsxs)(v.default,{href:`/category/${e.slug}`,children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{className:"text-base","data-testid":`text-subcat-name-${e.slug}`,children:e.name}),(0,t.jsx)(l.CardDescription,{className:"text-sm","data-testid":`text-subcat-desc-${e.slug}`,children:e.description})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":`stat-subcat-threads-${e.slug}`,children:[e.threadCount," threads"]}),(0,t.jsxs)(n.Button,{size:"sm",variant:"outline",onClick:t=>{t.preventDefault(),g(()=>{h.push(`/discussions/new?category=${e.slug}`)})},"data-testid":`button-new-thread-${e.slug}`,children:[(0,t.jsx)(S.Plus,{className:"w-3 h-3 mr-1"}),"New"]})]})})]})},e.slug))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(B.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(m.Input,{type:"text",placeholder:`Search within ${L?.name}...`,value:M,onChange:e=>P(e.target.value),className:"pl-10","data-testid":"input-category-search"})]}),H&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2","data-testid":"text-search-info",children:["Searching in: ",L?.name]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-6 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.Button,{variant:"latest"===F?"default":"ghost",size:"sm",onClick:()=>q("latest"),"data-testid":"filter-latest",children:[(0,t.jsx)(T.Clock,{className:"w-4 h-4 mr-2"}),"Latest"]}),(0,t.jsxs)(n.Button,{variant:"trending"===F?"default":"ghost",size:"sm",onClick:()=>q("trending"),"data-testid":"filter-trending",children:[(0,t.jsx)(D.TrendingUp,{className:"w-4 h-4 mr-2"}),"Trending"]}),(0,t.jsxs)(n.Button,{variant:"answered"===F?"default":"ghost",size:"sm",onClick:()=>q("answered"),"data-testid":"filter-answered",children:[(0,t.jsx)($.Star,{className:"w-4 h-4 mr-2"}),"Answered"]})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground","data-testid":"text-thread-count",children:["Showing ",E?.length||0," threads"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:Q&&!E?[,,,,,].fill(0).map((e,a)=>(0,t.jsx)(o.Skeleton,{className:"h-32"},a)):E&&E.length>0?E.map(e=>(0,t.jsx)(v.default,{href:`/thread/${e.slug}`,"data-testid":`link-thread-${e.id}`,children:(0,t.jsx)(l.Card,{className:"hover-elevate active-elevate-2 cursor-pointer","data-testid":`card-thread-${e.id}`,children:(0,t.jsx)(l.CardContent,{className:"pt-6",children:(0,t.jsx)("div",{className:"flex items-start gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg","data-testid":`text-thread-title-${e.id}`,children:e.title}),e.isPinned&&(0,t.jsx)(c.Badge,{variant:"secondary","data-testid":`badge-pinned-${e.id}`,children:"Pinned"}),e.isSolved&&(0,t.jsx)(c.Badge,{variant:"default","data-testid":`badge-solved-${e.id}`,children:"Solved"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2","data-testid":`text-thread-description-${e.id}`,children:e.metaDescription}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(C.MessageSquare,{className:"w-4 h-4"}),(0,t.jsxs)("span",{"data-testid":`stat-reply-count-${e.id}`,children:[e.replyCount," replies"]})]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(k.FileText,{className:"w-4 h-4"}),(0,t.jsxs)("span",{"data-testid":`stat-view-count-${e.id}`,children:[e.views," views"]})]}),(0,t.jsxs)("span",{"data-testid":`text-last-activity-${e.id}`,children:["Last activity: ",new Date(e.lastActivityAt).toLocaleDateString()]})]})]})})})})},e.id)):(0,t.jsxs)(l.Card,{className:"p-12 text-center","data-testid":"card-no-threads",children:[(0,t.jsx)(C.MessageSquare,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:H?"No threads found":"No threads yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:H?`No threads match your search for "${H}"`:"Be the first to start a discussion in this category!"}),!H&&(0,t.jsxs)(n.Button,{"data-testid":"button-create-first-thread",onClick:()=>g(()=>{h.push(`/discussions/new?category=${e}`)}),children:[(0,t.jsx)(S.Plus,{className:"w-4 h-4 mr-2"}),"Create First Thread"]})]})})]}),(0,t.jsx)(d.default,{}),(0,t.jsx)(A,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(i.default,{}),(0,t.jsx)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)(l.Card,{className:"p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Category Not Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"The category you're looking for doesn't exist."}),(0,t.jsx)(v.default,{href:"/categories",children:(0,t.jsx)(n.Button,{children:"Browse Categories"})})]})}),(0,t.jsx)(d.default,{})]})}e.s(["default",()=>A],38049)}]);