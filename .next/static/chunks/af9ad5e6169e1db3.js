(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,178583,e=>{"use strict";let s=(0,e.i(475254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>s],178583)},297801,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(18148),r=e.i(79196),i=e.i(407398),d=e.i(761911),l=e.i(25652),n=e.i(842009),c=e.i(686311);function o({open:e,onOpenChange:t,action:o="continue"}){let{login:x}=(0,a.useAuth)();return(0,s.jsx)(r.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(r.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(r.DialogHeader,{children:[(0,s.jsx)(r.DialogTitle,{className:"text-2xl text-center mb-2",children:"Join YoForex Community"}),(0,s.jsxs)(r.DialogDescription,{className:"text-center space-y-4",children:[(0,s.jsxs)("p",{className:"text-base",children:["Sign in to ",o," and be part of thousands of successful traders!"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 my-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)(c.MessageSquare,{className:"h-8 w-8 text-primary"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:"Share Strategies"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)(n.Award,{className:"h-8 w-8 text-chart-3"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:"Earn Gold Coins"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)(l.TrendingUp,{className:"h-8 w-8 text-chart-4"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:"Access Premium EAs"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)(d.Users,{className:"h-8 w-8 text-chart-2"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:"Connect with Pros"})]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Free forever â€¢ No credit card required"})]})]}),(0,s.jsxs)(r.DialogFooter,{className:"sm:justify-center gap-2",children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel-auth",children:"Maybe Later"}),(0,s.jsx)(i.Button,{onClick:()=>{x()},"data-testid":"button-login-auth",className:"min-w-[140px]",children:"Sign In / Sign Up"})]})]})})}function x(e="continue"){let{user:r,isLoading:i}=(0,a.useAuth)(),[d,l]=(0,t.useState)(!1);return{requireAuth:e=>{if(!i){if(!r)return void l(!0);e()}},AuthPrompt:()=>(0,s.jsx)(o,{open:d,onOpenChange:l,action:e}),isAuthenticated:!!r}}e.s(["useAuthPrompt",()=>x],297801)},250121,e=>{"use strict";var s=e.i(843476),t=e.i(448020);function a({className:e,...a}){return(0,s.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",e),...a})}e.s(["Skeleton",()=>a])},503116,e=>{"use strict";let s=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],503116)},138049,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(266027),r=e.i(618566),i=e.i(353501),d=e.i(42422),l=e.i(635321),n=e.i(407398),c=e.i(30656),o=e.i(250121),x=e.i(729085),m=e.i(991918),u=e.i(463059),h=e.i(475254);(0,h.default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var g=e.i(448020);let j=t.forwardRef(({...e},t)=>(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...e}));j.displayName="Breadcrumb";let p=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("ol",{ref:a,className:(0,g.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));p.displayName="BreadcrumbList";let f=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("li",{ref:a,className:(0,g.cn)("inline-flex items-center gap-1.5",e),...t}));f.displayName="BreadcrumbItem";let N=t.forwardRef(({asChild:e,className:t,...a},r)=>{let i=e?m.Slot:"a";return(0,s.jsx)(i,{ref:r,className:(0,g.cn)("transition-colors hover:text-foreground",t),...a})});N.displayName="BreadcrumbLink";let b=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,g.cn)("font-normal text-foreground",e),...t}));b.displayName="BreadcrumbPage";let y=({children:e,className:t,...a})=>(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,g.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...a,children:e??(0,s.jsx)(u.ChevronRight,{})});y.displayName="BreadcrumbSeparator";var v=e.i(522016),w=e.i(297801),C=e.i(686311),k=e.i(178583),S=e.i(107233),$=e.i(25652),B=e.i(503116),T=e.i(870273),A=e.i(555436);let q=(0,h.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);function D({slug:e,initialCategory:m,initialThreads:u}){let h=(0,r.useRouter)(),{requireAuth:g,AuthPrompt:D}=(0,w.useAuthPrompt)("create a thread"),[P,F]=(0,t.useState)("latest"),[M,L]=(0,t.useState)(""),[R,z]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=setTimeout(()=>{z(M)},300);return()=>clearTimeout(e)},[M]);let{data:H,isLoading:U}=(0,a.useQuery)({queryKey:["/api/categories",e],initialData:m,enabled:!!e}),{data:K}=(0,a.useQuery)({queryKey:["/api/categories"]}),{data:E}=(0,a.useQuery)({queryKey:["/api/categories",e,"subcategories"],enabled:!!e}),{data:O,isLoading:Q}=(0,a.useQuery)({queryKey:["/api/categories",e,"threads",P,R],queryFn:async()=>{let s=new URLSearchParams({tab:P});R&&s.append("q",R);let t=await fetch(`/api/categories/${e}/threads?${s}`);if(!t.ok)throw Error("Failed to fetch threads");return t.json()},initialData:u,enabled:!!e}),I=U||Q,G=H?.parentSlug?K?.find(e=>e.slug===H.parentSlug):null;return H||I?I&&!H?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(i.default,{}),(0,s.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsx)(o.Skeleton,{className:"h-24 w-full mb-8"}),(0,s.jsx)("div",{className:"space-y-4",children:Array(8).fill(0).map((e,t)=>(0,s.jsx)(o.Skeleton,{className:"h-32"},t))})]}),(0,s.jsx)(d.default,{})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(i.default,{}),(0,s.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsx)(j,{className:"mb-6","data-testid":"breadcrumb-navigation",children:(0,s.jsxs)(p,{children:[(0,s.jsx)(f,{children:(0,s.jsx)(N,{href:"/","data-testid":"breadcrumb-home",children:(0,s.jsx)(q,{className:"h-4 w-4"})})}),(0,s.jsx)(y,{}),G&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{children:(0,s.jsx)(N,{href:`/category/${G.slug}`,"data-testid":"breadcrumb-parent",children:G.name})}),(0,s.jsx)(y,{})]}),(0,s.jsx)(f,{children:(0,s.jsx)(b,{"data-testid":"breadcrumb-current",children:H?.name})})]})}),(0,s.jsx)(l.Card,{className:"mb-8","data-testid":"card-category-header",children:(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)(l.CardTitle,{className:"text-2xl","data-testid":"heading-category-name",children:H?.name}),(0,s.jsx)(c.Badge,{variant:"secondary","data-testid":"badge-active-status",children:"Active"})]}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4","data-testid":"text-category-description",children:H?.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(C.MessageSquare,{className:"w-4 h-4 text-muted-foreground"}),(0,s.jsxs)("span",{"data-testid":"stat-thread-count",children:[(0,s.jsx)("strong",{children:(H?.threadCount??0).toLocaleString()})," threads"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(k.FileText,{className:"w-4 h-4 text-muted-foreground"}),(0,s.jsxs)("span",{"data-testid":"stat-post-count",children:[(0,s.jsx)("strong",{children:(H?.postCount??0).toLocaleString()})," posts"]})]})]})]}),(0,s.jsxs)(n.Button,{size:"default","data-testid":"button-create-thread",onClick:()=>g(()=>{h.push(`/discussions/new?category=${e}`)}),children:[(0,s.jsx)(S.Plus,{className:"w-4 h-4 mr-2"}),"New Thread"]})]})})}),E&&E.length>0&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4","data-testid":"heading-subcategories",children:"Subcategories"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(e=>(0,s.jsx)(l.Card,{className:"hover-elevate active-elevate-2 cursor-pointer","data-testid":`card-subcategory-${e.slug}`,children:(0,s.jsxs)(v.default,{href:`/category/${e.slug}`,children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{className:"text-base","data-testid":`text-subcat-name-${e.slug}`,children:e.name}),(0,s.jsx)(l.CardDescription,{className:"text-sm","data-testid":`text-subcat-desc-${e.slug}`,children:e.description})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-sm text-muted-foreground","data-testid":`stat-subcat-threads-${e.slug}`,children:[e.threadCount," threads"]}),(0,s.jsxs)(n.Button,{size:"sm",variant:"outline",onClick:s=>{s.preventDefault(),g(()=>{h.push(`/discussions/new?category=${e.slug}`)})},"data-testid":`button-new-thread-${e.slug}`,children:[(0,s.jsx)(S.Plus,{className:"w-3 h-3 mr-1"}),"New"]})]})})]})},e.slug))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(A.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(x.Input,{type:"text",placeholder:`Search within ${H?.name}...`,value:M,onChange:e=>L(e.target.value),className:"pl-10","data-testid":"input-category-search"})]}),R&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2","data-testid":"text-search-info",children:["Searching in: ",H?.name]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-6 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(n.Button,{variant:"latest"===P?"default":"ghost",size:"sm",onClick:()=>F("latest"),"data-testid":"filter-latest",children:[(0,s.jsx)(B.Clock,{className:"w-4 h-4 mr-2"}),"Latest"]}),(0,s.jsxs)(n.Button,{variant:"trending"===P?"default":"ghost",size:"sm",onClick:()=>F("trending"),"data-testid":"filter-trending",children:[(0,s.jsx)($.TrendingUp,{className:"w-4 h-4 mr-2"}),"Trending"]}),(0,s.jsxs)(n.Button,{variant:"answered"===P?"default":"ghost",size:"sm",onClick:()=>F("answered"),"data-testid":"filter-answered",children:[(0,s.jsx)(T.Star,{className:"w-4 h-4 mr-2"}),"Answered"]})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground","data-testid":"text-thread-count",children:["Showing ",O?.length||0," threads"]})]}),(0,s.jsx)("div",{className:"space-y-4",children:Q&&!O?[,,,,,].fill(0).map((e,t)=>(0,s.jsx)(o.Skeleton,{className:"h-32"},t)):O&&O.length>0?O.map(e=>(0,s.jsx)(v.default,{href:`/thread/${e.slug}`,"data-testid":`link-thread-${e.id}`,children:(0,s.jsx)(l.Card,{className:"hover-elevate active-elevate-2 cursor-pointer","data-testid":`card-thread-${e.id}`,children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsx)("div",{className:"flex items-start gap-4",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg","data-testid":`text-thread-title-${e.id}`,children:e.title}),e.isPinned&&(0,s.jsx)(c.Badge,{variant:"secondary","data-testid":`badge-pinned-${e.id}`,children:"Pinned"}),e.isSolved&&(0,s.jsx)(c.Badge,{variant:"default","data-testid":`badge-solved-${e.id}`,children:"Solved"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2","data-testid":`text-thread-description-${e.id}`,children:e.metaDescription}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(C.MessageSquare,{className:"w-4 h-4"}),(0,s.jsxs)("span",{"data-testid":`stat-reply-count-${e.id}`,children:[e.replyCount," replies"]})]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(k.FileText,{className:"w-4 h-4"}),(0,s.jsxs)("span",{"data-testid":`stat-view-count-${e.id}`,children:[e.views," views"]})]}),(0,s.jsxs)("span",{"data-testid":`text-last-activity-${e.id}`,children:["Last activity: ",new Date(e.lastActivityAt).toLocaleDateString()]})]})]})})})})},e.id)):(0,s.jsxs)(l.Card,{className:"p-12 text-center","data-testid":"card-no-threads",children:[(0,s.jsx)(C.MessageSquare,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:R?"No threads found":"No threads yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:R?`No threads match your search for "${R}"`:"Be the first to start a discussion in this category!"}),!R&&(0,s.jsxs)(n.Button,{"data-testid":"button-create-first-thread",onClick:()=>g(()=>{h.push(`/discussions/new?category=${e}`)}),children:[(0,s.jsx)(S.Plus,{className:"w-4 h-4 mr-2"}),"Create First Thread"]})]})})]}),(0,s.jsx)(d.default,{}),(0,s.jsx)(D,{})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(i.default,{}),(0,s.jsx)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:(0,s.jsxs)(l.Card,{className:"p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Category Not Found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"The category you're looking for doesn't exist."}),(0,s.jsx)(v.default,{href:"/categories",children:(0,s.jsx)(n.Button,{children:"Browse Categories"})})]})}),(0,s.jsx)(d.default,{})]})}e.s(["default",()=>D],138049)}]);