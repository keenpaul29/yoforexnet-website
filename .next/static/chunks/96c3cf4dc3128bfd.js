(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72557,e=>{"use strict";var t=e.i(18050),a=e.i(71645),r=e.i(18566),s=e.i(53145),l=e.i(94814),i=e.i(43004),n=e.i(54616),o=e.i(66027);let d=[{value:"EURUSD",label:"EUR/USD",category:"forex"},{value:"GBPUSD",label:"GBP/USD",category:"forex"},{value:"USDJPY",label:"USD/JPY",category:"forex"},{value:"USDCHF",label:"USD/CHF",category:"forex"},{value:"AUDUSD",label:"AUD/USD",category:"forex"},{value:"USDCAD",label:"USD/CAD",category:"forex"},{value:"NZDUSD",label:"NZD/USD",category:"forex"},{value:"EURJPY",label:"EUR/JPY",category:"forex"},{value:"GBPJPY",label:"GBP/JPY",category:"forex"},{value:"EURGBP",label:"EUR/GBP",category:"forex"},{value:"AUDJPY",label:"AUD/JPY",category:"forex"},{value:"XAUUSD",label:"XAU/USD (Gold)",category:"metals"},{value:"XAGUSD",label:"XAG/USD (Silver)",category:"metals"},{value:"BTCUSD",label:"BTC/USD",category:"crypto"},{value:"ETHUSD",label:"ETH/USD",category:"crypto"},{value:"US30",label:"US30 (Dow Jones)",category:"indices"},{value:"NAS100",label:"NAS100 (Nasdaq)",category:"indices"},{value:"SPX500",label:"SPX500 (S&P 500)",category:"indices"},{value:"UK100",label:"UK100 (FTSE)",category:"indices"},{value:"GER40",label:"GER40 (DAX)",category:"indices"},{value:"JPN225",label:"JPN225 (Nikkei)",category:"indices"},{value:"USOIL",label:"US Oil (WTI)",category:"commodities"},{value:"UKOIL",label:"UK Oil (Brent)",category:"commodities"}],c=[{value:"M1",label:"M1 (1 Minute)",category:"scalping"},{value:"M5",label:"M5 (5 Minutes)",category:"scalping"},{value:"M15",label:"M15 (15 Minutes)",category:"day-trading"},{value:"M30",label:"M30 (30 Minutes)",category:"day-trading"},{value:"H1",label:"H1 (1 Hour)",category:"day-trading"},{value:"H4",label:"H4 (4 Hours)",category:"swing"},{value:"D1",label:"D1 (Daily)",category:"swing"},{value:"W1",label:"W1 (Weekly)",category:"position"},{value:"MN1",label:"MN1 (Monthly)",category:"position"}],u=[{value:"scalping",label:"Scalping",description:"Quick trades, small profits"},{value:"day-trading",label:"Day Trading",description:"Intraday positions"},{value:"swing-trading",label:"Swing Trading",description:"Multi-day positions"},{value:"position-trading",label:"Position Trading",description:"Long-term positions"},{value:"trend-following",label:"Trend Following",description:"Trade with the trend"},{value:"mean-reversion",label:"Mean Reversion",description:"Trade reversals"},{value:"breakout",label:"Breakout",description:"Trade breakouts"},{value:"range-trading",label:"Range Trading",description:"Trade within ranges"},{value:"grid-trading",label:"Grid Trading",description:"Grid of orders"},{value:"martingale",label:"Martingale",description:"Progressive position sizing"},{value:"hedging",label:"Hedging",description:"Risk hedging"},{value:"arbitrage",label:"Arbitrage",description:"Price differences"},{value:"news-trading",label:"News Trading",description:"Trade news events"},{value:"fundamental",label:"Fundamental",description:"Economic analysis"},{value:"price-action",label:"Price Action",description:"Pure price analysis"},{value:"supply-demand",label:"Supply & Demand",description:"S/D zones"},{value:"order-blocks",label:"Order Blocks",description:"Institutional levels"},{value:"smart-money",label:"Smart Money Concepts",description:"SMC/ICT"},{value:"multi-pair",label:"Multi-Pair",description:"Multiple pairs"},{value:"multi-timeframe",label:"Multi-Timeframe",description:"Multiple TFs"}],m=[{value:"MT4",label:"MetaTrader 4 (MT4)"},{value:"MT5",label:"MetaTrader 5 (MT5)"},{value:"cTrader",label:"cTrader"},{value:"TradingView",label:"TradingView"},{value:"NinjaTrader",label:"NinjaTrader"},{value:"Other",label:"Other"}],h=[{value:"question",label:"Question",description:"Ask for help or advice",icon:"HelpCircle"},{value:"discussion",label:"Discussion",description:"General trading discussion",icon:"MessageSquare"},{value:"review",label:"Review",description:"Review an EA, indicator, or broker",icon:"Star"},{value:"journal",label:"Journal",description:"Share your trading journey",icon:"BookOpen"},{value:"guide",label:"Guide",description:"How-to or tutorial",icon:"Lightbulb"},{value:"program_sharing",label:"Program Sharing",description:"Share EA/indicator/code",icon:"Code"}];var p=e.i(53501),x=e.i(42422),g=e.i(35321),v=e.i(7398),f=e.i(29085),j=e.i(87945),y=e.i(93753),b=e.i(30656),w=e.i(30030),C=e.i(75830),N=e.i(20783),F=e.i(81140),S=e.i(69340),k=e.i(48425),T=e.i(34620),D=e.i(96626),A=e.i(10772),I="Collapsible",[P,U]=(0,w.createContextScope)(I),[R,E]=P(I),L=a.forwardRef((e,r)=>{let{__scopeCollapsible:s,open:l,defaultOpen:i,disabled:n,onOpenChange:o,...d}=e,[c=!1,u]=(0,S.useControllableState)({prop:l,defaultProp:i,onChange:o});return(0,t.jsx)(R,{scope:s,disabled:n,contentId:(0,A.useId)(),open:c,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),children:(0,t.jsx)(k.Primitive.div,{"data-state":H(c),"data-disabled":n?"":void 0,...d,ref:r})})});L.displayName=I;var z="CollapsibleTrigger",B=a.forwardRef((e,a)=>{let{__scopeCollapsible:r,...s}=e,l=E(z,r);return(0,t.jsx)(k.Primitive.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":H(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...s,ref:a,onClick:(0,F.composeEventHandlers)(e.onClick,l.onOpenToggle)})});B.displayName=z;var M="CollapsibleContent",O=a.forwardRef((e,a)=>{let{forceMount:r,...s}=e,l=E(M,e.__scopeCollapsible);return(0,t.jsx)(D.Presence,{present:r||l.open,children:({present:e})=>(0,t.jsx)(V,{...s,ref:a,present:e})})});O.displayName=M;var V=a.forwardRef((e,r)=>{let{__scopeCollapsible:s,present:l,children:i,...n}=e,o=E(M,s),[d,c]=a.useState(l),u=a.useRef(null),m=(0,N.useComposedRefs)(r,u),h=a.useRef(0),p=h.current,x=a.useRef(0),g=x.current,v=o.open||d,f=a.useRef(v),j=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,T.useLayoutEffect)(()=>{let e=u.current;if(e){j.current=j.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();h.current=t.height,x.current=t.width,f.current||(e.style.transitionDuration=j.current.transitionDuration,e.style.animationName=j.current.animationName),c(l)}},[o.open,l]),(0,t.jsx)(k.Primitive.div,{"data-state":H(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...n,ref:m,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&i})});function H(e){return e?"open":"closed"}var $=e.i(86318),K="Accordion",q=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_,G,J]=(0,C.createCollection)(K),[Y,X]=(0,w.createContextScope)(K,[J,U]),W=U(),Z=a.default.forwardRef((e,a)=>{let{type:r,...s}=e;return(0,t.jsx)(_.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,t.jsx)(es,{...s,ref:a}):(0,t.jsx)(er,{...s,ref:a})})});Z.displayName=K;var[Q,ee]=Y(K),[et,ea]=Y(K,{collapsible:!1}),er=a.default.forwardRef((e,r)=>{let{value:s,defaultValue:l,onValueChange:i=()=>{},collapsible:n=!1,...o}=e,[d,c]=(0,S.useControllableState)({prop:s,defaultProp:l,onChange:i});return(0,t.jsx)(Q,{scope:e.__scopeAccordion,value:d?[d]:[],onItemOpen:c,onItemClose:a.default.useCallback(()=>n&&c(""),[n,c]),children:(0,t.jsx)(et,{scope:e.__scopeAccordion,collapsible:n,children:(0,t.jsx)(en,{...o,ref:r})})})}),es=a.default.forwardRef((e,r)=>{let{value:s,defaultValue:l,onValueChange:i=()=>{},...n}=e,[o=[],d]=(0,S.useControllableState)({prop:s,defaultProp:l,onChange:i}),c=a.default.useCallback(e=>d((t=[])=>[...t,e]),[d]),u=a.default.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,t.jsx)(Q,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:(0,t.jsx)(et,{scope:e.__scopeAccordion,collapsible:!0,children:(0,t.jsx)(en,{...n,ref:r})})})}),[el,ei]=Y(K),en=a.default.forwardRef((e,r)=>{let{__scopeAccordion:s,disabled:l,dir:i,orientation:n="vertical",...o}=e,d=a.default.useRef(null),c=(0,N.useComposedRefs)(d,r),u=G(s),m="ltr"===(0,$.useDirection)(i),h=(0,F.composeEventHandlers)(e.onKeyDown,e=>{if(!q.includes(e.key))return;let t=e.target,a=u().filter(e=>!e.ref.current?.disabled),r=a.findIndex(e=>e.ref.current===t),s=a.length;if(-1===r)return;e.preventDefault();let l=r,i=s-1,o=()=>{(l=r+1)>i&&(l=0)},d=()=>{(l=r-1)<0&&(l=i)};switch(e.key){case"Home":l=0;break;case"End":l=i;break;case"ArrowRight":"horizontal"===n&&(m?o():d());break;case"ArrowDown":"vertical"===n&&o();break;case"ArrowLeft":"horizontal"===n&&(m?d():o());break;case"ArrowUp":"vertical"===n&&d()}let c=l%s;a[c].ref.current?.focus()});return(0,t.jsx)(el,{scope:s,disabled:l,direction:i,orientation:n,children:(0,t.jsx)(_.Slot,{scope:s,children:(0,t.jsx)(k.Primitive.div,{...o,"data-orientation":n,ref:c,onKeyDown:l?void 0:h})})})}),eo="AccordionItem",[ed,ec]=Y(eo),eu=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,value:s,...l}=e,i=ei(eo,r),n=ee(eo,r),o=W(r),d=(0,A.useId)(),c=s&&n.value.includes(s)||!1,u=i.disabled||e.disabled;return(0,t.jsx)(ed,{scope:r,open:c,disabled:u,triggerId:d,children:(0,t.jsx)(L,{"data-orientation":i.orientation,"data-state":ef(c),...o,...l,ref:a,disabled:u,open:c,onOpenChange:e=>{e?n.onItemOpen(s):n.onItemClose(s)}})})});eu.displayName=eo;var em="AccordionHeader",eh=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,...s}=e,l=ei(K,r),i=ec(em,r);return(0,t.jsx)(k.Primitive.h3,{"data-orientation":l.orientation,"data-state":ef(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:a})});eh.displayName=em;var ep="AccordionTrigger",ex=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,...s}=e,l=ei(K,r),i=ec(ep,r),n=ea(ep,r),o=W(r);return(0,t.jsx)(_.ItemSlot,{scope:r,children:(0,t.jsx)(B,{"aria-disabled":i.open&&!n.collapsible||void 0,"data-orientation":l.orientation,id:i.triggerId,...o,...s,ref:a})})});ex.displayName=ep;var eg="AccordionContent",ev=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,...s}=e,l=ei(K,r),i=ec(eg,r),n=W(r);return(0,t.jsx)(O,{role:"region","aria-labelledby":i.triggerId,"data-orientation":l.orientation,...n,...s,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ef(e){return e?"open":"closed"}ev.displayName=eg;var ej=e.i(64659),ey=e.i(48020);let eb=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(eu,{ref:r,className:(0,ey.cn)("border-b",e),...a}));eb.displayName="AccordionItem";let ew=a.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsx)(eh,{className:"flex",children:(0,t.jsxs)(ex,{ref:s,className:(0,ey.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[a,(0,t.jsx)(ej.ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ew.displayName=ex.displayName;let eC=a.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsx)(ev,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,t.jsx)("div",{className:(0,ey.cn)("pb-4 pt-0",e),children:a})}));eC.displayName=ev.displayName;var eN=e.i(85024),eF=e.i(82403),eS=e.i(32486),ek=e.i(15683),eT=e.i(97801),eD=e.i(1831),eA=e.i(63209),eI=e.i(73375),eP=e.i(63059),eU=e.i(18348),eR=e.i(86311),eE=e.i(70273),eL=e.i(10980),ez=e.i(41240),eB=e.i(58472),eM=e.i(37727),eO=e.i(78583),eV=e.i(31278),eH=e.i(43531),e$=e.i(74886),eK=e.i(62031),eq=e.i(45423),e_=e.i(95468),eG=e.i(52571),eJ=e.i(2125);function eY({title:e,seoExcerpt:a,primaryKeyword:r,body:s}){let l=e?(0,eJ.default)(e,{lower:!0,strict:!0}):"your-thread-title",i=`yoforex.com/thread/${l}`,n=e||"Your Thread Title",o=a||(s?s.substring(0,160)+"...":"Your thread description will appear here..."),d=a?.length||0,c=e?.length||0,u=r&&(e||s)?function(e,t){if(!e||!t)return 0;let a=e.toLowerCase(),r=t.toLowerCase().trim();if(!r)return 0;let s=a.split(/\s+/).filter(e=>e.length>0),l=s.length;if(0===l)return 0;let i=r.split(/\s+/),n=0;if(1===i.length)n=s.filter(e=>e===r).length;else{let e=RegExp(r.replace(/\s+/g,"\\s+"),"gi"),t=a.match(e);n=t?t.length:0}return Math.round(n/l*1e4)/100}(`${e} ${s}`,r):0,m=r?0===u?{status:"low",message:"Keyword not found in content",icon:eA.AlertCircle}:u<.5?{status:"low",message:"Keyword density is low. Consider mentioning it more naturally.",icon:eG.Info}:u>3?{status:"high",message:"Keyword density is high. This may look like spam to search engines.",icon:eA.AlertCircle}:{status:"good",message:"Good keyword density for SEO",icon:e_.CheckCircle2}:null,h=m?.icon||eG.Info;return(0,t.jsxs)(g.Card,{"data-testid":"card-seo-preview",children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsx)(g.CardTitle,{className:"text-base",children:"Search Preview"})}),(0,t.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border rounded-md p-4 bg-card","data-testid":"google-preview",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:i}),(0,t.jsx)("div",{className:"text-primary text-lg font-medium mb-1 hover:underline cursor-pointer","data-testid":"preview-title",children:n}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground","data-testid":"preview-description",children:o})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Title length:"}),(0,t.jsxs)(b.Badge,{variant:c>=30&&c<=60?"default":c>0?"secondary":"outline","data-testid":"badge-title-length",children:[c,"/60 chars ",c>=30&&c<=60&&"✓"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Description length:"}),(0,t.jsxs)(b.Badge,{variant:d>=120&&d<=160?"default":d>0?"secondary":"outline","data-testid":"badge-description-length",children:[d,"/160 chars ",d>=120&&d<=160&&"✓"]})]}),r&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Keyword density:"}),(0,t.jsxs)(b.Badge,{variant:m?.status==="good"?"default":m?.status==="high"?"destructive":"secondary","data-testid":"badge-keyword-density",children:[u,"% ",m?.status==="good"&&"✓"]})]})]}),r&&m&&(0,t.jsxs)(eS.Alert,{variant:"high"===m.status?"destructive":"default",children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)(eS.AlertDescription,{"data-testid":"text-density-feedback",children:m.message})]}),!a&&!r&&(0,t.jsxs)(eS.Alert,{children:[(0,t.jsx)(eG.Info,{className:"h-4 w-4"}),(0,t.jsxs)(eS.AlertDescription,{className:"text-xs",children:[(0,t.jsx)("strong",{children:"SEO Tips:"})," Add a primary keyword and excerpt to improve your thread's visibility in search results."]})]})]})]})}let eX=i.z.object({title:i.z.string().min(15,"This is a bit short—add 3–4 more words?").max(90,"Title must not exceed 90 characters").refine(e=>{let t=(e.match(/[A-Z]/g)||[]).length,a=(e.match(/[a-zA-Z]/g)||[]).length;return 0===a||t/a<.5},{message:"Let's tone this down a bit so more folks read it"}),body:i.z.string().min(500,"A little more context helps people reply. Add a few more details? (500 characters minimum)").max(5e4,"Body is too long"),categorySlug:i.z.string().min(1,"Please select a category"),subcategorySlug:i.z.string().optional(),threadType:i.z.enum(["question","discussion","review","journal","guide","program_sharing"]).default("discussion"),seoExcerpt:i.z.string().min(120,"SEO excerpt should be at least 120 characters").max(160,"SEO excerpt should not exceed 160 characters").optional().or(i.z.literal("")),primaryKeyword:i.z.string().optional().or(i.z.literal("")),instruments:i.z.array(i.z.string()).default([]),timeframes:i.z.array(i.z.string()).default([]),strategies:i.z.array(i.z.string()).default([]),platform:i.z.string().optional().or(i.z.literal("")),broker:i.z.string().max(40).optional().or(i.z.literal("")),riskNote:i.z.string().max(500).optional().or(i.z.literal("")),hashtags:i.z.array(i.z.string()).max(10,"Maximum 10 hashtags").default([]),reviewTarget:i.z.string().optional().or(i.z.literal("")),reviewVersion:i.z.string().optional().or(i.z.literal("")),reviewRating:i.z.number().int().min(1).max(5).optional(),reviewPros:i.z.array(i.z.string()).default([]),reviewCons:i.z.array(i.z.string()).default([]),questionSummary:i.z.string().max(200).optional().or(i.z.literal("")),attachmentUrls:i.z.array(i.z.string()).default([])});function eW({categories:e}){let i=(0,r.useRouter)(),w=(0,r.useSearchParams)(),{toast:C}=(0,ek.useToast)(),{requireAuth:N,AuthPrompt:F}=(0,eT.useAuthPrompt)("create a thread"),[S,k]=(0,a.useState)(1),[T,D]=(0,a.useState)([]),[A,I]=(0,a.useState)(""),[P,U]=(0,a.useState)(""),[R,E]=(0,a.useState)(""),[L,z]=(0,a.useState)(0),[B,M]=(0,a.useState)(0),[O,V]=(0,a.useState)([]),[H,$]=(0,a.useState)(!1),[K,q]=(0,a.useState)(!1),_=w?.get("category")||"";e.filter(e=>!e.parentSlug);let[G,J]=(0,a.useState)(_),Y=e.filter(e=>e.parentSlug===G),{data:X,isLoading:W}=(0,o.useQuery)({queryKey:["/api/brokers"]}),{saveDraft:Q,loadDraft:ee,clearDraft:et}=function(e){let[t,r]=(0,a.useState)(!1),s=`thread_draft_${e}`,l=(0,a.useCallback)(e=>{try{localStorage.setItem(s,JSON.stringify({...e,savedAt:new Date().toISOString()}))}catch(e){console.error("Failed to save draft:",e)}},[s]);return{saveDraft:l,loadDraft:(0,a.useCallback)(()=>{try{let e=localStorage.getItem(s);if(e){let t=JSON.parse(e);return r(!0),t}}catch(e){console.error("Failed to load draft:",e)}return null},[s]),clearDraft:(0,a.useCallback)(()=>{try{localStorage.removeItem(s),r(!1)}catch(e){console.error("Failed to clear draft:",e)}},[s]),hasDraft:t}}(G||"general"),ea=(0,s.useForm)({resolver:(0,l.zodResolver)(eX),defaultValues:{title:"",body:"",categorySlug:_,subcategorySlug:"",threadType:"discussion",seoExcerpt:"",primaryKeyword:"",instruments:[],timeframes:[],strategies:[],platform:"",broker:"",riskNote:"",hashtags:[],reviewTarget:"",reviewVersion:"",reviewPros:[],reviewCons:[],questionSummary:"",attachmentUrls:[]}}),er=ea.watch(),es=ea.watch("threadType");(0,a.useEffect)(()=>{let e=ee();e&&(window.confirm("Restore previous draft?")&&e?Object.keys(e).forEach(t=>{"savedAt"!==t&&ea.setValue(t,e[t])}):et())},[]),(0,a.useEffect)(()=>{let e=setInterval(()=>{let e=ea.getValues();(e.title||e.body)&&Q(e)},5e3);return()=>clearInterval(e)},[ea,Q]),(0,a.useEffect)(()=>{let e=`${er.title} ${er.body}`;if(e.trim().length>20){let t,a;D((t=new Set,a=e.toLowerCase(),d.forEach(e=>{(a.includes(e.value.toLowerCase())||a.includes(e.label.toLowerCase().replace(/\//g,"")))&&t.add(e.value.toLowerCase())}),c.forEach(e=>{RegExp(`\\b${e.value.toLowerCase()}\\b`,"i").test(a)&&t.add(e.value.toLowerCase())}),u.forEach(e=>{(a.includes(e.value)||a.includes(e.label.toLowerCase()))&&t.add(e.value)}),m.forEach(e=>{a.includes(e.value.toLowerCase())&&t.add(e.value.toLowerCase())}),Array.from(t)))}else D([])},[er.title,er.body]),(0,a.useEffect)(()=>{z((er.body||"").length),M((er.title||"").length)},[er.body,er.title]),(0,a.useEffect)(()=>{1===S&&0===Y.length&&k(2)},[S,Y.length]);let el=(0,n.useMutation)({mutationFn:async e=>{let t=await (0,eD.apiRequest)("POST","/api/threads",e);return await t.json()},onSuccess:e=>{et();let a=`${window.location.origin}/thread/${e.thread.slug}`,r=async()=>{try{await navigator.clipboard.writeText(a),C({title:"Link copied!",description:"Thread URL copied to clipboard"})}catch(e){C({title:"Failed to copy",description:"Please copy the link manually",variant:"destructive"})}},s=async()=>{if(navigator.share)try{await navigator.share({title:e.thread.title,text:"Check out this thread on YoForex",url:a})}catch(e){r()}else r()},l=async()=>{try{C({title:"Following thread",description:"You'll get notified of new replies"})}catch(e){C({title:"Failed to follow",description:"Please try again later",variant:"destructive"})}};C({title:"Posted!",description:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("p",{children:[e.message," (+",e.coinsEarned," coins)"]}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsxs)(v.Button,{size:"sm",variant:"outline",onClick:r,"data-testid":"button-copy-link",children:[(0,t.jsx)(e$.Copy,{className:"h-3 w-3 mr-1"}),"Copy link"]}),(0,t.jsxs)(v.Button,{size:"sm",variant:"outline",onClick:s,"data-testid":"button-share",children:[(0,t.jsx)(eK.Share2,{className:"h-3 w-3 mr-1"}),"Share"]}),(0,t.jsxs)(v.Button,{size:"sm",variant:"outline",onClick:l,"data-testid":"button-follow",children:[(0,t.jsx)(eq.Bell,{className:"h-3 w-3 mr-1"}),"Follow"]})]})]}),duration:1e4}),setTimeout(()=>{i.push(`/thread/${e.thread.slug}`)},1e3)},onError:e=>{C({title:"Failed to create thread",description:e.message||"Please try again",variant:"destructive"})}}),ei=async e=>{N(()=>{e.attachmentUrls=O.map(e=>e.url),el.mutate(e)})},en=async e=>{let t=e.target.files;if(t&&0!==t.length){if(O.length+t.length>10)return void C({title:"Too many files",description:"Maximum 10 files allowed",variant:"destructive"});for(let e of Array.from(t))if(e.size>5242880)return void C({title:"File too large",description:`${e.name} exceeds 5MB limit`,variant:"destructive"});$(!0);try{let e=new FormData;Array.from(t).forEach(t=>{e.append("files",t)});let a=await fetch("/api/upload",{method:"POST",body:e,credentials:"include"});if(!a.ok){let e=await a.text();throw Error(e||"Upload failed")}let r=await a.json(),s=r.urls.map((e,a)=>({name:t[a].name,url:e}));V([...O,...s]),C({title:"Files uploaded!",description:r.message})}catch(e){C({title:"Upload failed",description:e.message||"Failed to upload files",variant:"destructive"})}finally{$(!1),e.target.value=""}}},eo=(e,t)=>{let a=ea.getValues(e)||[];a.includes(t)?ea.setValue(e,a.filter(e=>e!==t)):ea.setValue(e,[...a,t])},ed=()=>{if(!A.trim())return;let e=A.trim().replace(/^#/,"").toLowerCase(),t=ea.getValues("hashtags")||[];!t.includes(e)&&t.length<10&&ea.setValue("hashtags",[...t,e]),I("")},ec=()=>{if(!P.trim())return;let e=ea.getValues("reviewPros")||[];ea.setValue("reviewPros",[...e,P.trim()]),U("")},eu=()=>{if(!R.trim())return;let e=ea.getValues("reviewCons")||[];ea.setValue("reviewCons",[...e,R.trim()]),E("")},em=(er.instruments?.length||0)+(er.timeframes?.length||0)+(er.strategies?.length||0)+(er.hashtags?.length||0),eh={question:eU.HelpCircle,discussion:eR.MessageSquare,review:eE.Star,journal:eL.BookOpen,guide:ez.Lightbulb,program_sharing:eB.Code};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.default,{}),(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Start a Thread"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Share your knowledge, ask questions, and connect with traders"})]}),(0,t.jsx)(eF.Form,{...ea,children:(0,t.jsxs)("form",{onSubmit:ea.handleSubmit(ei),className:"space-y-6",children:[1===S&&Y.length>0&&(0,t.jsxs)(g.Card,{"data-testid":"card-step-where",children:[(0,t.jsxs)(g.CardHeader,{children:[(0,t.jsx)(g.CardTitle,{children:"Where does this fit?"}),(0,t.jsx)(g.CardDescription,{children:"Choose the best subcategory for your thread"})]}),(0,t.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,t.jsx)(eF.FormField,{control:ea.control,name:"subcategorySlug",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Y.map(a=>(0,t.jsxs)(v.Button,{type:"button",variant:e.value===a.slug?"default":"outline",className:"h-auto py-4 px-4 flex-col items-start gap-1",onClick:()=>e.onChange(a.slug),"data-testid":`button-subcategory-${a.slug}`,children:[(0,t.jsx)("span",{className:"font-semibold text-sm",children:a.name}),(0,t.jsx)("span",{className:"text-xs opacity-80",children:a.description})]},a.slug))}),(0,t.jsx)(eF.FormMessage,{})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(v.Button,{type:"button",onClick:()=>k(2),"data-testid":"button-next-step",children:["Next ",(0,t.jsx)(eP.ChevronRight,{className:"ml-2 h-4 w-4"})]})})]})]}),2===S&&(0,t.jsxs)(g.Card,{"data-testid":"card-step-write",children:[(0,t.jsxs)(g.CardHeader,{children:[(0,t.jsx)(g.CardTitle,{children:"What's on your mind?"}),(0,t.jsx)(g.CardDescription,{children:"Tell your story or ask your question"})]}),(0,t.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,t.jsx)(eF.FormField,{control:ea.control,name:"title",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Title"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(f.Input,{...e,placeholder:"What's your topic? e.g., 'XAUUSD M5 scalping rules that worked for me'","data-testid":"input-title"})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Short and clear works best"}),(0,t.jsxs)("span",{"data-testid":"text-char-count",children:[B," characters (15-90 required)"]})]}),(0,t.jsx)(eF.FormMessage,{})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"body",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Body"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(j.Textarea,{...e,rows:10,placeholder:"Tell your story. What pair? timeframe? broker? results? What do you need help with?","data-testid":"textarea-body"})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Share the basics: pair, timeframe, broker, your rules/results, and what you need"}),(0,t.jsxs)("span",{"data-testid":"text-body-char-count",children:[L," characters (500-50,000 required)"]})]}),(0,t.jsx)(eF.FormMessage,{})]})}),T.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.Label,{className:"text-sm",children:"Looks right?"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:T.map(e=>{d.some(t=>t.value.toLowerCase()===e);let a=c.some(t=>t.value.toLowerCase()===e),r=u.some(t=>t.value.toLowerCase()===e),s="instruments";a?s="timeframes":r&&(s="strategies");let l=(ea.getValues(s)||[]).includes(e);return(0,t.jsx)(b.Badge,{variant:l?"default":"outline",className:"cursor-pointer hover-elevate",onClick:()=>eo(s,e),"data-testid":`badge-suggested-tag-${e}`,children:e.toUpperCase()},e)})})]}),(0,t.jsx)(Z,{type:"single",collapsible:!0,children:(0,t.jsxs)(eb,{value:"details",children:[(0,t.jsx)(ew,{"data-testid":"button-toggle-details",children:"Add details (optional)"}),(0,t.jsxs)(eC,{className:"space-y-4 pt-4",children:[(0,t.jsx)(eF.FormField,{control:ea.control,name:"instruments",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Instruments"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.slice(0,15).map(a=>(0,t.jsx)(b.Badge,{variant:(e.value||[]).includes(a.value)?"default":"outline",className:"cursor-pointer hover-elevate",onClick:()=>eo("instruments",a.value),"data-testid":`badge-instrument-${a.value}`,children:a.label},a.value))})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"timeframes",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Timeframes"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(a=>(0,t.jsx)(b.Badge,{variant:(e.value||[]).includes(a.value)?"default":"outline",className:"cursor-pointer hover-elevate",onClick:()=>eo("timeframes",a.value),"data-testid":`badge-timeframe-${a.value}`,children:a.label},a.value))})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"strategies",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Strategies"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:u.slice(0,12).map(a=>(0,t.jsx)(b.Badge,{variant:(e.value||[]).includes(a.value)?"default":"outline",className:"cursor-pointer hover-elevate",onClick:()=>eo("strategies",a.value),"data-testid":`badge-strategy-${a.value}`,children:a.label},a.value))})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"platform",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Platform"}),(0,t.jsxs)(eN.Select,{onValueChange:e.onChange,value:e.value,children:[(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(eN.SelectTrigger,{"data-testid":"select-platform",children:(0,t.jsx)(eN.SelectValue,{placeholder:"Select platform"})})}),(0,t.jsx)(eN.SelectContent,{children:m.map(e=>(0,t.jsx)(eN.SelectItem,{value:e.value,children:e.label},e.value))})]})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"broker",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Broker"}),W?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-2",children:[(0,t.jsx)(eV.Loader2,{className:"h-4 w-4 animate-spin"}),"Loading brokers..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(eN.Select,{onValueChange:t=>{"other"===t?(q(!0),e.onChange("")):(q(!1),e.onChange(t))},value:K?"other":e.value,children:[(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(eN.SelectTrigger,{"data-testid":"select-broker",children:(0,t.jsx)(eN.SelectValue,{placeholder:"Select broker"})})}),(0,t.jsx)(eN.SelectContent,{children:X&&X.length>0?(0,t.jsxs)(t.Fragment,{children:[X.map(e=>(0,t.jsx)(eN.SelectItem,{value:e.name,children:e.name},e.id)),(0,t.jsx)(eN.SelectItem,{value:"other",children:"Other (add new broker)"})]}):(0,t.jsx)(eN.SelectItem,{value:"other",children:"Other (add new broker)"})})]}),K&&(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(f.Input,{value:e.value,onChange:t=>{e.onChange(t.target.value)},placeholder:"Enter broker name","data-testid":"input-custom-broker",className:"mt-2"})})]})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"riskNote",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Risk Note"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(f.Input,{...e,placeholder:"e.g., risk 1% per trade","data-testid":"input-risk-note"})})]})})]})]})}),(0,t.jsxs)("div",{className:"flex justify-between",children:[Y.length>0&&(0,t.jsxs)(v.Button,{type:"button",variant:"outline",onClick:()=>k(1),"data-testid":"button-back",children:[(0,t.jsx)(eI.ChevronLeft,{className:"mr-2 h-4 w-4"})," Back"]}),(0,t.jsxs)(v.Button,{type:"button",onClick:()=>k(3),className:"ml-auto","data-testid":"button-next-step",children:["Next ",(0,t.jsx)(eP.ChevronRight,{className:"ml-2 h-4 w-4"})]})]})]})]}),3===S&&(0,t.jsxs)(g.Card,{"data-testid":"card-step-finish",children:[(0,t.jsxs)(g.CardHeader,{children:[(0,t.jsx)(g.CardTitle,{children:"Finish up"}),(0,t.jsx)(g.CardDescription,{children:"Choose thread type and add final details"})]}),(0,t.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,t.jsx)(eF.FormField,{control:ea.control,name:"threadType",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Thread Type"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:h.map(a=>{let r=eh[a.value];return(0,t.jsxs)(v.Button,{type:"button",variant:e.value===a.value?"default":"outline",className:"h-auto py-4 px-4 flex-col items-center gap-2",onClick:()=>e.onChange(a.value),"data-testid":`button-thread-type-${a.value}`,children:[(0,t.jsx)(r,{className:"h-6 w-6"}),(0,t.jsx)("span",{className:"font-semibold text-sm",children:a.label}),(0,t.jsx)("span",{className:"text-xs opacity-80 text-center",children:a.description})]},a.value)})}),(0,t.jsx)(eF.FormMessage,{})]})}),"question"===es&&(0,t.jsx)(eF.FormField,{control:ea.control,name:"questionSummary",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"What do you want solved?"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(j.Textarea,{...e,rows:2,placeholder:"Summarize your question in 1-2 sentences","data-testid":"textarea-question-summary"})}),(0,t.jsx)(eF.FormMessage,{})]})}),"review"===es&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(eF.FormField,{control:ea.control,name:"reviewTarget",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"What are you reviewing? *"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(f.Input,{...e,placeholder:"EA/Indicator/Broker name","data-testid":"input-review-target"})}),(0,t.jsx)(eF.FormMessage,{})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"reviewVersion",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Version (optional)"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(f.Input,{...e,placeholder:"e.g., v2.3","data-testid":"input-review-version"})})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"reviewRating",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Rating (1-5 stars) *"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(a=>(0,t.jsx)(v.Button,{type:"button",variant:e.value===a?"default":"outline",size:"icon",onClick:()=>e.onChange(a),"data-testid":`button-rating-${a}`,children:(0,t.jsx)(eE.Star,{className:`h-4 w-4 ${e.value&&e.value>=a?"fill-current":""}`})},a))}),(0,t.jsx)(eF.FormMessage,{})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"reviewPros",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Pros (optional)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(f.Input,{value:P,onChange:e=>U(e.target.value),placeholder:"Add a pro","data-testid":"input-pro",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ec())}}),(0,t.jsx)(v.Button,{type:"button",onClick:ec,"data-testid":"button-add-pro",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(e.value||[]).map((a,r)=>(0,t.jsxs)(b.Badge,{variant:"default",className:"gap-1",children:["✓ ",a,(0,t.jsx)(eM.X,{className:"h-3 w-3 cursor-pointer",onClick:()=>{ea.setValue("reviewPros",(e.value||[]).filter((e,t)=>t!==r))}})]},r))})]})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"reviewCons",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Cons (optional)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(f.Input,{value:R,onChange:e=>E(e.target.value),placeholder:"Add a con","data-testid":"input-con",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),eu())}}),(0,t.jsx)(v.Button,{type:"button",onClick:eu,"data-testid":"button-add-con",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(e.value||[]).map((a,r)=>(0,t.jsxs)(b.Badge,{variant:"destructive",className:"gap-1",children:["✗ ",a,(0,t.jsx)(eM.X,{className:"h-3 w-3 cursor-pointer",onClick:()=>{ea.setValue("reviewCons",(e.value||[]).filter((e,t)=>t!==r))}})]},r))})]})]})})]}),(0,t.jsx)(Z,{type:"single",collapsible:!0,defaultValue:"seo",children:(0,t.jsxs)(eb,{value:"seo",children:[(0,t.jsx)(ew,{"data-testid":"button-toggle-seo",children:"Help others find this (optional)"}),(0,t.jsxs)(eC,{className:"space-y-4 pt-4",children:[(0,t.jsx)(eF.FormField,{control:ea.control,name:"primaryKeyword",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Primary Keyword (1-6 words)"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(f.Input,{...e,placeholder:"e.g., xauusd m5 scalping","data-testid":"input-primary-keyword"})}),(0,t.jsx)(eF.FormDescription,{children:"Short phrase that describes your topic"})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"seoExcerpt",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"SEO Excerpt (120-160 chars)"}),(0,t.jsx)(eF.FormControl,{children:(0,t.jsx)(j.Textarea,{...e,rows:2,placeholder:"One sentence summary for search engines","data-testid":"textarea-seo-excerpt"})}),(0,t.jsxs)(eF.FormDescription,{children:[(e.value||"").length,"/160 chars"]}),(0,t.jsx)(eF.FormMessage,{})]})}),(0,t.jsx)(eY,{title:er.title||"",seoExcerpt:er.seoExcerpt||"",primaryKeyword:er.primaryKeyword||"",body:er.body||""})]})]})}),(0,t.jsx)(eF.FormField,{control:ea.control,name:"hashtags",render:({field:e})=>(0,t.jsxs)(eF.FormItem,{children:[(0,t.jsx)(eF.FormLabel,{children:"Hashtags (max 10)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(f.Input,{value:A,onChange:e=>I(e.target.value),placeholder:"#xauusd #m5 #scalping","data-testid":"input-hashtag",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ed())}}),(0,t.jsx)(v.Button,{type:"button",onClick:ed,"data-testid":"button-add-hashtag",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(e.value||[]).map((e,a)=>(0,t.jsxs)(b.Badge,{variant:"secondary",className:"gap-1","data-testid":`badge-hashtag-${e}`,children:["#",e,(0,t.jsx)(eM.X,{className:"h-3 w-3 cursor-pointer",onClick:()=>{let t;return t=ea.getValues("hashtags")||[],void ea.setValue("hashtags",t.filter(t=>t!==e))}})]},a))})]}),(0,t.jsx)(eF.FormMessage,{})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(eF.FormLabel,{children:"Attachments (optional)"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.Input,{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.webp,.pdf,.set,.csv",onChange:en,disabled:H||O.length>=10,className:"flex-1","data-testid":"input-file-upload"}),H&&(0,t.jsx)(eV.Loader2,{className:"h-4 w-4 animate-spin"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Screenshots, PDFs, SET files, CSV. Max 5MB each, 10 files total."}),O.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:O.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md border bg-card","data-testid":`uploaded-file-${a}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eO.FileText,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:e.name}),(0,t.jsx)(eH.Check,{className:"h-4 w-4 text-green-500"})]}),(0,t.jsx)(v.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{V(O.filter((e,t)=>t!==a))},"data-testid":`button-remove-file-${a}`,children:(0,t.jsx)(eM.X,{className:"h-4 w-4"})})]},a))})]})]}),em>12&&(0,t.jsxs)(eS.Alert,{variant:"destructive",children:[(0,t.jsx)(eA.AlertCircle,{className:"h-4 w-4"}),(0,t.jsxs)(eS.AlertDescription,{children:["You have ",em," tags. Maximum is 12. Please remove ",em-12," tags."]})]}),em>0&&em<=12&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground","data-testid":"text-tag-count",children:["Total tags: ",em,"/12"]}),(0,t.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,t.jsxs)(v.Button,{type:"button",variant:"outline",onClick:()=>k(2),"data-testid":"button-back",children:[(0,t.jsx)(eI.ChevronLeft,{className:"mr-2 h-4 w-4"})," Back"]}),(0,t.jsx)(v.Button,{type:"submit",disabled:el.isPending||em>12,"data-testid":"button-submit",children:el.isPending?"Posting...":"Post Thread"})]})]})]})]})})]})}),(0,t.jsx)(x.default,{}),(0,t.jsx)(F,{})]})}e.s(["default",()=>eW],72557)}]);