(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35321,e=>{"use strict";var s=e.i(18050),a=e.i(71645),t=e.i(48020);let r=a.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{ref:r,className:(0,t.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let i=a.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{ref:r,className:(0,t.cn)("flex flex-col space-y-1.5 p-4",e),...a}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{ref:r,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{ref:r,className:(0,t.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let n=a.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{ref:r,className:(0,t.cn)("p-4 pt-0",e),...a}));n.displayName="CardContent";let c=a.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{ref:r,className:(0,t.cn)("flex items-center p-4 pt-0",e),...a}));c.displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>d,"CardFooter",()=>c,"CardHeader",()=>i,"CardTitle",()=>l])},61911,e=>{"use strict";let s=(0,e.i(75254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>s],61911)},50121,e=>{"use strict";var s=e.i(18050),a=e.i(48020);function t({className:e,...t}){return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}e.s(["Skeleton",()=>t])},78583,e=>{"use strict";let s=(0,e.i(75254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>s],78583)},58377,e=>{"use strict";let s=(0,e.i(75254).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>s],58377)},83086,e=>{"use strict";let s=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>s],83086)},94489,e=>{"use strict";var s=e.i(18050),a=e.i(71645),t=e.i(66027),r=e.i(53501),i=e.i(42422),l=e.i(35321),d=e.i(22016),n=e.i(30656),c=e.i(44793),o=e.i(7398),m=e.i(29085),x=e.i(50121),h=e.i(86311),u=e.i(78583),g=e.i(61911),p=e.i(41240),j=e.i(25652),f=e.i(39616),N=e.i(58472),y=e.i(42009),b=e.i(10980),v=e.i(21218),w=e.i(95116),k=e.i(32095),C=e.i(17923),T=e.i(9912),F=e.i(51737),S=e.i(55436),M=e.i(58377),q=e.i(75822);let A=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var L=e.i(83086);let $={"trading-strategies":p.Lightbulb,"algorithm-development":N.Code,"backtest-results":j.TrendingUp,"live-trading-reports":C.BarChart3,"signal-services":v.Activity,"mt4-mt5-tips":f.Settings,"broker-discussion":g.Users,"risk-management":F.ShieldAlert,"market-analysis":j.TrendingUp,"indicator-library":v.Activity,"ea-reviews":y.Award,troubleshooting:w.Wrench,"trading-psychology":k.GraduationCap,"news-updates":u.FileText,"commercial-trials":T.Rocket};function U({category:e,stats:a,isLoading:t}){let r=$[e.slug]||h.MessageSquare,i=a?.threadCount??e.threadCount,c=e.postCount,o=!!a&&a.newThreads7d>0,m=a?.activeUsers7d??0;return(0,s.jsx)(d.default,{href:`/category/${e.slug}`,"data-testid":`link-category-${e.slug}`,children:(0,s.jsx)(l.Card,{className:"h-full hover:border-primary/30 hover-elevate active-elevate-2 cursor-pointer transition-all duration-200","data-testid":`card-category-${e.slug}`,children:(0,s.jsx)(l.CardContent,{className:"p-3",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"flex-shrink-0 p-2 rounded-lg bg-primary/10",children:(0,s.jsx)(r,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("h3",{className:"font-semibold text-sm line-clamp-1","data-testid":`text-category-name-${e.slug}`,children:e.name})})]}),t?(0,s.jsx)(x.Skeleton,{className:"h-5 w-12"}):o&&(0,s.jsxs)(n.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/30",children:[(0,s.jsx)(L.Sparkles,{className:"w-3 h-3 mr-1"}),"New"]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2","data-testid":`text-category-description-${e.slug}`,children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.MessageSquare,{className:"w-3 h-3 text-primary"}),t?(0,s.jsx)(x.Skeleton,{className:"h-4 w-8"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-semibold","data-testid":`badge-threads-${e.slug}`,children:i}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"threads"})]})]}),(0,s.jsx)("span",{className:"text-border",children:"•"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,s.jsx)(u.FileText,{className:"w-3 h-3"}),(0,s.jsx)("span",{"data-testid":`badge-posts-${e.slug}`,children:c}),(0,s.jsx)("span",{children:"posts"})]}),a&&m>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-border",children:"•"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,s.jsx)(g.Users,{className:"w-3 h-3"}),(0,s.jsx)("span",{"data-testid":`badge-active-users-${e.slug}`,children:m}),(0,s.jsx)("span",{children:"active"})]})]})]})]})})})})}function R({initialCategories:e}){let[g,p]=(0,a.useState)(""),{data:f,isLoading:N}=(0,t.useQuery)({queryKey:["/api/categories"],initialData:e,queryFn:async()=>{let e=await fetch("/api/categories",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch categories");return e.json()},refetchInterval:3e4}),{data:y,isLoading:w}=(0,t.useQuery)({queryKey:["/api/categories/stats/batch"],queryFn:async()=>{let e=await fetch("/api/categories/stats/batch",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch category stats");return e.json()},refetchInterval:6e4,staleTime:3e4}),{data:k,isLoading:C}=(0,t.useQuery)({queryKey:["/api/community/stats"],queryFn:async()=>{let e=await fetch("/api/community/stats",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch community stats");return e.json()},refetchInterval:3e4}),{data:T,isLoading:F}=(0,t.useQuery)({queryKey:["/api/community/trending-users"],queryFn:async()=>{let e=await fetch("/api/community/trending-users?period=7d&limit=10",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch trending users");return e.json()},refetchInterval:6e4}),L=f?.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.description.toLowerCase().includes(g.toLowerCase()))||[];if(N)return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(r.default,{}),(0,s.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)(x.Skeleton,{className:"h-8 w-64 mb-2"}),(0,s.jsx)(x.Skeleton,{className:"h-4 w-96"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(15).fill(0).map((e,a)=>(0,s.jsx)(x.Skeleton,{className:"h-48"},a))})]})]});let $=f?.reduce((e,s)=>e+s.threadCount,0)??0,R=f?.reduce((e,s)=>e+s.postCount,0)??0;return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(r.default,{}),(0,s.jsx)("div",{className:"border-b bg-gradient-to-br from-primary/5 to-background",children:(0,s.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 py-6",children:[(0,s.jsx)("div",{className:"flex items-start justify-between gap-4 mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3","data-testid":"heading-categories",children:[(0,s.jsx)(b.BookOpen,{className:"w-8 h-8 text-primary"}),"Forum Categories"]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Browse all discussion categories. Choose the right place for your questions and contributions."})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[(0,s.jsx)(l.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,s.jsx)(l.CardContent,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,s.jsx)(b.BookOpen,{className:"w-5 h-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-3xl font-bold","data-testid":"stat-total-categories",children:f?.length||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Categories"})]})]})})}),(0,s.jsx)(l.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10",children:(0,s.jsx)(h.MessageSquare,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-3xl font-bold","data-testid":"stat-total-threads",children:$.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Threads"})]})]})})}),(0,s.jsx)(l.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10",children:(0,s.jsx)(u.FileText,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-3xl font-bold","data-testid":"stat-total-posts",children:R.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Posts"})]})]})})})]}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"p-3",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(S.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(m.Input,{placeholder:"Search categories...",value:g,onChange:e=>p(e.target.value),className:"pl-10","data-testid":"input-search-categories"})]})})})]})}),(0,s.jsx)("main",{className:"container max-w-7xl mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:L.map(e=>(0,s.jsx)(U,{category:e,stats:y?.[e.slug],isLoading:w},e.slug))}),0===L.length&&(0,s.jsxs)(l.Card,{className:"p-12 text-center",children:[(0,s.jsx)(S.Search,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No categories found"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]})]}),(0,s.jsx)("aside",{className:"hidden xl:block w-80 flex-shrink-0",children:(0,s.jsxs)(l.Card,{className:"sticky top-4",children:[(0,s.jsxs)(l.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M.Flame,{className:"w-5 h-5 text-orange-500"}),(0,s.jsx)(l.CardTitle,{className:"text-lg",children:"Trending Users"})]}),(0,s.jsx)(l.CardDescription,{children:"Most active members this week"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-3",children:[F?[,,,,,].fill(0).map((e,a)=>(0,s.jsx)(x.Skeleton,{className:"h-16"},a)):T&&T.length>0?T.map((e,a)=>(0,s.jsx)(d.default,{href:`/user/${e.username}`,"data-testid":`link-trending-user-${e.userId}`,className:"block",children:(0,s.jsx)(l.Card,{className:"p-3 hover:border-primary/30 hover-elevate active-elevate-2 cursor-pointer transition-all",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,s.jsx)(n.Badge,{variant:"outline",className:`absolute -top-1 -left-1 w-5 h-5 rounded-full flex items-center justify-center p-0 z-10 text-[10px] font-bold ${0===a?"bg-yellow-500/15 text-yellow-700 dark:text-yellow-400 border-yellow-500/30":1===a?"bg-gray-400/15 text-gray-700 dark:text-gray-400 border-gray-400/30":2===a?"bg-amber-600/15 text-amber-700 dark:text-amber-400 border-amber-600/30":"bg-primary/10 text-primary border-primary/20"}`,children:a+1}),(0,s.jsx)(c.Avatar,{className:"w-10 h-10 border-2 border-border",children:(0,s.jsx)(c.AvatarFallback,{className:"bg-primary/10 text-primary font-semibold text-xs",children:e.username.substring(0,2).toUpperCase()})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-semibold text-sm line-clamp-1","data-testid":`text-trending-username-${e.userId}`,children:e.username}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(j.TrendingUp,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),(0,s.jsx)("span",{"data-testid":`text-trending-contributions-${e.userId}`,children:e.contributionsDelta})]}),(0,s.jsx)("span",{className:"text-border",children:"•"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(q.Coins,{className:"w-3 h-3 text-yellow-600 dark:text-yellow-400"}),(0,s.jsx)("span",{children:e.coinsDelta})]})]})]}),(0,s.jsx)(A,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})})},e.userId)):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[(0,s.jsx)(v.Activity,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"No trending users this week"})]}),T&&T.length>0&&(0,s.jsx)(d.default,{href:"/members",children:(0,s.jsxs)(o.Button,{variant:"outline",className:"w-full mt-2",size:"sm","data-testid":"button-view-all-members",children:["View All Members",(0,s.jsx)(A,{className:"w-4 h-4 ml-2"})]})})]})]})})]})}),(0,s.jsx)(i.default,{})]})}e.s(["default",()=>R],94489)}]);