module.exports=[53277,a=>{"use strict";let b=(0,a.i(70106).default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);a.s(["TrendingDown",()=>b],53277)},11156,a=>{"use strict";let b=(0,a.i(70106).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],11156)},22884,a=>{"use strict";var b=a.i(87924),c=a.i(33217),d=a.i(64690),e=a.i(10132),f=a.i(6893),g=a.i(61792),h=a.i(72089),i=a.i(24669),j=a.i(53277),k=a.i(11156),l=a.i(10738);function m({initialData:a=[]}){let{data:m=a}=(0,c.useQuery)({queryKey:["/api/ledger/history"],initialData:a}),n=m.map(a=>({id:a.id?.toString()||a.timestamp?.toString()||Math.random().toString(),type:a.amount>0?"earn":a.description?.toLowerCase().includes("recharge")?"recharge":"spend",amount:a.amount,description:a.description||"Transaction",timestamp:a.timestamp?new Date(a.timestamp):new Date,status:"completed"}));return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(d.default,{}),(0,b.jsxs)("div",{className:"container max-w-4xl mx-auto px-4 py-8","data-testid":"container-transaction-history",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Transaction History"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"View all your coin earnings, spending, and recharge history"})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Coins,{className:"h-5 w-5 text-primary"}),"Recent Transactions"]})}),(0,b.jsx)(f.CardContent,{children:0===n.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(h.Coins,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No transactions yet"}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"Your transaction history will appear here"})]}):(0,b.jsx)("div",{className:"space-y-4",children:n.map(a=>{var c,d,e;let f="recharge"===(c=a.type)?k.CreditCard:"earn"===c?i.TrendingUp:j.TrendingDown,m="recharge"===(d=a.type)?"text-primary":"earn"===d?"text-chart-3":"text-chart-4";return(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border hover-elevate","data-testid":`transaction-${a.id}`,children:[(0,b.jsx)("div",{className:`bg-muted rounded-lg p-2 ${m}`,children:(0,b.jsx)(f,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,b.jsx)("div",{className:"font-medium line-clamp-1","data-testid":`text-description-${a.id}`,children:a.description}),(0,b.jsxs)("div",{className:`font-bold flex-shrink-0 ${m}`,"data-testid":`text-amount-${a.id}`,children:[a.amount>0?"+":"",a.amount,(0,b.jsx)(h.Coins,{className:"h-4 w-4 inline ml-1"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,b.jsx)("span",{suppressHydrationWarning:!0,children:(0,l.formatDistanceToNow)(a.timestamp,{addSuffix:!0})}),(0,b.jsx)("span",{children:"â€¢"}),"completed"===(e=a.status)?(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Completed"}):"pending"===e?(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:"Pending"}):(0,b.jsx)(g.Badge,{variant:"destructive",className:"text-xs",children:"Failed"})]})]})]},a.id)})})})]})]}),(0,b.jsx)(e.default,{})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=_4083f645._.js.map