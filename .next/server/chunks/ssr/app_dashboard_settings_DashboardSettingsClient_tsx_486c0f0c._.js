module.exports=[74622,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(6893),e=a.i(91868),f=a.i(61792),g=a.i(81615),h=a.i(35221),i=a.i(64604),j=a.i(30617),k=a.i(70106);let l=(0,k.default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var m=a.i(77156);let n=(0,k.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),o=(0,k.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),p=(0,k.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),q=(0,k.default)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var r=a.i(24669),s=a.i(83077),t=a.i(16106),u=a.i(90669),v=a.i(39761),w=a.i(96221),x=a.i(23312),y=a.i(1027),z=a.i(72089),A=a.i(16973),B=a.i(33217),C=a.i(70025),D=a.i(76725),E=a.i(71871);let F=[{id:"stats",name:"Statistics Bar",description:"Overview of forum threads, members, and activity",icon:v.BarChart3,category:"stats"},{id:"notifications",name:"Notifications",description:"Recent notifications and alerts",icon:x.Bell,category:"activity"},{id:"quick-actions",name:"Quick Actions",description:"Fast access to common actions",icon:y.Zap,category:"activity"},{id:"activity-timeline",name:"Activity Timeline",description:"Recent platform activity and updates",icon:u.Activity,category:"activity"},{id:"earnings-summary",name:"Earnings Summary",description:"Breakdown of your earnings",icon:z.Coins,category:"stats"},{id:"hot-threads",name:"What's Hot",description:"Trending discussions and popular threads",icon:t.Flame,category:"community"},{id:"leaderboard",name:"Leaderboard",description:"Top contributors, uploaders, and active members",icon:s.Trophy,category:"community"},{id:"week-highlights",name:"Week's Highlights",description:"New, trending, and solved threads from this week",icon:r.TrendingUp,category:"community"},{id:"activity-feed",name:"Live Activity Feed",description:"Real-time updates of forum activity",icon:u.Activity,category:"activity"},{id:"top-sellers",name:"Top Sellers",description:"Best-selling EAs, indicators, and content",icon:r.TrendingUp,category:"content"}];function G({initialData:a}){let{toast:k}=(0,D.useToast)(),[r,s]=(0,c.useState)([]),[t,v]=(0,c.useState)("default"),[x,y]=(0,c.useState)(!1),{data:z,isLoading:G}=(0,B.useQuery)({queryKey:["/api/dashboard/preferences"],initialData:a});(0,c.useEffect)(()=>{if(z){let{widgetOrder:a,enabledWidgets:b,layoutType:c}=z,d=new Map(F.map(a=>[a.id,a]));s(a.map(a=>{let c=d.get(a);return c?{...c,enabled:b.includes(a)}:null}).filter(Boolean)),v(c)}},[z]);let H=(0,C.useMutation)({mutationFn:async a=>(0,E.apiRequest)("POST","/api/dashboard/preferences",a),onSuccess:()=>{E.queryClient.invalidateQueries({queryKey:["/api/dashboard/preferences"]}),y(!1),k({title:"Settings Saved",description:"Your dashboard preferences have been saved successfully."})},onError:a=>{k({title:"Error",description:a.message||"Failed to save preferences",variant:"destructive"})}}),I=(a,b)=>{let c=r.findIndex(b=>b.id===a);if("up"===b&&0===c||"down"===b&&c===r.length-1)return;let d=[...r],e="up"===b?c-1:c+1;[d[c],d[e]]=[d[e],d[c]],s(d),y(!0)},J=r.filter(a=>a.enabled).length;return G?(0,b.jsx)("div",{className:"container max-w-5xl mx-auto px-4 py-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(w.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})}):(0,b.jsxs)("div",{className:"container max-w-5xl mx-auto px-4 py-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3","data-testid":"text-settings-title",children:[(0,b.jsx)(q,{className:"h-8 w-8 text-primary"}),"Dashboard Settings"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Customize your dashboard widgets and layout preferences"})]}),x&&(0,b.jsx)(f.Badge,{variant:"secondary",className:"text-xs","data-testid":"badge-unsaved",children:"Unsaved Changes"})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)(d.Card,{"data-testid":"card-widget-management",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.LayoutDashboard,{className:"h-5 w-5 text-primary"}),"Dashboard Widgets"]}),(0,b.jsx)(d.CardDescription,{className:"mt-1",children:"Choose which widgets appear on your dashboard and arrange their order"})]}),(0,b.jsxs)(f.Badge,{variant:"outline","data-testid":"badge-enabled-count",children:[J," / ",r.length," enabled"]})]})}),(0,b.jsx)(d.CardContent,{className:"space-y-3",children:r.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover-elevate","data-testid":`widget-item-${a.id}`,children:[(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>I(a.id,"up"),disabled:0===c,"data-testid":`button-move-up-${a.id}`,children:(0,b.jsx)(l,{className:"h-3 w-3 rotate-180"})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>I(a.id,"down"),disabled:c===r.length-1,"data-testid":`button-move-down-${a.id}`,children:(0,b.jsx)(l,{className:"h-3 w-3"})})]}),(0,b.jsx)("div",{className:`rounded-lg p-2 ${a.enabled?"bg-primary/10":"bg-muted"}`,children:(0,b.jsx)(a.icon,{className:`h-5 w-5 ${a.enabled?"text-primary":"text-muted-foreground"}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h4",{className:"font-medium text-sm","data-testid":`text-widget-name-${a.id}`,children:a.name}),(0,b.jsx)(f.Badge,{variant:"outline",className:`text-xs ${(a=>{switch(a){case"stats":return"bg-blue-500/10 text-blue-600 dark:text-blue-400";case"community":return"bg-purple-500/10 text-purple-600 dark:text-purple-400";case"content":return"bg-green-500/10 text-green-600 dark:text-green-400";case"activity":return"bg-orange-500/10 text-orange-600 dark:text-orange-400";default:return"bg-muted text-muted-foreground"}})(a.category)}`,children:a.category})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Switch,{checked:a.enabled,onCheckedChange:()=>{var b;return b=a.id,void(s(a=>a.map(a=>a.id===b?{...a,enabled:!a.enabled}:a)),y(!0))},"data-testid":`switch-widget-${a.id}`}),a.enabled?(0,b.jsx)(m.Eye,{className:"h-4 w-4 text-primary"}):(0,b.jsx)(n,{className:"h-4 w-4 text-muted-foreground"})]})]},a.id))})]}),(0,b.jsxs)(d.Card,{"data-testid":"card-layout-options",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Layout Style"}),(0,b.jsx)(d.CardDescription,{children:"Choose how widgets are displayed on your dashboard"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)(A.RadioGroup,{value:t,onValueChange:a=>{v(a),y(!0)},children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover-elevate","data-testid":"layout-option-default",children:[(0,b.jsx)(A.RadioGroupItem,{value:"default",id:"layout-default"}),(0,b.jsxs)(h.Label,{htmlFor:"layout-default",className:"flex-1 cursor-pointer",children:[(0,b.jsx)("div",{className:"font-medium",children:"Default Layout"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Balanced spacing with standard widget sizes"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover-elevate","data-testid":"layout-option-compact",children:[(0,b.jsx)(A.RadioGroupItem,{value:"compact",id:"layout-compact"}),(0,b.jsxs)(h.Label,{htmlFor:"layout-compact",className:"flex-1 cursor-pointer",children:[(0,b.jsx)("div",{className:"font-medium",children:"Compact Layout"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Tighter spacing to show more content at once"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover-elevate","data-testid":"layout-option-comfortable",children:[(0,b.jsx)(A.RadioGroupItem,{value:"comfortable",id:"layout-comfortable"}),(0,b.jsxs)(h.Label,{htmlFor:"layout-comfortable",className:"flex-1 cursor-pointer",children:[(0,b.jsx)("div",{className:"font-medium",children:"Comfortable Layout"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Extra spacing for easier reading and navigation"})]})]})]})})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(d.Card,{"data-testid":"card-preview",children:[(0,b.jsxs)(d.CardHeader,{className:"pb-3",children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Preview"}),(0,b.jsx)(d.CardDescription,{className:"text-xs",children:"Your dashboard will display widgets in this order"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-2",children:[r.filter(a=>a.enabled).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50","data-testid":`preview-item-${a.id}`,children:[(0,b.jsx)(f.Badge,{variant:"outline",className:"w-6 h-6 flex items-center justify-center text-xs p-0",children:c+1}),(0,b.jsx)(a.icon,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{className:"text-xs font-medium truncate",children:a.name})]},a.id)),0===J&&(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(n,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{className:"text-xs",children:"No widgets enabled"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.Button,{className:"w-full",disabled:!x||H.isPending,onClick:()=>{let a=r.map(a=>a.id),b=r.filter(a=>a.enabled).map(a=>a.id);H.mutate({widgetOrder:a,enabledWidgets:b,layoutType:t})},"data-testid":"button-save-changes",children:H.isPending?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),(0,b.jsxs)(e.Button,{variant:"outline",className:"w-full",onClick:()=>{let a=["stats","notifications","quick-actions","activity-timeline","earnings-summary","hot-threads","leaderboard","week-highlights","activity-feed"];F.map(a=>a.id),s(F.map(b=>({...b,enabled:a.includes(b.id)}))),v("default"),y(!0)},"data-testid":"button-reset-default",children:[(0,b.jsx)(o,{className:"h-4 w-4 mr-2"}),"Reset to Default"]})]}),(0,b.jsx)(i.Separator,{}),(0,b.jsx)(d.Card,{className:"bg-muted/30",children:(0,b.jsx)(d.CardContent,{className:"p-4 space-y-2",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(u.Activity,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:"Real-time Updates"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"All widgets refresh automatically to show the latest data"})]})]})})})]})]})]})}a.s(["default",()=>G],74622)}];

//# sourceMappingURL=app_dashboard_settings_DashboardSettingsClient_tsx_486c0f0c._.js.map