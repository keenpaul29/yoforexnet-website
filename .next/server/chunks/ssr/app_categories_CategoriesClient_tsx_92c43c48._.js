module.exports=[127761,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(564690),f=a.i(110132),g=a.i(206893),h=a.i(238246),i=a.i(561792),j=a.i(853390),k=a.i(991868),l=a.i(959162),m=a.i(405539),n=a.i(563588),o=a.i(104720),p=a.i(660246),q=a.i(269439),r=a.i(724669),s=a.i(321161),t=a.i(654074),u=a.i(93518),v=a.i(953722),w=a.i(290669),x=a.i(879808),y=a.i(469769),z=a.i(839761),A=a.i(682478),B=a.i(466384),C=a.i(587532),D=a.i(716106),E=a.i(872089);let F=(0,a.i(170106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var G=a.i(808406);let H={"trading-strategies":q.Lightbulb,"algorithm-development":t.Code,"backtest-results":r.TrendingUp,"live-trading-reports":z.BarChart3,"signal-services":w.Activity,"mt4-mt5-tips":s.Settings,"broker-discussion":p.Users,"risk-management":B.ShieldAlert,"market-analysis":r.TrendingUp,"indicator-library":w.Activity,"ea-reviews":u.Award,troubleshooting:x.Wrench,"trading-psychology":y.GraduationCap,"news-updates":o.FileText,"commercial-trials":A.Rocket};function I({category:a,stats:c,isLoading:d}){let e=H[a.slug]||n.MessageSquare,f=c?.threadCount??a.threadCount,j=a.postCount,k=!!c&&c.newThreads7d>0,l=c?.activeUsers7d??0;return(0,b.jsx)(h.default,{href:`/category/${a.slug}`,"data-testid":`link-category-${a.slug}`,children:(0,b.jsx)(g.Card,{className:"h-full hover:border-primary/30 hover-elevate active-elevate-2 cursor-pointer transition-all duration-200","data-testid":`card-category-${a.slug}`,children:(0,b.jsx)(g.CardContent,{className:"p-3",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"flex-shrink-0 p-2 rounded-lg bg-primary/10",children:(0,b.jsx)(e,{className:"w-5 h-5 text-primary"})}),(0,b.jsx)("div",{className:"flex-1 min-w-0",children:(0,b.jsx)("h3",{className:"font-semibold text-sm line-clamp-1","data-testid":`text-category-name-${a.slug}`,children:a.name})})]}),d?(0,b.jsx)(m.Skeleton,{className:"h-5 w-12"}):k&&(0,b.jsxs)(i.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/30",children:[(0,b.jsx)(G.Sparkles,{className:"w-3 h-3 mr-1"}),"New"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2","data-testid":`text-category-description-${a.slug}`,children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-wrap text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(n.MessageSquare,{className:"w-3 h-3 text-primary"}),d?(0,b.jsx)(m.Skeleton,{className:"h-4 w-8"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-semibold","data-testid":`badge-threads-${a.slug}`,children:f}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"threads"})]})]}),(0,b.jsx)("span",{className:"text-border",children:"•"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(o.FileText,{className:"w-3 h-3"}),(0,b.jsx)("span",{"data-testid":`badge-posts-${a.slug}`,children:j}),(0,b.jsx)("span",{children:"posts"})]}),c&&l>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-border",children:"•"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(p.Users,{className:"w-3 h-3"}),(0,b.jsx)("span",{"data-testid":`badge-active-users-${a.slug}`,children:l}),(0,b.jsx)("span",{children:"active"})]})]})]})]})})})})}function J({initialCategories:a}){let[p,q]=(0,c.useState)(""),{data:s,isLoading:t}=(0,d.useQuery)({queryKey:["/api/categories"],initialData:a,queryFn:async()=>{let a=await fetch("/api/categories",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch categories");return a.json()},refetchInterval:3e4}),{data:u,isLoading:x}=(0,d.useQuery)({queryKey:["/api/categories/stats/batch"],queryFn:async()=>{let a=await fetch("/api/categories/stats/batch",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch category stats");return a.json()},refetchInterval:6e4,staleTime:3e4}),{data:y,isLoading:z}=(0,d.useQuery)({queryKey:["/api/community/stats"],queryFn:async()=>{let a=await fetch("/api/community/stats",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch community stats");return a.json()},refetchInterval:3e4}),{data:A,isLoading:B}=(0,d.useQuery)({queryKey:["/api/community/trending-users"],queryFn:async()=>{let a=await fetch("/api/community/trending-users?period=7d&limit=10",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch trending users");return a.json()},refetchInterval:6e4}),G=s?.filter(a=>a.name.toLowerCase().includes(p.toLowerCase())||a.description.toLowerCase().includes(p.toLowerCase()))||[];if(t)return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)(m.Skeleton,{className:"h-8 w-64 mb-2"}),(0,b.jsx)(m.Skeleton,{className:"h-4 w-96"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(15).fill(0).map((a,c)=>(0,b.jsx)(m.Skeleton,{className:"h-48"},c))})]})]});let H=s?.reduce((a,b)=>a+b.threadCount,0)??0,J=s?.reduce((a,b)=>a+b.postCount,0)??0;return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("div",{className:"border-b bg-gradient-to-br from-primary/5 to-background",children:(0,b.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 py-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4 mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3","data-testid":"heading-categories",children:[(0,b.jsx)(v.BookOpen,{className:"w-8 h-8 text-primary"}),"Forum Categories"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Browse all discussion categories. Choose the right place for your questions and contributions."})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,b.jsx)(v.BookOpen,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold","data-testid":"stat-total-categories",children:s?.length||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Categories"})]})]})})}),(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10",children:(0,b.jsx)(n.MessageSquare,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold","data-testid":"stat-total-threads",children:H.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Threads"})]})]})})}),(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10",children:(0,b.jsx)(o.FileText,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold","data-testid":"stat-total-posts",children:J.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Posts"})]})]})})})]}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-3",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(C.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(l.Input,{placeholder:"Search categories...",value:p,onChange:a=>q(a.target.value),className:"pl-10","data-testid":"input-search-categories"})]})})})]})}),(0,b.jsx)("main",{className:"container max-w-7xl mx-auto px-4 py-6",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:G.map(a=>(0,b.jsx)(I,{category:a,stats:u?.[a.slug],isLoading:x},a.slug))}),0===G.length&&(0,b.jsxs)(g.Card,{className:"p-12 text-center",children:[(0,b.jsx)(C.Search,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No categories found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search terms"})]})]}),(0,b.jsx)("aside",{className:"hidden xl:block w-80 flex-shrink-0",children:(0,b.jsxs)(g.Card,{className:"sticky top-4",children:[(0,b.jsxs)(g.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(D.Flame,{className:"w-5 h-5 text-orange-500"}),(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"Trending Users"})]}),(0,b.jsx)(g.CardDescription,{children:"Most active members this week"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-3",children:[B?[,,,,,].fill(0).map((a,c)=>(0,b.jsx)(m.Skeleton,{className:"h-16"},c)):A&&A.length>0?A.map((a,c)=>(0,b.jsx)(h.default,{href:`/user/${a.username}`,"data-testid":`link-trending-user-${a.userId}`,className:"block",children:(0,b.jsx)(g.Card,{className:"p-3 hover:border-primary/30 hover-elevate active-elevate-2 cursor-pointer transition-all",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,b.jsx)(i.Badge,{variant:"outline",className:`absolute -top-1 -left-1 w-5 h-5 rounded-full flex items-center justify-center p-0 z-10 text-[10px] font-bold ${0===c?"bg-yellow-500/15 text-yellow-700 dark:text-yellow-400 border-yellow-500/30":1===c?"bg-gray-400/15 text-gray-700 dark:text-gray-400 border-gray-400/30":2===c?"bg-amber-600/15 text-amber-700 dark:text-amber-400 border-amber-600/30":"bg-primary/10 text-primary border-primary/20"}`,children:c+1}),(0,b.jsx)(j.Avatar,{className:"w-10 h-10 border-2 border-border",children:(0,b.jsx)(j.AvatarFallback,{className:"bg-primary/10 text-primary font-semibold text-xs",children:a.username.substring(0,2).toUpperCase()})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-sm line-clamp-1","data-testid":`text-trending-username-${a.userId}`,children:a.username}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(r.TrendingUp,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),(0,b.jsx)("span",{"data-testid":`text-trending-contributions-${a.userId}`,children:a.contributionsDelta})]}),(0,b.jsx)("span",{className:"text-border",children:"•"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(E.Coins,{className:"w-3 h-3 text-yellow-600 dark:text-yellow-400"}),(0,b.jsx)("span",{children:a.coinsDelta})]})]})]}),(0,b.jsx)(F,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})})},a.userId)):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[(0,b.jsx)(w.Activity,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"No trending users this week"})]}),A&&A.length>0&&(0,b.jsx)(h.default,{href:"/members",children:(0,b.jsxs)(k.Button,{variant:"outline",className:"w-full mt-2",size:"sm","data-testid":"button-view-all-members",children:["View All Members",(0,b.jsx)(F,{className:"w-4 h-4 ml-2"})]})})]})]})})]})}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>J],127761)}];

//# sourceMappingURL=app_categories_CategoriesClient_tsx_92c43c48._.js.map