{"version":3,"sources":["turbopack:///[project]/node_modules/lucide-react/src/icons/trending-down.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/credit-card.ts","turbopack:///[project]/app/transactions/TransactionHistoryClient.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiAxNyAxMy41IDguNSA4LjUgMTMuNSAyIDciIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjIgMTcgMjIgMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trending-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingDown = createLucideIcon('TrendingDown', [\n  ['polyline', { points: '22 17 13.5 8.5 8.5 13.5 2 7', key: '1r2t7k' }],\n  ['polyline', { points: '16 17 22 17 22 11', key: '11uiuu' }],\n]);\n\nexport default TrendingDown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('CreditCard', [\n  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' }],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n]);\n\nexport default CreditCard;\n","\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport EnhancedFooter from \"@/components/EnhancedFooter\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { \n  Coins, \n  TrendingUp, \n  TrendingDown, \n  CreditCard\n} from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface Transaction {\n  id: string;\n  type: \"earn\" | \"spend\" | \"recharge\";\n  amount: number;\n  description: string;\n  timestamp: Date;\n  status: \"completed\" | \"pending\" | \"failed\";\n}\n\ninterface TransactionHistoryClientProps {\n  initialData?: any[];\n}\n\nexport default function TransactionHistoryClient({ initialData = [] }: TransactionHistoryClientProps) {\n  const { data: ledgerData = initialData } = useQuery({\n    queryKey: ['/api/ledger/history'],\n    initialData,\n  });\n\n  // Transform ledger data to transaction format\n  const transactions: Transaction[] = ledgerData.map((entry: any) => ({\n    id: entry.id?.toString() || entry.timestamp?.toString() || Math.random().toString(),\n    type: entry.amount > 0 ? \"earn\" : entry.description?.toLowerCase().includes(\"recharge\") ? \"recharge\" : \"spend\",\n    amount: entry.amount,\n    description: entry.description || \"Transaction\",\n    timestamp: entry.timestamp ? new Date(entry.timestamp) : new Date(),\n    status: \"completed\" as const,\n  }));\n\n  const getTransactionIcon = (type: Transaction[\"type\"]) => {\n    if (type === \"recharge\") return CreditCard;\n    if (type === \"earn\") return TrendingUp;\n    return TrendingDown;\n  };\n\n  const getTransactionColor = (type: Transaction[\"type\"]) => {\n    if (type === \"recharge\") return \"text-primary\";\n    if (type === \"earn\") return \"text-chart-3\";\n    return \"text-chart-4\";\n  };\n\n  const getStatusBadge = (status: Transaction[\"status\"]) => {\n    if (status === \"completed\") return <Badge variant=\"outline\" className=\"text-xs\">Completed</Badge>;\n    if (status === \"pending\") return <Badge variant=\"secondary\" className=\"text-xs\">Pending</Badge>;\n    return <Badge variant=\"destructive\" className=\"text-xs\">Failed</Badge>;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header />\n      \n      <div className=\"container max-w-4xl mx-auto px-4 py-8\" data-testid=\"container-transaction-history\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">Transaction History</h1>\n          <p className=\"text-muted-foreground\">\n            View all your coin earnings, spending, and recharge history\n          </p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Coins className=\"h-5 w-5 text-primary\" />\n              Recent Transactions\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {transactions.length === 0 ? (\n              <div className=\"text-center py-12 text-muted-foreground\">\n                <Coins className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                <p>No transactions yet</p>\n                <p className=\"text-sm mt-2\">Your transaction history will appear here</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {transactions.map((transaction) => {\n                  const Icon = getTransactionIcon(transaction.type);\n                  const color = getTransactionColor(transaction.type);\n                  \n                  return (\n                    <div\n                      key={transaction.id}\n                      className=\"flex items-start gap-4 p-4 rounded-lg border hover-elevate\"\n                      data-testid={`transaction-${transaction.id}`}\n                    >\n                      <div className={`bg-muted rounded-lg p-2 ${color}`}>\n                        <Icon className=\"h-5 w-5\" />\n                      </div>\n                      \n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-start justify-between gap-2 mb-1\">\n                          <div className=\"font-medium line-clamp-1\" data-testid={`text-description-${transaction.id}`}>\n                            {transaction.description}\n                          </div>\n                          <div className={`font-bold flex-shrink-0 ${color}`} data-testid={`text-amount-${transaction.id}`}>\n                            {transaction.amount > 0 ? \"+\" : \"\"}{transaction.amount}\n                            <Coins className=\"h-4 w-4 inline ml-1\" />\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-center gap-3 text-xs text-muted-foreground\">\n                          <span suppressHydrationWarning>{formatDistanceToNow(transaction.timestamp, { addSuffix: true })}</span>\n                          <span>â€¢</span>\n                          {getStatusBadge(transaction.status)}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      <EnhancedFooter />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}