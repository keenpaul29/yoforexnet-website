module.exports=[6893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(89736);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-4",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-4 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-4 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},21374,a=>{"use strict";let b=(0,a.i(70106).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);a.s(["Star",()=>b],21374)},5539,a=>{"use strict";var b=a.i(87924),c=a.i(89736);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",a),...d})}a.s(["Skeleton",()=>d])},10746,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},11227,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(64690),e=a.i(10132),f=a.i(6893),g=a.i(91868),h=a.i(61792),i=a.i(59162),j=a.i(5539),k=a.i(32954),l=a.i(70106);let m=(0,l.default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),n=(0,l.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var o=a.i(87532),p=a.i(21374),q=a.i(84505),r=a.i(77156),s=a.i(72089),t=(a.i(92e3),a.i(38246));function u({initialContent:a}){let[j,l]=(0,c.useState)("grid"),[u,v]=(0,c.useState)("all"),[w,x]=(0,c.useState)("popular"),[y,z]=(0,c.useState)(""),A=(0,c.useMemo)(()=>{if(!a)return[];let b=[...a];if("all"!==u&&(b=b.filter(a=>a.type===u)),y.trim()){let a=y.toLowerCase();b=b.filter(b=>b.title.toLowerCase().includes(a)||b.description.toLowerCase().includes(a)||b.category.toLowerCase().includes(a))}switch(w){case"popular":b.sort((a,b)=>(b.likes||0)-(a.likes||0));break;case"newest":b.sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime());break;case"rating":b.sort((a,b)=>(b.likes||0)-(a.likes||0));break;case"price-low":b.sort((a,b)=>a.priceCoins-b.priceCoins);break;case"price-high":b.sort((a,b)=>b.priceCoins-a.priceCoins);break;case"sales":b.sort((a,b)=>(b.downloads||0)-(a.downloads||0))}return b},[a,u,y,w]),B=a=>a.postLogoUrl?a.postLogoUrl:a.imageUrls&&a.imageUrls.length>0?a.imageUrls[0]:a.imageUrl?a.imageUrl:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=400&h=300&fit=crop",C=a=>{switch(a){case"ea":return"EA";case"indicator":return"Indicator";case"article":return"Article";case"source_code":return"Source Code";default:return a}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(d.default,{}),(0,b.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Marketplace"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground",children:"Discover and purchase Expert Advisors, Indicators, and Trading Resources"})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search EAs, indicators, articles...",className:"pl-10",value:y,onChange:a=>z(a.target.value),"data-testid":"input-marketplace-search"})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(k.Select,{value:u,onValueChange:v,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[180px]","data-testid":"select-content-type",children:(0,b.jsx)(k.SelectValue,{placeholder:"Content Type"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"All Types"}),(0,b.jsx)(k.SelectItem,{value:"ea",children:"Expert Advisors"}),(0,b.jsx)(k.SelectItem,{value:"indicator",children:"Indicators"}),(0,b.jsx)(k.SelectItem,{value:"article",children:"Articles"}),(0,b.jsx)(k.SelectItem,{value:"source_code",children:"Source Code"})]})]}),(0,b.jsxs)(k.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[180px]","data-testid":"select-sort-by",children:(0,b.jsx)(k.SelectValue,{placeholder:"Sort By"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"popular",children:"Most Popular"}),(0,b.jsx)(k.SelectItem,{value:"newest",children:"Newest First"}),(0,b.jsx)(k.SelectItem,{value:"rating",children:"Highest Rated"}),(0,b.jsx)(k.SelectItem,{value:"price-low",children:"Price: Low to High"}),(0,b.jsx)(k.SelectItem,{value:"price-high",children:"Price: High to Low"}),(0,b.jsx)(k.SelectItem,{value:"sales",children:"Top Selling"})]})]}),(0,b.jsxs)("div",{className:"flex gap-1 border rounded-md p-1",children:[(0,b.jsx)(g.Button,{variant:"grid"===j?"default":"ghost",size:"icon",onClick:()=>l("grid"),"data-testid":"button-view-grid",children:(0,b.jsx)(m,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{variant:"list"===j?"default":"ghost",size:"icon",onClick:()=>l("list"),"data-testid":"button-view-list",children:(0,b.jsx)(n,{className:"w-4 h-4"})})]})]})]}),null,!1,(0,b.jsx)(b.Fragment,{children:0===A.length?(0,b.jsx)(f.Card,{className:"p-8",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[(0,b.jsx)(o.Search,{className:"w-12 h-12 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No content found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your filters or search query to find what you're looking for."})]})]})}):(0,b.jsx)("div",{className:"grid"===j?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(a=>(0,b.jsx)(t.default,{href:`/content/${a.slug}`,"data-testid":`link-content-${a.id}`,children:(0,b.jsx)(f.Card,{className:"hover-elevate active-elevate-2 cursor-pointer h-full","data-testid":`card-content-${a.id}`,children:(0,b.jsx)(f.CardContent,{className:"p-0",children:"grid"===j?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:[(0,b.jsx)("img",{src:B(a),alt:a.title,className:"w-full h-full object-cover"}),(0,b.jsx)(h.Badge,{className:"absolute top-3 right-3",variant:a.isFree?"secondary":"default",children:a.isFree?"FREE":`${a.priceCoins} coins`})]}),(0,b.jsxs)("div",{className:"p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",children:C(a.type)}),(0,b.jsx)("h3",{className:"font-semibold line-clamp-2","data-testid":`text-content-title-${a.id}`,children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.description})]}),(0,b.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Star,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),(0,b.jsx)("span",{className:"font-medium",children:a.likes||0})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(q.Download,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.downloads||0})]})]})})]})]}):(0,b.jsxs)("div",{className:"flex gap-4 p-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("img",{src:B(a),alt:a.title,className:"w-32 h-24 object-cover rounded-lg"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",children:C(a.type)}),a.isFree?(0,b.jsx)(h.Badge,{variant:"secondary",children:"FREE"}):(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-yellow-600",children:[(0,b.jsx)(s.Coins,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.priceCoins})]})]}),(0,b.jsx)("h3",{className:"font-semibold",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.description})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Star,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),(0,b.jsx)("span",{className:"font-medium",children:a.likes||0})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(q.Download,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.downloads||0})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(r.Eye,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.views||0})]})]})]})]})})})},a.id))})})]}),(0,b.jsx)(e.default,{})]})}a.s(["default",()=>u],11227)}];

//# sourceMappingURL=_a9c58255._.js.map