module.exports=[54999,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33217),e=a.i(64690),f=a.i(10132),g=a.i(6893),h=a.i(53390),i=a.i(61792),j=a.i(91868),k=a.i(59162),l=a.i(5539),m=a.i(77573),n=a.i(38246),o=a.i(83077),p=a.i(72089),q=a.i(24669),r=a.i(73320),s=a.i(93518);let t=(0,a.i(70106).default)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var u=a.i(53250),v=a.i(60246),w=a.i(87532),x=a.i(81464),y=a.i(41675),z=a.i(90669),A=a.i(63588),B=a.i(16106),C=a.i(1027),D=a.i(10738);function E({initialData:a}){let[E,F]=(0,c.useState)(""),{data:G,isLoading:H}=(0,d.useQuery)({queryKey:["/api/leaderboard","coins"],queryFn:async()=>{let a=await fetch("/api/leaderboard?type=coins&limit=50",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch");return a.json()},initialData:a.topByCoins,refetchInterval:3e4}),{data:I,isLoading:J}=(0,d.useQuery)({queryKey:["/api/leaderboard","contributions"],queryFn:async()=>{let a=await fetch("/api/leaderboard?type=contributions&limit=50",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch");return a.json()},initialData:a.topByContributions,refetchInterval:3e4}),{data:K,isLoading:L}=(0,d.useQuery)({queryKey:["/api/leaderboard","uploads"],queryFn:async()=>{let a=await fetch("/api/leaderboard?type=uploads&limit=50",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch");return a.json()},initialData:a.topByUploads,refetchInterval:3e4}),M=a=>E?a.filter(a=>a.username.toLowerCase().includes(E.toLowerCase())):a,N=(a,c,d)=>{var e;let{icon:f,color:j}=1===(e=c+1)?{icon:t,color:"bg-yellow-500/15 text-yellow-700 dark:text-yellow-400 border-yellow-500/30"}:2===e?{icon:u.Medal,color:"bg-gray-400/15 text-gray-700 dark:text-gray-400 border-gray-400/30"}:3===e?{icon:u.Medal,color:"bg-amber-600/15 text-amber-700 dark:text-amber-400 border-amber-600/30"}:{icon:o.Trophy,color:"bg-primary/10 text-primary border-primary/20"},k="coins"===d?p.Coins:"contributions"===d?A.MessageSquare:"uploads"===d?r.Upload:z.Activity,l=a.createdAt?(0,D.formatDistanceToNow)(new Date(a.createdAt),{addSuffix:!0}):"Unknown";return(0,b.jsx)(n.default,{href:`/user/${a.username}`,"data-testid":`link-user-${a.id}`,children:(0,b.jsx)(g.Card,{className:"group hover:border-primary/30 hover-elevate active-elevate-2 cursor-pointer transition-all duration-200 h-full",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsxs)("div",{className:"flex-shrink-0 relative",children:[(0,b.jsx)(i.Badge,{variant:"outline",className:`absolute -top-2 -left-2 w-6 h-6 rounded-full flex items-center justify-center p-0 z-10 ${j}`,children:c<3?(0,b.jsx)(f,{className:"w-3 h-3"}):(0,b.jsx)("span",{className:"text-[10px] font-bold",children:c+1})}),(0,b.jsx)(h.Avatar,{className:"w-12 h-12 border-2 border-border group-hover:border-primary/30 transition-colors",children:(0,b.jsx)(h.AvatarFallback,{className:"bg-primary/10 text-primary font-semibold text-sm",children:a.username.substring(0,2).toUpperCase()})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 space-y-1.5",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm line-clamp-1 group-hover:text-primary transition-colors","data-testid":`text-username-${a.id}`,children:a.username}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs text-muted-foreground",children:[(0,b.jsxs)(i.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-muted/50",children:["#",c+1]}),(0,b.jsxs)("span",{className:"truncate",children:["Silver ",a.rank||22]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(k,{className:"w-3 h-3 text-primary"}),(0,b.jsx)("span",{className:"font-semibold","data-testid":`stat-value-${a.id}`,children:"coins"===d?a.totalCoins.toLocaleString():"contributions"===d?a.contributionCount?.toLocaleString()||"0":"uploads"===d&&a.uploadCount?.toLocaleString()||"0"})]}),(0,b.jsx)("span",{className:"text-border",children:"â€¢"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground truncate",children:[(0,b.jsx)(y.Calendar,{className:"w-3 h-3"}),(0,b.jsx)("span",{suppressHydrationWarning:!0,className:"text-[11px] truncate",children:l})]})]})]})]})})})},a.id)};G?.length,I?.length,K?.length;let O=new Set([...(G||[]).map(a=>a.id),...(I||[]).map(a=>a.id),...(K||[]).map(a=>a.id)]).size;return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("div",{className:"border-b bg-gradient-to-br from-primary/5 to-background",children:(0,b.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4 mb-6",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3","data-testid":"heading-members",children:[(0,b.jsx)(v.Users,{className:"w-8 h-8 text-primary"}),"Community Members"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Top contributors, traders, and developers in the YoForex community"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,b.jsx)(v.Users,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:O}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Members"})]})]})})}),(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:(0,b.jsx)(p.Coins,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-top-earner-coins",children:G?.[0]?.totalCoins.toLocaleString()||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Top Coins"})]})]})})}),(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10",children:(0,b.jsx)(A.MessageSquare,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-most-active-count",children:I?.[0]?.contributionCount?.toLocaleString()||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Top Posts"})]})]})})}),(0,b.jsx)(g.Card,{className:"bg-card/50 backdrop-blur-sm",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10",children:(0,b.jsx)(r.Upload,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold","data-testid":"stat-top-publisher-count",children:K?.[0]?.uploadCount?.toLocaleString()||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Top Uploads"})]})]})})})]})]})}),(0,b.jsxs)("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsx)(g.Card,{className:"mb-6",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(w.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(k.Input,{placeholder:"Search members...",value:E,onChange:a=>F(a.target.value),className:"pl-10","data-testid":"input-search-members"})]})}),(0,b.jsxs)(i.Badge,{variant:"outline",className:"gap-2 px-3 py-2",children:[(0,b.jsx)(x.Filter,{className:"w-3 h-3"}),"Leaderboard View"]})]})})}),(0,b.jsxs)(m.Tabs,{defaultValue:"coins",className:"space-y-6",children:[(0,b.jsxs)(m.TabsList,{className:"grid w-full md:w-auto md:inline-grid grid-cols-3 gap-2",children:[(0,b.jsxs)(m.TabsTrigger,{value:"coins",className:"gap-2","data-testid":"tab-coins",children:[(0,b.jsx)(p.Coins,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Top by Coins"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Coins"})]}),(0,b.jsxs)(m.TabsTrigger,{value:"contributions",className:"gap-2","data-testid":"tab-contributions",children:[(0,b.jsx)(q.TrendingUp,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Most Active"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Active"})]}),(0,b.jsxs)(m.TabsTrigger,{value:"uploads",className:"gap-2","data-testid":"tab-uploads",children:[(0,b.jsx)(r.Upload,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Top Publishers"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Publishers"})]})]}),(0,b.jsxs)(m.TabsContent,{value:"coins","data-testid":"content-coins-leaderboard",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:H?Array(12).fill(0).map((a,c)=>(0,b.jsx)(l.Skeleton,{className:"h-32"},c)):M(G||[]).length>0?M(G||[]).map((a,b)=>N(a,b,"coins")):(0,b.jsx)("div",{className:"col-span-full",children:(0,b.jsxs)(g.Card,{className:"p-12 text-center",children:[(0,b.jsx)(s.Award,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No members found"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:E?"Try adjusting your search":"Start earning coins to appear here!"})]})})}),M(G||[]).length>0&&(0,b.jsx)(g.Card,{className:"mt-6 bg-muted/30",children:(0,b.jsxs)(g.CardContent,{className:"p-4 text-center text-sm text-muted-foreground",children:["Showing ",M(G||[]).length," member",1!==M(G||[]).length?"s":""]})})]}),(0,b.jsxs)(m.TabsContent,{value:"contributions","data-testid":"content-contributions-leaderboard",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:J?Array(12).fill(0).map((a,c)=>(0,b.jsx)(l.Skeleton,{className:"h-32"},c)):M(I||[]).length>0?M(I||[]).map((a,b)=>N(a,b,"contributions")):(0,b.jsx)("div",{className:"col-span-full",children:(0,b.jsxs)(g.Card,{className:"p-12 text-center",children:[(0,b.jsx)(q.TrendingUp,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No activity yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:E?"Try adjusting your search":"Start contributing to appear here!"})]})})}),M(I||[]).length>0&&(0,b.jsx)(g.Card,{className:"mt-6 bg-muted/30",children:(0,b.jsxs)(g.CardContent,{className:"p-4 text-center text-sm text-muted-foreground",children:["Showing ",M(I||[]).length," member",1!==M(I||[]).length?"s":""]})})]}),(0,b.jsxs)(m.TabsContent,{value:"uploads","data-testid":"content-uploads-leaderboard",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:L?Array(12).fill(0).map((a,c)=>(0,b.jsx)(l.Skeleton,{className:"h-32"},c)):M(K||[]).length>0?M(K||[]).map((a,b)=>N(a,b,"uploads")):(0,b.jsx)("div",{className:"col-span-full",children:(0,b.jsxs)(g.Card,{className:"p-12 text-center",children:[(0,b.jsx)(r.Upload,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No uploads yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:E?"Try adjusting your search":"Publish your first EA to appear here!"})]})})}),M(K||[]).length>0&&(0,b.jsx)(g.Card,{className:"mt-6 bg-muted/30",children:(0,b.jsxs)(g.CardContent,{className:"p-4 text-center text-sm text-muted-foreground",children:["Showing ",M(K||[]).length," member",1!==M(K||[]).length?"s":""]})})]})]}),(0,b.jsx)(g.Card,{className:"mt-12 bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:(0,b.jsx)(g.CardContent,{className:"p-8",children:(0,b.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,b.jsx)(o.Trophy,{className:"w-10 h-10 text-primary"}),(0,b.jsx)(B.Flame,{className:"w-10 h-10 text-orange-500"}),(0,b.jsx)(C.Zap,{className:"w-10 h-10 text-yellow-500"})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Climb the Leaderboard"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Earn coins, contribute to discussions, and publish quality content to rise through the ranks"}),(0,b.jsxs)("div",{className:"flex gap-4 justify-center flex-wrap",children:[(0,b.jsx)(n.default,{href:"/publish",children:(0,b.jsxs)(j.Button,{size:"lg","data-testid":"button-publish-content",children:[(0,b.jsx)(r.Upload,{className:"w-4 h-4 mr-2"}),"Publish Content"]})}),(0,b.jsx)(n.default,{href:"/earn-coins",children:(0,b.jsxs)(j.Button,{variant:"outline",size:"lg","data-testid":"button-earn-coins",children:[(0,b.jsx)(p.Coins,{className:"w-4 h-4 mr-2"}),"Ways to Earn"]})})]})]})})})]}),(0,b.jsx)("div",{className:"border-t bg-muted/30 mt-12",children:(0,b.jsx)("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-primary",children:O}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Members"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:(G||[]).reduce((a,b)=>a+(b.totalCoins||0),0).toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Coins Earned"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:(I||[]).reduce((a,b)=>a+(b.contributionCount||0),0).toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Contributions"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:(K||[]).reduce((a,b)=>a+(b.uploadCount||0),0).toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Uploads"})]})]})})}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>E],54999)}];

//# sourceMappingURL=app_members_MembersClient_tsx_bccafd02._.js.map