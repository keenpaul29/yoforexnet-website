module.exports=[60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},32246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(33508),f=a.i(89736);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},75036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(47036),e=a.i(32246),f=a.i(91868),g=a.i(60246),h=a.i(24669),i=a.i(93518),j=a.i(63588);function k({open:a,onOpenChange:c,action:k="continue"}){let{login:l}=(0,d.useAuth)();return(0,b.jsx)(e.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(e.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(e.DialogHeader,{children:[(0,b.jsx)(e.DialogTitle,{className:"text-2xl text-center mb-2",children:"Join YoForex Community"}),(0,b.jsxs)(e.DialogDescription,{className:"text-center space-y-4",children:[(0,b.jsxs)("p",{className:"text-base",children:["Sign in to ",k," and be part of thousands of successful traders!"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 my-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(j.MessageSquare,{className:"h-8 w-8 text-primary"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Share Strategies"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(i.Award,{className:"h-8 w-8 text-chart-3"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Earn Gold Coins"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(h.TrendingUp,{className:"h-8 w-8 text-chart-4"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Access Premium EAs"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(g.Users,{className:"h-8 w-8 text-chart-2"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Connect with Pros"})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Free forever â€¢ No credit card required"})]})]}),(0,b.jsxs)(e.DialogFooter,{className:"sm:justify-center gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-auth",children:"Maybe Later"}),(0,b.jsx)(f.Button,{onClick:()=>{l()},"data-testid":"button-login-auth",className:"min-w-[140px]",children:"Sign In / Sign Up"})]})]})})}function l(a="continue"){let{user:e,isLoading:f}=(0,d.useAuth)(),[g,h]=(0,c.useState)(!1);return{requireAuth:a=>{if(!f){if(!e)return void h(!0);a()}},AuthPrompt:()=>(0,b.jsx)(k,{open:g,onOpenChange:h,action:a}),isAuthenticated:!!e}}a.s(["useAuthPrompt",()=>l],75036)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},10746,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},35221,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(89736);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],35221)},39392,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(95245),f=a.i(89736),g=a.i(35221);let h=e.FormProvider,i=c.createContext({}),j=({...a})=>(0,b.jsx)(i.Provider,{value:{name:a.name},children:(0,b.jsx)(e.Controller,{...a})}),k=()=>{let a=c.useContext(i),b=c.useContext(l),{getFieldState:d,formState:f}=(0,e.useFormContext)(),g=d(a.name,f);if(!a)throw Error("useFormField should be used within <FormField>");let{id:h}=b;return{id:h,name:a.name,formItemId:`${h}-form-item`,formDescriptionId:`${h}-form-item-description`,formMessageId:`${h}-form-item-message`,...g}},l=c.createContext({}),m=c.forwardRef(({className:a,...d},e)=>{let g=c.useId();return(0,b.jsx)(l.Provider,{value:{id:g},children:(0,b.jsx)("div",{ref:e,className:(0,f.cn)("space-y-2",a),...d})})});m.displayName="FormItem";let n=c.forwardRef(({className:a,...c},d)=>{let{error:e,formItemId:h}=k();return(0,b.jsx)(g.Label,{ref:d,className:(0,f.cn)(e&&"text-destructive",a),htmlFor:h,...c})});n.displayName="FormLabel";let o=c.forwardRef(({...a},c)=>{let{error:e,formItemId:f,formDescriptionId:g,formMessageId:h}=k();return(0,b.jsx)(d.Slot,{ref:c,id:f,"aria-describedby":e?`${g} ${h}`:`${g}`,"aria-invalid":!!e,...a})});o.displayName="FormControl";let p=c.forwardRef(({className:a,...c},d)=>{let{formDescriptionId:e}=k();return(0,b.jsx)("p",{ref:d,id:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c})});p.displayName="FormDescription";let q=c.forwardRef(({className:a,children:c,...d},e)=>{let{error:g,formMessageId:h}=k(),i=g?String(g?.message??""):c;return i?(0,b.jsx)("p",{ref:e,id:h,className:(0,f.cn)("text-sm font-medium text-destructive",a),...d,children:i}):null});q.displayName="FormMessage",a.s(["Form",()=>h,"FormControl",()=>o,"FormDescription",()=>p,"FormField",()=>j,"FormItem",()=>m,"FormLabel",()=>n,"FormMessage",()=>q])},53465,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(187),e=a.i(89736);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c}));h.displayName="AlertTitle";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));i.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>i,"AlertTitle",()=>h])},36333,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(36570),h=a.i(70025),i=a.i(33217),j=a.i(47036),k=a.i(75036),l=a.i(71871),m=a.i(76725),n=a.i(64690),o=a.i(91868),p=a.i(6893),q=a.i(39392),r=a.i(59162),s=a.i(32954),t=a.i(53465),u=a.i(73570),v=a.i(72089),w=a.i(31998);let x={BTC:5e4,ETH:3e3,USDT:1},y=g.z.object({amount:g.z.coerce.number().min(1e3,"Minimum withdrawal is 1000 coins"),cryptoType:g.z.enum(["BTC","ETH","USDT"]),walletAddress:g.z.string().min(26,"Invalid wallet address").max(100,"Invalid wallet address")});function z({initialUserCoins:a}){let g=(0,d.useRouter)(),{user:z}=(0,j.useAuth)(),{requireAuth:A}=(0,k.useAuthPrompt)(),{toast:B}=(0,m.useToast)(),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)(0),{data:G}=(0,i.useQuery)({queryKey:z?["/api/user",z.id,"coins"]:[],initialData:a,enabled:!!z}),H=(0,e.useForm)({resolver:(0,f.zodResolver)(y),defaultValues:{amount:1e3,cryptoType:"BTC",walletAddress:""}}),I=H.watch("amount"),J=H.watch("cryptoType"),[K,L]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(I&&I>=1e3){let a=(0,w.calculateWithdrawal)(I);L(a),D(a.netAmount/x[J])}else L(null),D(0)},[I,J]);let M=(0,h.useMutation)({mutationFn:async a=>await (0,l.apiRequest)("POST","/api/withdrawals",a),onSuccess:()=>{B({title:"Withdrawal Request Submitted",description:"Your withdrawal request has been submitted and will be processed within 24 hours."}),l.queryClient.invalidateQueries({queryKey:["/api/user",z?.id,"coins"]}),g.push("/withdrawals/history")},onError:a=>{B({title:"Withdrawal Failed",description:a.message||"Failed to create withdrawal request",variant:"destructive"})}});return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(n.default,{}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold","data-testid":"text-withdrawal-title",children:"Withdraw Gold Coins"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Convert your gold coins to Bitcoin or Ethereum"})]}),(0,b.jsxs)(t.Alert,{"data-testid":"alert-processing-time",children:[(0,b.jsx)(u.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsx)(t.AlertTitle,{children:"24-Hour Processing Time"}),(0,b.jsx)(t.AlertDescription,{children:"All withdrawal requests are manually processed within 24 hours. Coins will be deducted immediately upon request."})]}),G&&(0,b.jsxs)(p.Card,{"data-testid":"card-balance",children:[(0,b.jsx)(p.CardHeader,{children:(0,b.jsxs)(p.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Coins,{className:"h-5 w-5 text-yellow-500"}),"Current Balance"]})}),(0,b.jsx)(p.CardContent,{children:(0,b.jsxs)("div",{className:"text-3xl font-bold","data-testid":"text-balance",children:[G.totalCoins," Coins"]})})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsx)(p.CardTitle,{children:"Withdrawal Request"}),(0,b.jsx)(p.CardDescription,{children:"Minimum withdrawal: 1000 coins"})]}),(0,b.jsx)(p.CardContent,{children:(0,b.jsx)(q.Form,{...H,children:(0,b.jsxs)("form",{onSubmit:H.handleSubmit(a=>{z?G&&G.totalCoins<a.amount?B({title:"Insufficient Balance",description:"You don't have enough coins for this withdrawal",variant:"destructive"}):M.mutate(a):A(()=>{})}),className:"space-y-6",children:[(0,b.jsx)(q.FormField,{control:H.control,name:"amount",render:({field:a})=>(0,b.jsxs)(q.FormItem,{children:[(0,b.jsx)(q.FormLabel,{children:"Amount (Coins)"}),(0,b.jsx)(q.FormControl,{children:(0,b.jsx)(r.Input,{type:"number",placeholder:"1000","data-testid":"input-amount",...a})}),(0,b.jsx)(q.FormDescription,{children:"Minimum 1000 coins"}),(0,b.jsx)(q.FormMessage,{})]})}),(0,b.jsx)(q.FormField,{control:H.control,name:"cryptoType",render:({field:a})=>(0,b.jsxs)(q.FormItem,{children:[(0,b.jsx)(q.FormLabel,{children:"Cryptocurrency"}),(0,b.jsxs)(s.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(q.FormControl,{children:(0,b.jsx)(s.SelectTrigger,{"data-testid":"select-crypto-type",children:(0,b.jsx)(s.SelectValue,{placeholder:"Select cryptocurrency"})})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"BTC","data-testid":"option-btc",children:"Bitcoin (BTC)"}),(0,b.jsx)(s.SelectItem,{value:"ETH","data-testid":"option-eth",children:"Ethereum (ETH)"})]})]}),(0,b.jsxs)(q.FormDescription,{children:["Exchange rate: ","BTC"===J?"50,000":"3,000"," coins per ",J]}),(0,b.jsx)(q.FormMessage,{})]})}),(0,b.jsx)(q.FormField,{control:H.control,name:"walletAddress",render:({field:a})=>(0,b.jsxs)(q.FormItem,{children:[(0,b.jsx)(q.FormLabel,{children:"Wallet Address"}),(0,b.jsx)(q.FormControl,{children:(0,b.jsx)(r.Input,{placeholder:"Enter your crypto wallet address","data-testid":"input-wallet-address",...a})}),(0,b.jsxs)(q.FormDescription,{children:["Your ",J," wallet address (26-100 characters)"]}),(0,b.jsx)(q.FormMessage,{})]})}),C>0&&(0,b.jsxs)(p.Card,{className:"bg-muted","data-testid":"card-preview",children:[(0,b.jsx)(p.CardHeader,{children:(0,b.jsx)(p.CardTitle,{className:"text-lg",children:"Withdrawal Preview"})}),(0,b.jsxs)(p.CardContent,{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Amount:"}),(0,b.jsxs)("span",{className:"font-semibold","data-testid":"text-preview-amount",children:[I," coins"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Processing Fee:"}),(0,b.jsxs)("span",{className:"font-semibold","data-testid":"text-preview-fee",children:[E," coins"]})]}),(0,b.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"You will receive:"}),(0,b.jsxs)("span",{className:"font-bold text-lg","data-testid":"text-preview-crypto",children:[C.toFixed(8)," ",J]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(o.Button,{type:"submit",disabled:M.isPending,className:"flex-1","data-testid":"button-submit",children:M.isPending?"Processing...":"Submit Withdrawal Request"}),(0,b.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>g.push("/withdrawals/history"),"data-testid":"button-history",children:"View History"})]})]})})})]})]})})]})}a.s(["default",()=>z])}];

//# sourceMappingURL=_09e48b4b._.js.map