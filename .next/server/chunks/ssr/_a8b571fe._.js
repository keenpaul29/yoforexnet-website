module.exports=[397799,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(189736);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},577573,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(507554),e=a.i(750104),f=a.i(224050),g=a.i(777192),h=a.i(30553),i=a.i(507827),j=a.i(225152),k=a.i(392843),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:l="horizontal",dir:m,activationMode:n="automatic",...o}=a,q=(0,i.useDirection)(m),[r,s]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:r,onValueChange:s,orientation:l,dir:q,activationMode:n,children:(0,b.jsx)(h.Primitive.div,{dir:q,"data-orientation":l,...o,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w;var A=a.i(189736);let B=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...c}));B.displayName=t.displayName;let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(v,{ref:d,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...c}));C.displayName=v.displayName;let D=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(x,{ref:d,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...c}));D.displayName=x.displayName,a.s(["Tabs",()=>r,"TabsContent",()=>D,"TabsList",()=>B,"TabsTrigger",()=>C],577573)},292e3,a=>{"use strict";let b=(0,a.i(170106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],292e3)},73570,a=>{"use strict";let b=(0,a.i(170106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},206893,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(189736);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-4",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-4 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-4 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},110132,a=>{"use strict";var b=a.i(187924),c=a.i(238246);function d(){return(0,b.jsx)("footer",{className:"border-t mt-auto",children:(0,b.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"About YoForex"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Professional EA forum for algorithmic trading. Share strategies, EAs, and earn gold coins for quality contributions."}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Address:"}),(0,b.jsx)("p",{children:"44 Tunnel Avenue"}),(0,b.jsx)("p",{children:"London, United Kingdom"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Legal"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/terms",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-terms",children:"Terms & Conditions"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/privacy",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-privacy",children:"Privacy Policy"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/refund-policy",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-refund",children:"Refund Policy"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/guides/forum-rules",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-rules",children:"Forum Rules"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Support"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)("a",{href:"mailto:support@yoforex.net",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-email",children:"support@yoforex.net"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/support",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-abuse",children:"Report Abuse"})}),(0,b.jsx)("li",{children:(0,b.jsx)("a",{href:"https://t.me/+AIByvTkkIwM3MjFl",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-telegram",children:"Telegram Support"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/support",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-contact",children:"Contact Support"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/feedback",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-feedback",children:"Submit Feedback"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Community"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/discussions",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-discussions",children:"Join Discussions"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/guides/new-member-quickstart",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-quickstart",children:"New Member Guide"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/api-docs",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-api",children:"API Documentation"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/brokers",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-brokers",children:"Broker Directory"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/marketplace",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-marketplace",children:"Marketplace"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Opportunities"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/partnerships",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-partnerships",children:"Partnerships"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/careers",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-careers",children:"Careers"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/guides/marketplace-seller-guide",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-seller",children:"Become a Seller"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:"/earn",className:"text-muted-foreground hover:text-foreground","data-testid":"footer-link-earn",children:"Earn Coins"})})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-8 space-y-4",children:[(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("strong",{children:"Disclaimer:"})," YoForex is a community-driven platform. While we moderate content, we are not responsible for user-generated posts, trading advice, or Expert Advisors shared by members. All trading involves risk. For content removal requests, contact abuse@yoforex.net or use our Telegram support for faster action."]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:["© ",new Date().getFullYear()," YoForex. All rights reserved."]}),(0,b.jsx)("p",{children:"Version v1.2.3 • Build 1761771486385"})]})]})]})})}a.s(["default",()=>d])},821374,a=>{"use strict";let b=(0,a.i(170106).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);a.s(["Star",()=>b],821374)},660246,a=>{"use strict";let b=(0,a.i(170106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],660246)},632246,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(897942),e=a.i(633508),f=a.i(189736);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},275036,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(547036),e=a.i(632246),f=a.i(991868),g=a.i(660246),h=a.i(724669),i=a.i(93518),j=a.i(563588);function k({open:a,onOpenChange:c,action:k="continue"}){let{login:l}=(0,d.useAuth)();return(0,b.jsx)(e.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(e.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(e.DialogHeader,{children:[(0,b.jsx)(e.DialogTitle,{className:"text-2xl text-center mb-2",children:"Join YoForex Community"}),(0,b.jsxs)(e.DialogDescription,{className:"text-center space-y-4",children:[(0,b.jsxs)("p",{className:"text-base",children:["Sign in to ",k," and be part of thousands of successful traders!"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 my-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(j.MessageSquare,{className:"h-8 w-8 text-primary"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Share Strategies"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(i.Award,{className:"h-8 w-8 text-chart-3"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Earn Gold Coins"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(h.TrendingUp,{className:"h-8 w-8 text-chart-4"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Access Premium EAs"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)(g.Users,{className:"h-8 w-8 text-chart-2"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:"Connect with Pros"})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Free forever • No credit card required"})]})]}),(0,b.jsxs)(e.DialogFooter,{className:"sm:justify-center gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-auth",children:"Maybe Later"}),(0,b.jsx)(f.Button,{onClick:()=>{l()},"data-testid":"button-login-auth",className:"min-w-[140px]",children:"Sign In / Sign Up"})]})]})})}function l(a="continue"){let{user:e,isLoading:f}=(0,d.useAuth)(),[g,h]=(0,c.useState)(!1);return{requireAuth:a=>{if(!f){if(!e)return void h(!0);a()}},AuthPrompt:()=>(0,b.jsx)(k,{open:g,onOpenChange:h,action:a}),isAuthenticated:!!e}}a.s(["useAuthPrompt",()=>l],275036)},452495,a=>{"use strict";let b=(0,a.i(170106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],452495)},104416,a=>{"use strict";let b=(0,a.i(170106).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>b],104416)},590545,a=>{"use strict";let b=(0,a.i(170106).default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);a.s(["ThumbsUp",()=>b],590545)},766929,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(370025),f=a.i(971871),g=a.i(547036),h=a.i(275036),i=a.i(564690),j=a.i(110132),k=a.i(206893),l=a.i(991868),m=a.i(561792),n=a.i(577573),o=a.i(397799),p=a.i(276725),q=a.i(821374),r=a.i(104416),s=a.i(73570),t=a.i(724669),u=a.i(452495),v=a.i(590545);let w=(0,a.i(170106).default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var x=a.i(292e3),y=a.i(238246);function z({slug:a,initialBroker:z,initialReviews:A}){let{toast:B}=(0,p.useToast)(),{user:C,isAuthenticated:D}=(0,g.useAuth)(),{requireAuth:E,AuthPrompt:F}=(0,h.useAuthPrompt)("write a broker review"),[G,H]=(0,c.useState)("all-reviews"),[I,J]=(0,c.useState)(0),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),{data:O}=(0,d.useQuery)({queryKey:["/api/brokers/slug",a],initialData:z}),{data:P}=(0,d.useQuery)({queryKey:["/api/brokers",O?.id,"reviews"],initialData:A,enabled:!!O?.id}),Q=(0,e.useMutation)({mutationFn:async()=>{if(!C?.id)throw Error("You must be logged in to review");if(!O?.id)throw Error("Broker not loaded");if(0===I)throw Error("Please select a rating");if(!K.trim())throw Error("Please enter a review title");if(!M.trim()||M.length<50)throw Error("Review must be at least 50 characters");return(await (0,f.apiRequest)("POST","/api/broker-reviews",{brokerId:O.id,userId:C.id,rating:I,reviewTitle:K.trim(),reviewBody:M.trim(),isScamReport:!1})).json()},onSuccess:()=>{O?.id&&(f.queryClient.invalidateQueries({queryKey:["/api/brokers",O.id,"reviews"]}),f.queryClient.invalidateQueries({queryKey:["/api/brokers/slug",a]})),J(0),L(""),N(""),B({title:"Review submitted!",description:"Your review is pending approval."})},onError:a=>{B({title:"Review failed",description:a.message,variant:"destructive"})}}),R=(0,e.useMutation)({mutationFn:async a=>{if(!C?.id)throw Error("You must be logged in");return(await (0,f.apiRequest)("POST",`/api/broker-reviews/${a}/helpful`,{userId:C.id})).json()},onSuccess:()=>{O?.id&&f.queryClient.invalidateQueries({queryKey:["/api/brokers",O.id,"reviews"]}),B({title:"Marked as helpful",description:"Thank you for your feedback."})},onError:a=>{B({title:"Failed",description:a.message,variant:"destructive"})}}),S=a=>(0,b.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>(0,b.jsx)(q.Star,{className:`h-4 w-4 ${c<=a?"fill-primary text-primary":"text-muted-foreground"}`},c))});if(!O)return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(i.default,{}),(0,b.jsx)("main",{className:"container max-w-6xl mx-auto px-4 py-8",children:(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-8 text-center",children:[(0,b.jsx)(x.AlertCircle,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Broker Not Found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"The broker you're looking for doesn't exist or has been removed."}),(0,b.jsx)(y.default,{href:"/brokers",children:(0,b.jsx)(l.Button,{children:"Back to Broker Directory"})})]})})}),(0,b.jsx)(j.default,{})]});let T=(P||[]).filter(a=>"scam-reports"!==G||a.isScamReport);return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(i.default,{}),(0,b.jsxs)("main",{className:"container max-w-6xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)(y.default,{href:"/brokers",children:(0,b.jsx)(l.Button,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-to-directory",children:"← Back to Directory"})}),(0,b.jsx)(k.Card,{children:(0,b.jsx)(k.CardContent,{className:"p-8",children:(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-md bg-muted flex items-center justify-center flex-shrink-0",children:O.logoUrl?(0,b.jsx)("img",{src:O.logoUrl,alt:O.name,className:"w-full h-full object-cover rounded-md"}):(0,b.jsx)(t.TrendingUp,{className:"h-12 w-12 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold","data-testid":"text-broker-name",children:O.name}),O.isVerified&&(0,b.jsxs)(m.Badge,{variant:"default",className:"flex items-center gap-1","data-testid":"badge-verified",children:[(0,b.jsx)(r.ShieldCheck,{className:"h-3 w-3"}),"Verified"]}),O.scamReportCount>10&&(0,b.jsxs)(m.Badge,{variant:"destructive",className:"flex items-center gap-1","data-testid":"badge-scam-alert",children:[(0,b.jsx)(s.AlertTriangle,{className:"h-3 w-3"}),"High Scam Reports"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{"data-testid":"rating-stars",children:S(Math.round(O.overallRating))}),(0,b.jsx)("span",{className:"font-semibold","data-testid":"text-rating",children:O.overallRating.toFixed(1)}),(0,b.jsxs)("span",{className:"text-muted-foreground","data-testid":"text-review-count",children:["(",O.reviewCount," reviews)"]}),O.scamReportCount>0&&(0,b.jsxs)("span",{className:"text-destructive text-sm","data-testid":"text-scam-count",children:[O.scamReportCount," scam reports"]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[O.yearFounded&&(0,b.jsxs)("p",{className:"text-sm","data-testid":"text-founded",children:[(0,b.jsx)("strong",{children:"Founded:"})," ",O.yearFounded]}),(0,b.jsxs)("p",{className:"text-sm","data-testid":"text-regulation",children:[(0,b.jsx)("strong",{children:"Regulation:"})," ",O.regulationSummary||"Not specified"]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[O.websiteUrl&&(0,b.jsx)(l.Button,{asChild:!0,"data-testid":"button-visit-website",children:(0,b.jsxs)("a",{href:O.websiteUrl,target:"_blank",rel:"noopener noreferrer",children:["Visit Website ",(0,b.jsx)(u.ExternalLink,{className:"ml-2 h-4 w-4"})]})}),(0,b.jsx)(l.Button,{variant:"outline","data-testid":"button-write-review",onClick:()=>{let a=document.getElementById("review-form");a&&a.scrollIntoView({behavior:"smooth"})},children:"Write a Review"})]})]})]})})})]}),(0,b.jsxs)(n.Tabs,{value:G,onValueChange:H,children:[(0,b.jsxs)(n.TabsList,{className:"grid w-full grid-cols-2 mb-6",children:[(0,b.jsxs)(n.TabsTrigger,{value:"all-reviews","data-testid":"tab-all-reviews",children:["All Reviews (",O.reviewCount,")"]}),(0,b.jsxs)(n.TabsTrigger,{value:"scam-reports","data-testid":"tab-scam-reports",children:["Scam Reports (",O.scamReportCount,")"]})]}),(0,b.jsxs)(n.TabsContent,{value:G,className:"space-y-4",children:[D&&(0,b.jsxs)(k.Card,{id:"review-form",children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsx)(k.CardTitle,{children:"Write a Review"})}),(0,b.jsxs)(k.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>J(a),className:"focus:outline-none","data-testid":`star-rating-${a}`,children:(0,b.jsx)(q.Star,{className:`h-8 w-8 ${a<=I?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`})},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Review Title"}),(0,b.jsx)("input",{type:"text",placeholder:"Brief summary of your experience",value:K,onChange:a=>L(a.target.value),className:"w-full px-3 py-2 border rounded-md","data-testid":"input-review-title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Your Review"}),(0,b.jsx)(o.Textarea,{placeholder:"Share your experience with this broker... (minimum 50 characters)",value:M,onChange:a=>N(a.target.value),className:"min-h-32","data-testid":"input-review-body"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[M.length," / 50 minimum characters"]})]}),(0,b.jsx)(l.Button,{onClick:()=>E(()=>Q.mutate()),disabled:Q.isPending||0===I||!K.trim()||M.length<50,"data-testid":"button-submit-review",children:Q.isPending?"Submitting...":"Submit Review"})]})]}),!D&&(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"Please log in to write a review"}),(0,b.jsx)(l.Button,{onClick:()=>E(()=>{}),children:"Log In to Review"})]})}),T.map(a=>(0,b.jsxs)(k.Card,{"data-testid":`card-review-${a.id}`,children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg","data-testid":`text-review-title-${a.id}`,children:a.reviewTitle}),a.isScamReport&&(0,b.jsxs)(m.Badge,{variant:"destructive",className:"flex items-center gap-1","data-testid":`badge-scam-report-${a.id}`,children:[(0,b.jsx)(s.AlertTriangle,{className:"h-3 w-3"}),"Scam Report"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsx)("span",{"data-testid":`text-reviewer-name-${a.id}`,children:a.userName}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{"data-testid":`text-reviewer-reputation-${a.id}`,children:[a.userReputation," reputation"]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{"data-testid":`text-review-date-${a.id}`,children:new Date(a.datePosted).toLocaleDateString()})]})]}),(0,b.jsx)("div",{"data-testid":`rating-stars-${a.id}`,children:S(a.rating)})]})}),(0,b.jsxs)(k.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm mb-4 whitespace-pre-wrap","data-testid":`text-review-body-${a.id}`,children:a.reviewBody}),(0,b.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Was this helpful?"}),(0,b.jsxs)(l.Button,{size:"sm",variant:"ghost",className:"gap-2","data-testid":`button-helpful-${a.id}`,onClick:()=>E(()=>R.mutate(a.id)),disabled:R.isPending,children:[(0,b.jsx)(v.ThumbsUp,{className:"h-4 w-4"}),(0,b.jsx)("span",{"data-testid":`text-helpful-count-${a.id}`,children:a.helpfulCount})]}),(0,b.jsx)(l.Button,{size:"sm",variant:"ghost",className:"gap-2","data-testid":`button-not-helpful-${a.id}`,children:(0,b.jsx)(w,{className:"h-4 w-4"})})]})]})]},a.id)),0===T.length&&(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"scam-reports"===G?"No scam reports for this broker.":"No reviews yet. Be the first to review this broker!"}),(0,b.jsx)(l.Button,{className:"mt-4","data-testid":"button-write-first-review",onClick:()=>{H("all-reviews");let a=document.getElementById("review-form");a&&a.scrollIntoView({behavior:"smooth"})},children:"Write a Review"})]})})]})]})]}),(0,b.jsx)(j.default,{}),(0,b.jsx)(F,{})]})}a.s(["default",()=>z],766929)}];

//# sourceMappingURL=_a8b571fe._.js.map